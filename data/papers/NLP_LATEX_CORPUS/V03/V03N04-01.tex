



\documentstyle[epsf,jnlpbbl]{jnlp_j_b5}

\def\MARU#1{}

\newcommand{\yougo}{}

\input{odorizi}

\setcounter{page}{3}
\setcounter{巻数}{3}
\setcounter{号数}{4}
\setcounter{年}{1996}
\setcounter{月}{10}
\受付{1995}{8}{31}
\再受付{1996}{1}{11}
\採録{1996}{2}{20}


\title{国文学作品のテキストデータ記述ルールについて}
\author{安永 尚志\affiref{KOKUBUN}}

\headauthor{安永 尚志}
\headtitle{国文学作品のテキストデータ記述ルールについて}

\affilabel{KOKUBUN}{国文学研究資料館研究情報部}
{Department of Research Information, National Institute of Japanese Literature}

\jabstract{
国文学作品の電子化テキストのためのデータ記述ルールについて検
討した．様々な国文学作品の特徴を整理し，電子化テキストの目的
と研究対象をまとめ，必要なデータ記述のための機能や情報構造に
ついて考察している．データ記述の基本原則を作品の構造とテキス
トの構造に分けて考察し，またデータ表記の様相を分析，評価し，
ルール化についてまとめている．
３つの基本ルールから成るKOKIN ルールと呼ぶデータ記述文法を定
義し，作成した．これは国文学作品を対象とする電子化テキスト記
述用のマークアップ文法である．ルールに基づく電子化データを実
際に作成し，ルールの構文の正当性やルールの有用性などについて
評価している．例えば，電子化データのテキストデータベースや
CD-ROMへの登録，SGMLへの変換などを行っている．これらの結果，
ルールの有効性が確認され，実用性についても高く評価された．
}

\jkeywords{テキストデータ記述文法，テキストデータベース，本文データ，
国文学作品本文データベース，テキスト符号化，{\rm KOKIN}ルール，
国文学データベース，マークアップ}


\etitle{Text Data Description Rules for Japanese\\
  \hspace*{30mm}Classical Literature}
\eauthor{Hisashi YASUNAGA\affiref{KOKUBUN}}

\eabstract{
This paper describes a study on the text-data description
rules for the Japanese classical literature.  We have
investigated the various functions for the text-data
description\hspace{-.1em}by analyzing the research on the Japanese
literature. As the results, we have found that it is
necessary to consider the following three
characteristics. These are the recognition and definition of
the data structure for the literary works or books, of the
text structure, and of the various features in the Japanese
writing style. We have defined and developed the rule with
three functions, called as the KOKIN-rule. 
This is the markup rule for encoding and composing of the
electronic text on the Japanese literature. Many electronic
texts have been defined based on the rule, such as a series
of short stories, 21 Tanka anthologies, etc. Then, it is 
widely evaluated for the texts as the consistency and
availability on the data description. Particularly, we have
confirmed that it can be applicable to the other
researches, such as the organization of text databases,
registration to CD-ROMs, and conversion to the SGML
standard.
}

\ekeywords{Text-Data Description Rules, Full-Text Database, Text data,
Full-text Database for Japanese Literature, Text Encoding,
KOKIN Rules, Japanese Literary Databases, Mark-up}

\begin{document}
\maketitle


\section{まえがき}
\label{sec:1shou}


最近，国文学の分野においても，文学作品のテキストをコンピュー
タに入力し，研究に活用しようとする動きが盛んである~\cite{dbwest:95}．
これは日本語処理可能なパソコンなどの普及により，国文学の研究者が，自分の
手でデータを作成する環境が整ってきたことによる．すでに，多くの文学作品が
電子化テキストとして作成され，蓄積され，流通され始めてきている．

例えば，村上ら~\cite{murakami:89} による語彙索引作成を目的とした
幸若舞の研究は，最も初期のものである．これは田島ら~\cite{tazima:82} に
より，万葉集を始めとする多くの文学作品の電子化テキスト作成の
試みに引き継がれている．最近では，内田ら~\cite{utida:92} は情報処
理語学文学研究会の活動を通じて，パソコン通信などにより電子化
テキストの交換を行っている．また，伊井，伊藤ら~\cite{ii:93,ito:92}
による国文学データベースの作成と電子出版活動も注目さ
れている．とくに，源氏物語諸本の８本集成データベースや国文学
総合索引の研究成果がある．一方，長瀬~\cite{nagase:90} は源氏物語の
和英平行電子化テキストを作成し，オックスフォード大学に登録し
公開した．また，出版社による電子化テキストの提供サービスも始ま
っている~\cite{benseisha:93,iwanami:95}．

しかしながら，大きな問題がある．一般に，研究者は自分のための
データを作っている．そのため，システム，文字コ−ド，外字処
理，データの形式や構造などに関しての仕様が，研究者個人に依存
している．さらに，蓄積した情報資源の流通をあまり意識していな
い．すなわち，苦労して蓄積したデータが活用されにくく，また同
じ作品の重複入力の問題などが指摘されている．

したがって，データ入力の共通基盤の確立と適切な標準化が必要で
ある．とくに，文学作品の電子化テキストを作るためのデータ記述
ルールが必要である．現在，人文科学のための定まったデータ記述
のルールは無い．SGML：Standard Generalized Markup Language~\cite{JIS:94}
に基礎をおくTEI:Text Encoding Initiativeなどの活動~\cite{burnard:94} があ
るが，その成果は未だ実用化に至っていない．とりわけ，人文科学領域の日本語
テキストへの適用は，国文学における数例~\cite{hara:95} を除けばほとんど無い．

国文学研究資料館において，電子化テキストのデータ記述について
の試みがなされてきている
~\cite{yasunaga:92,yasunaga:94,yasunaga:95b,kokubun:92}．
例えば，日本古典文学大系（岩波書店），噺本大系（東京堂出版）などの全作品
の全文データベースの開発が進められている．
また，最近では正保版本歌集「二十一代集」を直接翻刻~\footnote{
  国文学の用語はまとめて，付録\ref{sec:furoku1} で解説している．
  なお，国文学ではテキストを本文（ホンモン）と言う．
  以下では本文を用いる．}
しながら，データベースに構築している．これらはテキストのデ
ータベース化を指向したものであるが，テキストデータの記述のた
めの基準文法が定められている．この基準文法をKOKIN
（KOKubungaku INformation）ルールと呼んでいる．KOKIN ルール
は国文学作品を対象とする電子化テキスト記述用のマークアップ文
法である．

本稿は，国文学作品テキストのデータ記述文法について述べてい
る．第２章では，電子化テキストの目的と研究対象をまとめ，デー
タ記述の考察上不可欠と考えられる本とテキストの情報構造を分析
し，まとめている．第３章では，データ記述のルール化のための基
本原則を考察している．作品とテキストの構造記述が必要なこと，
及びテキスト表記の記述が必要なことなどをまとめている．第４章
では，KOKIN ルールを３つの基本ルールに分けて定義し，それぞれ
について考察している．第５章では，実際のデータ作成とそれに基
づくデータベース作成の事例などから，KOKIN ルールを評価してい
る．研究成果としては，すでに国文学研究資料館において，本文デ
ータベースとして試験運用が開始されている．研究者による利用結
果からは，文学研究に有用であるとの評価を得，概して評判がよ
い．最後に，問題点などを整理している．

\section{電子化本文作成のための条件整理}
\label{sec:2shou}

\subsection{電子化本文の目標}
\label{sec:2.1setu}

電子化本文の作成は研究の効率化をはかることが目的であるが，新しい研究テー
マへの展開やデータベースとしての発見的利用も期待されている．例えば，大量
の資料，情報を扱った考察が可能になり，自説の組立や確認の度合いが飛躍的に
高まる．単語や語形の検索はもとより，単語が現れる環境の調査が可能になる．
組版などの印刷物では表せないことが可能になる．さらに，作品に記載されてい
ないことの発見的検索が可能になる~\cite{kondou:91}．

国文学の研究対象は，上代の神話から現代の作品まで全ての時代に渡り，地域的
にも歴史上のわが国全土を網羅する．また，古典文学は千数百年に渡る歴史を持
ち，ジャンルも多様である．表１に，散文，韻文，戯曲のカテゴリに大別し，そ
の代表的ジャンルの例を示す．しかし，絵詞\yougo のようにこの分類に馴染まない
ものも多い．
\vspace*{-2mm}
\begin{table}[htbp]
  \begin{center}
    \leavevmode
    \caption{国文学作品のジャンル区分}
    \label{tab:hyou1}

    \def\arraystretch{}
    \begin{tabular}{c|l} \hline
      カテゴリ & \multicolumn{1}{c}{ジャンル} \\ \hline
      散文   & 神話，伝承，風土記，縁起，史書，軍記，物語，\\[-1mm]
             & 説話，論評，随筆，日記，紀行 \\ \hline
      韻文   & 歌謡，和歌，連歌，俳諧，漢詩，和讃，今様 \\ \hline
      演劇   & 能，狂言，歌舞伎，浄瑠璃，催馬楽 \\ \hline
      その他 & 祝詞，声明，宣命，談義，絵詞，絵解き \\ \hline
    \end{tabular}
  \end{center}
\end{table}
\vspace*{-2mm}

このような様々な作品を統一的に電子化することは不可能である．そこで，次の
ような段階を経ながら，電子化の経験を積むこととした．

\begin{description}
\item[第１段階:] 時代，ジャンルを網羅するような基準本文を作る．
\item[第２段階:] 個別のジャンルまたは作品の深化を行う．
\end{description}

これは，まず国文学作品の全般的な様相を知り，次いで個別の作品の伝本の全て
の本文校訂に進むことを可能とするプロセスを考えるためである．
したがって，第１段階での網羅性は文学作品の本文の全体的な様相を把握し，そ
の上で電子化の方策を考えることが可能な程度の作品の種類と量を必要とする．
また，これには実際にデータを作成し，その過程から知識を得て行くことが不可
欠である．

また，写本や刊本\yougo から直接電子化本文を作ることはかなり難しい．規範的な
標本があれば，あるいは典拠と言って良いが，作業効率は格段に高まる．研究者
が最も望むものは，第２段階の専門領域の電子化本文である．基準本文は第２段
階の電子化本文作成にとって，重要な要件と考えられる．

何を基準とするかの問題がある．国文学や歴史学では古記録，古文書，古典籍な
どの研究対象資料（文献資料と言う）を翻刻する場合に，校訂作業が不可欠であ
る．作品の多くの伝本\yougo を比較参照し，書写文字などによる本文の意味や用法
を考察し，作品の本文を定める（定本と言う）．すなわち，校訂本が作られる．
このことから，基準本文には定本としての校訂本を基礎とすべきである．

現在までに研究対象とした作品の一覧を，表２に示す．これらは二十一代集を除
き，校訂本からのデータ作成である．第１段階として，時代及びジャンルを網羅
した規範的な校訂本のデータベースを準備することを目標にして，
選定している．
\begin{table}[htbp]
  \begin{center}
    \leavevmode
    \caption{本文データベースの研究対象作品}
    \label{tab:hyou2}

    \def\arraystretch{}
    \begin{tabular}{c|c|c|c|c} \hline
      & 日本古典文学大系 & 噺本大系   & 假名草子集成 & 正保版本歌集* \\[-4mm]
      校訂本 & & & & \\[-4mm]
      & 岩波書店         & 東京堂出版 & 東京堂出版   & 二十一代集 \\ \hline
      & 全100巻   & 全20巻  & 全12巻  &  \\[-2mm]
      作品数 &
        約560作品 & 380作品 & 70作品  & 全21作品 \\[-2mm]
      &           & 約2万噺 & 約1千話 &          \\ \hline
      文字数 & 約3千万字 & 約700万字 & 約400万字 & 約150万字 \\ \hline
       & 約3千字\hspace*{3.4mm}  & 無し     & 約100字 & 無し \\[-4mm]
       外字数 & & & & \\[-4mm]
       & 約600字** & {\footnotesize (絵文字などを除く)} &
       {\footnotesize (絵文字などを除く)} & \\ \hline
      \begin{minipage}[t]{15mm}
        \vspace*{5mm}
        \begin{center}備考\end{center}
      \end{minipage}
      & \begin{tabular}[t]{@{}c@{}p{23mm}@{}}
          ・ & 校訂本\\[-1.5mm]
          ・ & 時代，ジャンルを網羅する規範的本文\\[-1.5mm]
        \end{tabular}
      & \begin{tabular}[t]{@{}c@{}p{23mm}@{}}
          ・ & 校訂本\\[-1.5mm]
          ・ & 江戸前期，中期の小話集\\[-1.5mm]
          ・ & 小噺の類型化などに最適\\
        \end{tabular}
      & \begin{tabular}[t]{@{}c@{}p{23mm}@{}}
          ・ & 校訂本\\[-1.5mm]
          ・ & 室町期，江戸前期の説話集 \\[-1.5mm]
        \end{tabular}
      & \begin{tabular}[t]{@{}c@{}p{23mm}@{}}
          ・ & 版本である \\[-1.5mm]
          ・ & 翻刻と同時に，データベース化 \\[-1.5mm]
        \end{tabular} \\ \hline
    \end{tabular}

    \bigskip
    {\small
    \begin{tabular}{cl@{~}l}
      〈注〉 & *  & 校訂本ではなく，版本である．\\[-2mm]
             & ** & 国文学研究資料館作成JIS外字を除く，
                    作成すべき外字の概数．\\[-2mm]
             &    & なお，文字数は概数で示す．\\[-2mm]
    \end{tabular}
    }
  \end{center}
\end{table}

\subsection{電子化本文の情報構造}
\label{sec:2.2setu}

\subsubsection{本文と本の情報構造}
\label{sec:2.2.1setu}


電子化本文を作成するに当たって，まず取り扱う情報の種類と性質を整理する必
要がある．本文は校訂本から選んだ．このとき，この本文は校訂という枠組の中
で成立する．すなわち，電子化本文は純粋な本文データの他に，校訂に関する情
報を持つ必要がある．本文データが単独で利用されることはない．本文とその本
に関する情報は不可分である．

図１に，このような情報を階層的に構造化して示す．これは本と作品，本文の情
報構造を明確化し，その上で本の論理構造を定義するものである．国文学におけ
るこのような整理はなく，図１はやゝ常識的ではあるが，現在有用であるとされ
ている．

ここで，本と作品の物理構造を考えておく．本は作品を記載する．この関係は通
常は１対１であるが，古典籍では多対１あるいは逆に１対多も多い．多対１は作
品が分冊される形態であり，１対多は複数の作品がまとめられる場合である．こ
れは伝本の形態によって異なる．このような情報構造は図１によって記述でき
る．さらに，よく和歌集などに見られる合綴本などの構造記述も可能である．
なお，本文が文献資料から直接選ばれる場合も，実質的に翻刻，校訂作業を経る
から，図１の情報構造が適応できる．

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \vspace*{-2mm}
\epsfile{file=1-1.eps,width=118mm}
\vspace*{5mm}
    \caption{電子化本文の情報構造の解析と定義}
    \label{fig:1}
  \end{center}
\end{figure}

\subsubsection{本の情報構造}
\label{sec:2.2.2setu}


図１(a) は，本の構造を示す．本の構造は本の物理的なモノとしての種類と形態
を表す．本は伝来されたものである．これを本の系譜構造として把握する．ま
た，本の情報とは本に関わる情報，言わば属性情報であり，階層化して定義す
る．

本の情報構造は３レベルの階層で定義する．図において，本の情報は文献資料情
報と校訂本情報とから成る．

文献資料情報は底本\yougo ,諸本（または異本\yougo とも言う），
それらの系譜に関わる情報から成る．
また，底本情報は書誌，所蔵，及び成立に関する情報から成
り，諸本情報も同様である．書誌，所蔵に関わる情報は図書館などで一般に用い
られている情報に加え，古典籍特有の情報項目を持つ．成立情報は底本及び諸本
の本文の成立に関わる情報である．通常，校訂は底本を基軸とし他の伝本を参照
しながら行われる．すなわち，底本は諸本の中で位置付けられる．位置付けに関
わる情報は本の成立に関わる構造の把握と考えられる．

一方，校訂本情報は本としての構造を持ち，書誌情報などによって同定される．
校訂本には成立に関する情報は無いと考えられるが，ここでは一般化して考え
る．同一の作品には複数の校訂本があるが，校訂本としての性格から独立して扱
うことは可能である．ただし，文献資料情報と同様に諸校訂本との関連を参照す
る必要がある場合には，諸校訂本情報として記述する~\footnote{
  以下，底本に関する用語には“元”を付し，校訂本に関する用語には“原”を
  付して，混乱を避ける．例えば，底本ではその本文を元・本文とし，校訂本は
  その本文を原・本文とする．また，校訂本を原本と呼び，その行を原行，語を
  原語などと呼ぶ．}．


\subsubsection{本文の情報構造}
\label{sec:2.2.3setu}

図１(b) は，本文に関する情報の構造である．本文情報は元・本文情報，原・本
文情報，及び校訂情報から成る．本文情報はその出典により，２種類に大別され
る．両者は全く異なるものである．

元・本文情報とは底本に記載されている本文と，それへの種々の書き込みなどの
情報である．書肆的な情報なども含む．校訂により，元・本文情報は校訂本文で
ある原・本文情報に変換される．

原・本文情報は本文と傍記の形式で表記される．ここで，本文とは主たるテキス
トを指す．傍記は本文を構成する文，語，字などへ直接付加されたテキストであ
る．例えば，校異\yougo ,振り仮名や振り漢字などがある．

また，校訂本には作品の本文の他に校訂に関わる様々な情報を伴う．例えば，解
題\yougo ,解説，頭註\yougo または脚註，凡例などである．
これらを校訂情報と呼ぶが，
単なる註ではなく校訂本のテキストの形態の１つである．ところで，校訂情
報は狭義の校訂情報と校註情報と呼ぶ２つの情報から成る．狭義の校訂情報は解
題などのように作品全体に関わる情報であり，テキスト形態の１つである．校註
情報は頭註など本文の語彙などに関わる情報である．上述の傍記とは異なるもの
である．

さらに，校註情報は校訂註と解説註に分けて考える．校訂註は本文の異同に関す
る校訂者の見解や従来の考え方などの参照である．校異に関する註記であるの
で，校訂上とくに重要な情報と考えられる．解説註は主に本文中の様々な事項に
関する解説である．例えば，人物，儀式，官位，あるいはテキストの解釈などで
ある．いずれもテキスト形態の１つと考えられる．


\subsubsection{電子化本文の論理構造}
\label{sec:2.2.4setu}

図１(c) に示すように，論理的な原本の構造を定義する．電子化の直接的な対象
は原本すなわち校訂本である．原本はその版面情報を保存することを原則とす
る．理由は電子化本文の根拠を原本において，データの信頼度を保証する必要が
あるためである．すなわち，原本通りのデータがデータベースに写像されていな
ければならない．

そこで，原本を論理化して考える．論理原本は論理ファイルから成る．すなわ
ち，原本の各ページを論理ファイルとして定義する．論理ファイルは原本のその
ページに限定された原文の集まりである．通常，ページや原行の始端または終端
では文の中断が起こり得る．これを認識したり，また意味のある文の単位を確定
したりすることは結構難しい．

文の単位を形式的に定義する．原文は形式的に原行の集合から構成されるから，
論理ファイルは原行から構成するものとする．すなわち，文を行によって形式的
に定義する．これを論理レコードと呼ぶ．論理レコードはまた原語及び原字から
構成される．論理ファイル中の論理レコードは順序性を保存し，かつ論理ファイ
ル自体も順序性を持つ~\footnote{
  校訂本では文の区切りは存在する．文を記述の単位とすることは常識であろう
  が，ここでは原本での文（論理レコード）の位置付けを重視した．文，あるい
  は語などへの分かち書きは，第１，第２段階では意識しないで，利用者による
  ものとしている．}．

以上のことから，電子化本文のデータ記述においては，本の構造，作品の構造，
本への作品の位置付けなどを考慮しなければならないことが分かった．また，本
文を構成する文，語，字などの要素に対応する傍記と呼ぶテキスト形態の１つ
を，本文記述としてルール化しなければならない．



\subsection{本文のデータベース化指向}
\label{sec:2.3setu}

文学研究には本文とそれに関わる諸情報が，同時に参照，処理できなければなら
ない．これは，全文をコンピュータに単に蓄積しただけでは進められない．本文
情報のデータベース化を指向する必要がある．全文と様々な属性情報から成る総
合的なデータベースを，校訂本文データベースと呼ぶ．

電子化本文は本文と傍記から成るが，これは並列的なテキストである．また，校
訂情報や校註情報などが加わり，マルチテキストである．とくに，本文は諸本の
系譜の中で位置づけられ，諸本の本文比較などが可能でなければならない．本文
の氏素性の関連と同定に関する多種多様な情報を組織化し，活用しなければなら
ない．

すなわち，このような多重構造を持ったデータの世界は，データベースとして構
築することが適当と考えられる．さらに，研究者の研究目的，方法，対象によっ
て自由な活用ができることが不可欠である．例えば，ハイパーテキストなどのユ
ーザインタフェースにより，柔軟かつ高次の活用に応える必要がある．

このことから，まず大型コンピュータのデータベース機能を活用し，本文データ
ベース化の基本的開発研究を行うこととした．この成果に基づき，次いでパーソ
ナルデータベース化を進める．パーソナルデータベースではデータの流通を考慮
して，例えばCD-ROMなどのパッケージ型の自立型テキストを考慮する．

なお，データ記述のルールにはデータベース化を指向した機能を考慮する必要が
ある．


\section{データ記述のための基本原則}
\label{sec:3shou}


\subsection{本文の構造}
\label{sec:3.1setu}

\subsubsection{作品の構造}
\label{sec:3.1.1setu}

文学作品の構造を定義しなければならない．通常，SGMLでは文書型定義
（DTD:Document Type Definition）と呼ばれるもので，ここではこれを作品型定
義（TTD:Text-data Type Definition ）と呼ぶ．一般に，TTD は全てに共通する
ような標準型が定義できるわけではない．韻文，散文，戯曲の文体毎に，さらに
細かいジャンル対応にTTD を定義する必要がある．すなわち，作品毎にTTD を置
く．なお，現在一般に定まった本文DTDまたはTTDは無い．

本文研究では，作品の掲載されている原本の体裁などの情報が必要とされる．例
えば，原本の何ページの何行目の文という同定が必要である．これは，諸本の本
文の様々な差異の対比において必要とされる．通常，SGMLでは文書の構造を論理
的なものとして本の体裁，すなわちフォーマットを分離して考える．しかし，古
典テキストの研究では，本の物理的な構造と論理的な構造を一体化した考え方を
とることが要求される．すなわち，本文の位置情報が必要である．ある本におけ
るその文の現れる位置の同定である．

原本に記載されている底本の位置情報も不可欠な情報である．例えば，表２の噺
本大系では原・本文中に「（十五ウ）」などと表記されているが，これは「この
位置までが底本の15枚目の裏であること」を意味する．

ところで，底本の文，語，字などと校訂本の文，語，字などとの対応は，研究上
不可欠な情報として同定されなければならない．換言すれば，写本のテキストと
活字本のテキストの文の対応，同定である．しかしながら，このデータ作成は専
門家によるかなり高度な作業を必要とする．しかも，作業の負荷がたいへんに重
い．そのため，この課題は将来課題とせざるを得ない．

以下の考察のために，図２に，表２の東京堂出版「噺本大系」の第五巻「軽口大
わらひ」の版面コピーを示す．また，図３に噺本大系の作品構造を５レベルの階
層構造で定義する例を示す．なお，記号などは後述する．


\begin{figure}[htbp]
  \begin{center}
    \leavevmode
\epsfile{file=1-2.eps,width=124mm}

    \caption{「噺本大系」第五巻「軽口大わらひ」の版面例}
    \label{fig:2}
  \end{center}
\end{figure}


\begin{figure}[htbp]
  \begin{center}
    \leavevmode
\epsfile{file=1-3.eps,width=85mm}
\vspace*{5mm}

    \caption{噺本大系の作品構造の階層性}
    \label{fig:3}
  \end{center}
\end{figure}

\subsubsection{本文の構造}
\label{sec:3.1.2setu}

次に，本文の構造を把握しなければならない．いわゆる文体である．当然，本文
の構造はジャンルにより異なり，同じジャンルでも時代や本の体裁により異な
る．

原・本文は多くの文から構成されている．文には多くの種類がある．データ記述
に当たって，文を１つの単位とすることが望まれるが，意味のある文の確定は困
難である．そこで，前述のようにデータ記述の基本的単位を論理レコードとし
た．

論理レコードの識別のための記述子をタグと呼ぶ．論理レコードは原本上の位置
を保存し，かつ種別についてタグによりマークアップされる．タグには原本の構
造を定義するタグと，原・本文の構造を定義するタグがある．論理レコードの順
序性はタグにより保持する．

意味のある論理レコードの集まりを定義する．論理レコード集と呼ぶ．例えば，
和歌集の中の１つの歌の範囲を決める論理レコードの集まり，すなわち作者，
題，詞書き，歌などのまとまりである．あるいは，図３に示すような小噺の１つ
の単位などである．

論理ファイルは形式的な論理レコードの集まりとして取り扱う．一方，論理レコ
ード集は上例のように意味のある構造を抽出する場合に用いる．
\newpage

\subsection{本文表記の構造}
\label{sec:3.2setu}

\subsubsection{表記の様相}
\label{sec:3.2.1setu}

現代文，古文を問わず日本語には欧米文と異った特有の表現がある．文は分かち
書きの無い文であり，とくに古文では句読点も無い．

文は縦書きであり，割書\yougo ,虫喰い\yougo ,囲み\yougo があり，
読み，振り，訓点\yougo ,ヲコト点\yougo ,
各種註記などの多様な傍記を持っている．さらに，任意の位置
に参照や書込みがあり，挿し絵，解題，頭註または脚註があり，系図があり，
「何々を見よ」などの引用や遷移もある．すなわち，作品は本文と各種情報が混
在したハイパーテキスト的である（図２の版面参照）．


\subsubsection{フラグ方式}
\label{sec:3.2.2setu}

原・本文は本文と傍記によって表現される．本文の記述には文字セットを除き特
段のルールは必要ではない．傍記の記述にはルールが必要である．一般に，傍記
はその文の要素への指示として表される．文の要素を本文素と呼ぶ．本文素とは
意味のある語や字を単位とする概念ではなく，傍記の対象となる語や字などの論
理的な単位である．傍記は必ずしも意味のある語に指示されるわけではなく，例
えばその語にとって意味的に不可分の下位構成語や字に指示されることも多い．
傍記の表記は本文素に対する並列的なまた補足的な文や記号から成る．これを傍
記素と呼ぶ．

したがって，本文素に対する傍記の位置付けが決まればその記述が可能である．
この位置付けの記述子はフラグと呼ばれる．フラグは本文素並びに本文素の間に
対する傍記の位置を示すために使用する．本文素の間とは字間や語間などであ
り，傍記はこれらの間にも指示される．これにより，傍記を論理レコード中に埋
め込み記述することができる．

一方，特殊な構造を持つ文の表記形式については，フラグを構造的に定義する制
御記号を定め，その変換規則を定める．これらには虫喰いとその各種変形，図式
的なテキスト表現（系図など），割書，２重傍記，版本における書誌的事項など
が定義されている．


\subsubsection{文字セット}
\label{sec:3.2.3setu}

文字種が多い．本文は書写による時代による複雑な変遷，伝搬過程がある．電子
化本文の文字セットを閉じることは不可能である．文字セットには梵字\yougo など
の各国語文字，踊り字\yougo ,謡印\yougo ,音曲記号，注記記号などの他，
絵文字に代表されるような特殊な文字や記号もある．

原文に使われている文字セットは原則として保存する．ただし，踊り字，謡印な
どのような特殊な文字や記号は，適切な文字や記号に置換する．

例として，日本古典文学大系を見てみる．これは旧漢字，旧仮名使いで表記され
ている．現在の JISコ−ド表（JIS 78を用いている）では漢字字体についての規
則性はなく，旧字体と新字体が混在している．そのため， JISコ−ド表に定義し
ている旧漢字はそのまま使う． JIS外の旧漢字でその新字体が JIS内にある場合
はこの新字体を用いる．その新字体が JIS外であればその文字を作成する．JIS 
外字の内，新字体を持たない旧字体の漢字は作成する．国文学研究資料館が定義
する JIS外字（約2600字）は基本文字として使う．

このような簡単な規則を定めて電子化した場合に，日本古典文学大系には約３千
種の JIS外字がある．この内の約 600種は作成すべき文字と認識されている．た
だし，データ流通を考える場合にはあまり JIS外字を増やすべきではない．
なお，噺本大系はJIS 内字に拠っているので，JIS 外字はないが，この場合には
絵文字などの特殊文字が多い．

使用する文字セットはその型を TTDの先頭で定義する．

\subsection{付加価値づけ}
\label{sec:3.3setu}

国文学の電子化本文に要求される機能に，まず語彙索引の作成がある．日本語に
よる文は語単位の分かち書きの無い文からなる．そこで，日本語の全文データベ
ースを作成する場合は，その文を分かち書きしなければならない．さらに，その
単位毎に表記，読み，品詞などの属性情報を付加する必要がある．しかし，分か
ち書きを行うことは一般に容易ではない．

次のような問題がある．作品は時代，ジャンルの範囲が広範である．また，作品
は個々に文体が異なるために，語彙索引の作成，管理，利用の取扱いが異なる．
最も重要な点は，研究者によって語単位の確定やその属性に対する認識が異なる
ことである．

したがって，第１段階では分かち書きをしたデータ作成は行わない．利用する研
究者が行うものとする．そのための分かち書きと属性付加に関するルールのみを
定める．


\section{データ記述文法 --- KOKIN ルール}
\label{sec:4shou}


\subsection{前提}
\label{sec:4.1setu}

上記の問題を全て解決できているわけではない．電子化本文の対象は前述の校訂
本，版本であるから，符号化の規則はこの範囲を原則としている．KOKIN ルール
と呼ぶデータ記述文法を定め，データ作成に当った．これは自立型のデータファ
イルとして流通できること，並びに本文データベースに登録できることを条件に
している．KOKIN ルールは３種の規則から成る．

なお，この規則は研究者が日常的に使用できることを前提に作られており，単純
ではあるが機能は充足していなければならない．以下に，ルールの基本構造をま
とめる．文献\cite{yasunaga:95a} による噺本大系を具体例に用いる．


\subsection{KOKIN ルール＃１}
\label{sec:4.2setu}

KOKIN ルール＃１は作品の TTDを定義する． TTDは論理ファイルの順序並びであ
る．論理ファイルは論理レコードの順序並びである．論理レコードはその型と性
質がタグにより定義される．したがって，TTD の定義はタグリストで表すことが
できる．なお，タグを持たない論理レコードはない．

図４に，論理レコードの基本形を多少説明を省くが BNFで定義したものを示す．
論理レコードの基本形はタグと情報部から構成される．情報部は原文の本文デー
タの本体部分であり，算用数字または日本語文字列で表現される．

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
\epsfile{file=1-4.eps,width=108mm}
\vspace*{5mm}

    \caption{論理レコードの基本形(BNFによる) -- KOKINルール＃1}
    \label{fig:4}
  \end{center}
\end{figure}

表３に，タグの種類と定義の抜粋例を示す．また，表４にタグの書式と文法の定
義例を示す．タグは英字により定義し，属性は算用数字（いずれも全角文字），
または日本語文字列による．

\begin{table}[htbp]
  \begin{center}
    \leavevmode
    \caption{噺本大系のタグ(論理コード)の一覧}
    \label{tab:hyou3}

    \bigskip
    \begin{minipage}{95mm}
      (1) 原本の構造を定義するタグ \\[2mm]
      \begin{tabular}{l|l} \hline
        \multicolumn{1}{c|}{\makebox[18mm]{タグ}} &
        \multicolumn{1}{c}{\makebox[65mm]{役割，備考}} \\ \hline
        Ｕ         & 原本名称 \\
        Ｐｎ       & 論理ファイル名称 \\
        Ｌｎ，Ｍｎ & 論理ファイルを構成する原行論理レコード．\\
                   & 本来は，原本文の構造を定義するタグであるが，\\
                   & 原本の構造を決める基本的単位である．\\ \hline
      \end{tabular}

      \bigskip
      (2) 原本文の構造を定義するタグ(抜粋) \\[2mm]
      \begin{tabular}{l|l} \hline
        \multicolumn{1}{c|}{\makebox[18mm]{タグ}} &
        \multicolumn{1}{c}{\makebox[65mm]{役割，備考}} \\ \hline
        Ｔ   & 作品名称 \\
        Ｔ１ & 子作品名称 \\
        Ｔ２ & 噺名称 \\
        Ｘ   & 小噺名称，小噺の題名 \\
        Ｎｎ & 小噺の順序番号 \\
        Ｊ   & 小噺のキイワード \\
        Ｙ   & 作品の書誌的事項 \\
        Ｙ１ & 小作品の書誌的事項 \\
        Ｑ   & 作品の奥書事項 \\
        Ｑ１ & 小作品の奥書事項 \\
        Ｇ   & 挿し絵の名称，挿し絵の位置を同定する． \\
        ｇ   & 原文中の挿し絵の名称，挿し絵の位置 \\
        ｇｎ & 挿し絵中の本文 \\
        Ｈ   & 表形式の図表の名称，図表の位置 \\
        ｈ   & 原文中の表の名称，表の位置 \\
        ｈｎ & 表中の本文 \\
        Ａ   & 噺，小噺の作者名 \\
        Ｂ   & 噺，小噺の出典などの補足事項 \\
        Ｌｎ & 原行論理レコード．原本の2段組版の上段 \\
        Ｍｎ & 原行論理レコード．同上の下段 \\ \hline
        \multicolumn{2}{c}{~} \\[-2mm]
        \multicolumn{2}{c}{
          〈注〉 ｎは，タグの属性値．算用数字列で順序性を持つ．}\\
      \end{tabular}
    \end{minipage}
  \end{center}
\end{table}

\begin{table}[htbp]
  \begin{center}
    \leavevmode
    \caption{タグの書式と文法の定義(抜粋例)}
    \label{tab:hyou4}

    \bigskip
    \begin{minipage}{125mm}
      \begin{tabular}{l|l} \hline
        & \\[-2mm]
        (1) 文法名 & \makebox[100mm][l]{【 】内にタグの文法名を定義する．}\\
        (2) 書式   & タグが定義する論理レコードの書式を示す．\\
                   & ［ ］は省略が可能である．\\
        (3) 名称   & 論理レコードの名称である．\\
        (4) 定義   & 論理レコードの定義である．及び注意事項を含む．\\
        (5) タグ   & タグの表記形式である．\\
        (6) 情報部 & 情報部の定義，書式である．
                     情報部にはタグの属性記述を含む．ここで，\\
           & ``ｐ''は日本語文字列である．\\
           & ``ｎ''は算用数字である．ただし，全角文字である．\\
           & ``ｋ''はキーワードである．日本語文字列である．繰返しがある．\\
           & ``ａ''は人物名である．編著などの役割表示を持つ場合がある．\\
           & ~~日本語文字列である．繰返しがある．\\
           & ``ｂ''は典拠などを表わす．日本語文字列である．繰返しがある．\\
           & ``；''は繰返し記号である．\\
        (7) 範囲   & タグの有効範囲，及ぼす影響範囲を定義する．\\
           & 一般に，タグの有効範囲は次の同レベル，あるいは上位レベルの\\
           & タグが現れるまでとする．\\
           & ``｜''は``または''を意味する．\\
           & ``，''は``かつ''を意味する．\\
           & ＜ ＞はそのタグ内で完結することを意味する．\\
        (8) 備考   & その論理レコードの使用上の注意事項などである．\\
           & 記述例を示す．\\[2mm] \hline
      \end{tabular}

      \bigskip
      ＜抜粋例＞\\[1mm]
      \begin{tabular}{l|l} \hline
        & \\[-2mm]
        (1) 文法名 & \makebox[100mm][l]{【Ｓ．１】}\\
        (2) 書式   & Ｕｐ\\
        (3) 名称   & 原本名\\
        (4) 定義
           & 作品が含まれている原本の識別子である．作品の先頭に置き，\\
           & 作品の開始を表す．論理ファイルと対等のレベルに置く．\\
           & ``Ｔ''と共にデータベース名を与える．\\
        (5) タグ   & Ｕ\\
        (6) 情報部 & ``ｐ''は原本名称である．噺本大系と巻号を表す．\\
        (7) 範囲   & Ｕ\\
        (8) 備考   & データベースの識別子である．\\
        \phantom{(8)} 例 & Ｕ噺本大系△第五巻 \\[2mm] \hline
        & \\[-2mm]
        (1) 文法名 & 【Ｔ．４】\\
        (2) 書式   & Ｘ［ｐ］\\
        (3) 名称   & 小噺名\\
        (4) 定義   & 小噺名の識別子である．Ｔ２の次のレベルに置く．\\
        (5) タグ   & Ｘ\\
        (6) 情報部 & ``ｐ''は小噺名称(題)である．省略することがある．\\
        (7) 範囲   & Ｘ｜Ｔ２｜Ｔ１｜Ｔ｜Ｙ１｜Ｑ１｜Ｙ｜Ｑ｜Ｕ\\
        (8) 備考   & 噺は複数の小噺から成る．\\
        \phantom{(8)} 例 & Ｘ親の心子しらす \\
           & Ｘ\qquad $\cdots\cdots$ \qquad \quad 
             小噺に題が無い場合\\[2mm] \hline
      \end{tabular}
    \end{minipage}
  \end{center}
\end{table}
原則として，論理レコードは開始記号“¥”で始まり，タグを定義し，必要な情
報部による本文データが続き，終結記号“★”で終了する．自明の開始記号は省
略可とする．これらの記号に特段の意味はなく，利用者の見た目の分かり易さを
重視した．なお，作品毎に独自に定義するタグがある．これをローカルルールと
呼ぶ．

噺本大系に関する作品構造（TTD）の定義例を，付録\ref{sec:furoku2} に
示す．また，そのデータ記述例（初期データ入力例）を，噺本大系第五巻
「軽口大わらひ」について，付録\ref{sec:furoku3} に示す．

\subsection{KOKIN ルール＃２}
\label{sec:4.3setu}

KOKIN ルール＃２は，日本語の特有な表記のためのデータ記述のルールである．
主として傍記記述の文法である．傍記はテキストであるが，本文に対する付随的
な情報と考え，意味を考えない．例えば，読み，振り漢字，校異註，参照などの
区別をしない．すなわち，本文に対する傍記の位置付けである論理関係を定義す
る．この記述子がフラグである．図５に， BNFによりフラグ文法を定義した抜粋
例を示す．また，下記で用いる例を図中にまとめる．

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
\epsfile{file=1-5.eps,width=126mm}
\vspace*{5mm}

    \caption{フラグの基本形(BNFによる) -- KOKINルール＃2}
    \label{fig:5}
  \end{center}
\end{figure}

フラグは，本文素への傍記の位置の開始及び終結を指示しなければならない．こ
れらを開始フラグ及び終結フラグと呼ぶ．終結フラグに続いて開始フラグが現れ
る場合は，終結フラグを省略することができる（フラグの縮約と言う）．とく
に，字間，語間などの間の位置を示すフラグは開始と終結を同時に兼ねる．これ
を間フラグと呼ぶ．なお，間フラグに続いて開始フラグが現れる場合（傍記が独
立している）は，フラグの省略は無い．

特殊な傍記などの記述のための制御記述子を定義する．以下に代表例（記述例は
図５）を示す．縦書である本文素の左右の傍記を左右傍記と呼ぶ．左右傍記制御
記述子“｜”により，右傍記と左傍記を識別する．記述順序は右傍記優先であ
る．２重傍記は２重傍記制御記述子“＃”により識別する．記述順序は右側傍記
優先である．

文の特殊な表記の記述規則も定める．例えば，虫喰いは様々な表記形式がある．
個別の虫喰いは原則として文字“□”に置き換える．四角で囲った虫喰い文字列
は，推量された文字列を補ったものである．虫喰い領域記述子“◇”により記述
する．同様に，領域を指定する記述子はそれぞれの性質毎に定める．例えば，割
書は領域記述子“＠”により識別する．

傍記データの記述規則を定める．傍記データは原文のままとする．傍記には，元
来底本に表記されている振り仮名や漢字などがあり，また原本の校異などに関す
る種々の校訂註がある．データ記述においては傍記の種類の区別はしない．すな
わち，傍記の属性情報は定義しない．

特殊文字の置換規則を定める．例えば，古文でよく使われる２字以上の踊り字
“\odorizi”は，清音，半濁音，濁音別に定める繰返し記号により置換する．例え
ば，ｎ字の清音の踊り字はｎを繰返し音字数とし，“＋ｎ”と記述する．


\subsection{KOKIN ルール＃３}
\label{sec:4.4setu}

分かち書きを行い，品詞情報や各種属性情報を付加するための規則である．付加
価値付けと呼んでいる．ルール化の基礎を語彙索引の作成に置く．すなわち，文
を語あるいは接辞などの造語成分に区切り（語単位），これに対する読みを付し
て，読みによる５０音順に配列する．同一語を一ヶ所に集めるために，活用語は
終止形を基本とする読みを与える．さらに，同音異義語を区別するため漢字を与
える．掛詞\yougo などの両用語の掲出を考慮する．品詞情報を付加する．とくに，
名詞では人物名，官職と人物の同定，地名の同定を考慮する．一方では，原文の
誤字，脱字などや特殊語彙の注記の表現なども必要である．

図６に，ルールの典型例を示す．KOKIN ルール＃２と同様の書式であるが，フラ
グ記号に空白を用いて語単位（または形態，形態素など）を確定し，（　）内に
属性情報を付す．属性情報は語単位に対して，種別を［　］などで括り与える．
属性情報の記述は傍記と同じ形式である．

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    
\epsfile{file=1-6.eps,width=112mm}
\vspace*{5mm}
    \caption{付加価値付けの基本形(BNFによる) -- KOKINルール＃3}
    \label{fig:6}
  \end{center}
\end{figure}

語単位の確定や属性情報の種類と目的などは，研究者の研究目的によって異なる
から，これら全てについて前もって定義することはできない．このような背景か
ら，ルール＃３は現在未完成である．
また，先に述べたように，第１段階では分かち書きは行わない．


\section{評価}
\label{sec:5shou}

KOKIN ルールに基づいて，表２に示す作品のデータ記述を行い，データ作成を行
った．これらのデータ構文の正当性の検証は，専用のパーサシステムを作り確認
した．詳細は割愛するが，KOKIN ルール自体に特段の問題はない．このシステム
はむしろデータ作成上のエラーチェックに有効であった．また，ルール化された
データから元のデータを再現する検証を行い，確認した．これは印刷組版までの
再現ではなく，原本の形式上の再現として行った．

次に，KOKIN ルールで作成したデータは，研究者が研究現場で実際に使えるかと
いうことの評価が必要である．すなわち，ルール化されたデータの有用性，有効
性の検証である．そこで，次のような課題について実証実験を行った．


\subsection{校訂本文データベース}
\label{sec:5.1setu}

KOKIN ルールで記述したデータは，校訂本文データベースとして定義可能でかつ
実装できなければならない．とくに，作品の本文をどのようにデータベースに定
義するかの問題がある．本文の連続性を保存し，文体の構造を規定し，文や語や
字の検索，研究を可能としなければならない．

校訂本文データベースは本文，書誌，注釈，ユーティリティという４つの実体と
それらの関連により，概念モデルが定義されている\cite{yasunaga:94}．
すなわち，図１に示した電子化本文の情報構造を定義するモデルとして
実現されている．

本文実体は，本文情報すなわち本文と傍記のデータベースである．作品単位でそ
の本文情報を蓄積するが，KOKIN ルール＃１で規定した論理レコードを定義域と
する．KOKIN ルール＃２は論理レコードを構成するデータとして取り扱う．書誌
実体は本の構造を含む本情報である．校訂本情報と文献資料情報のデータベース
である．また，TTD のデータベースでもあり，校訂本の目次構成や文書構造及び
文体などの属性情報を持つ．注釈実体は校註情報の内，解説註のデータベースで
ある．ユーティリティ実体は校註情報の内，校訂註を蓄積し，また校訂本作成時
の凡例に関する情報やシステム及び作品の利用案内情報を持つ．

実現の詳細は割愛するが，フルテキストを定義するデータモデルはないので，関
係モデルをベースに開発した．実装は HITAC M860/60上に，DBMSに関係モデルで
ある XDM（日立製作所製）を用いた．本文の入れ子または階層構造や連続性は全
て正規形に変換している．したがって，各関係表は多くのポインタ属性を持たざ
るを得ない．また，標準の SQLでは構造を持つ文書に対して，例えば繰返し，入
れ子などに関しての検索機能が不足である．そのため，文書の論理構造を定義す
る DQL:Document Query Language\cite{hara:94} を考慮している．

まず，案内的なディレクトリサービスを考えている．機能的にはダウンロードを
可能とし，文字列に基づくKWIC索引作成などを行う．現在，国文学研究資料館に
おいて表２のデータベースの試行運用が行われている．



\subsection{CD-ROMの作成}
\label{sec:5.2setu}

データ流通を一歩進めるものとして，KOKIN ルール記述のデータのCD-ROM化，並
びに検索サーバとしてCD-ROM上の必要な文字列を検索する機能システムについて
検討した．

CD-ROM検索サーバはソニー株式会社との共同研究により，同社のCD-ROMハンドラ
であるMedia Finderをベースとした検索サーバと，その利用システムを開発し
た．検索サーバにワークステーション（NEWS）を用いて，CSS として実装してい
る．一方，MS-WINDOWSの下でのパソコン版システムとして，サーバとユーザ機能
を一体化したMedia Finder（同一名称である）を開発している．

CD-ROMの作成ではMedia Finderのデータ構造に，KOKIN ルールによる噺本大系の
本文データを変換する必要がある．データ構造は単純化し，２階層とした．１枚
のCD-ROMには複数のMedia Finder型データベースが定義できる．また，データベ
ースは項目と呼ぶ単位に分類する．一般に，データベース中の項目数の制限はな
いが，多い場合は当然検索性能に関わる．Media Finderの設計思想は，項目単位
で情報を高速に検索することに置かれている．

Media Finderはハイパーリンクに基づいた検索システムを持っており，噺本大系
では２種類の結合を生成している．１つは本文データの構造を定義するタグを指
標として，ハイパーリンクを構成したものである．これにより，本文の構成要素
（全文，噺，注釈など）を単位とした文字列検索が可能となる．他の１つは，論
理ファイル単位（タグＰによる領域）を検索対象とするものである．これによ
り，校訂本の本文の表記を忠実に再現する．ただし，本文表記の再現であり，ペ
ージ像は再現しない．

検索機能としては，次の機能を実装している．
\smallskip
\begin{description}
\item[\MARU{1}] 目次検索: 関連する文章を辿りながら，ブラウジングする機能
\item[\MARU{2}] 文字または単語検索: 必要な語彙単位から情報を探す機能
\item[\MARU{3}] 項目検索: 項目名から必要な情報を検索する機能
\item[\MARU{4}] しおり: 参照した項目に印を付け，後からそれを呼び出す機能
\end{description}
\smallskip
その他にも，印刷や自前のファイルに取り込むこと，関連する語彙から探すこ
と，絵や表を取り扱うことも可能としている．

このようなシステムを実装し，実験環境に供している．概して評判がよい．


\subsection{SGML化}
\label{sec:5.3setu}

KOKIN ルールは研究者が憶えやすく，使い易い規則として開発されているが，
SGMLと互換性を持っている．SGMLによる古典本文や目録の構造記述はデータの標
準化を一層推進する．

噺本大系，正保版本歌集二十一代集などのデータ記述をSGMLで行った．噺本大系
はKOKIN ルールで記述した本文データから，SGMLへの変換を行った．正保版本歌
集は独自仕様で記述された本文データから，SGML変換を行った．いずれも，SGML
仕様に基づいた DTDを定義し，Mark-it （Sema Software Technology社製）と言
うSGMLパーサにかけ，自動変換した．

DTDを如何にうまく定義するかがポイントである．KOKIN ルール＃１の変換は比
較的簡単である．KOKIN ルール＃２の変換は日本語の表記構造の認識にあるた
め，困難な場合が多い．例えば，傍記の泣き別れである（図５参照）．また，論
理レコードの順序性の保持は，SGMLでの記述は難しい．現在，技術検討を行って
いる．なお，SGML化の詳細は別途報告の予定である（例えば，\cite{hara:95}）．

変換されたSGMLデータは，例えば Mark-itでTex 形式のデータに変換し，印刷版
面に近い版下出力などが可能である．SGMLからTex への自動変換も行った．ま
た，Open-Text（Open-Text社製）と言うフルテキストデータベース検索システム
を用いれば，DTD で定義された要素を指定する語彙検索が可能である．これら
は，現在試行実験を行っている．



\section{あとがき}
\label{sec:6shou}

国文学作品のテキストデータ記述文法について述べた．全ての時代，ジャンルに
渡る本文を，ここで述べたデータ記述文法で記述できるわけではない．作品毎に
細部の機能拡張が必要である．ただし，この骨格は有効であると考えている．

国文学では，作品の本文を同定すること，すなわち定本を確定することが極めて
重要とされる．ある作品の本は書写などによる永い伝搬過程を持っているから，
本文それ自体に多くの異動が発生している．諸本の系譜を知らなくては，本文の
確立あるいは解釈は成立しない．このことを前提として，KOKIN ルールは作られ
ている．また，KOKIN ルールでは校訂本を記述できる．

KOKIN ルールは国文学者にとって取り扱いが容易な文法である．データ記述にお
いて，ユーザ定義が容易であるため自由度が高く，機能拡張性に富む．すでに，
データ作成も始められている．

本文データベースの目的は，既定の活字本をコンピュータに写し取るのではな
く，また本を作ることでもない．本文がコンピュータに入力されたとき，研究の
多様な展開に寄与できることを目的としている．したがって，利用者が個人的に
自由に活用できるデータベースでなければならない．そのための試みとして，大
型コンピュータによるデータベースサービスの他に，CD-ROM化についての検討も
行っている．

なお，データ流通について，とくにJIS 外字の取り扱いは，現在有効適切な対策
は立てられていない．大きな将来課題である．

データ作成作業は多くの人手と時間と費用を要す．とくに，異なる多量な作品を
対象としているから，深く広い専門的知識と有効適切なかつ総合的な作業管理を
必要としている．とりわけ，データの信頼性確保のための校正には多大の労力を
強いられている．

最近，欧米を中心にフルテキストの標準化計画（TEI）が進められている．これ
は，現在のところ英字を中心とするSGMLに基礎を置く多様なドキュメント類のデ
ータ流通，蓄積を目的としているが，これへの日本語としての対応が求められて
いる．本稿でのデータ記述文法は独自なものであるが，基本的考え方は共通であ
る．また，一部の作品については機能互換性を検証している．ただし，国文学作
品の全般に渡る標準化は極めて困難なことと考えている．本研究がその一助とな
れば幸いである．

\acknowledgment

本研究では，日頃ご指導いただく国文学研究資料館の佐竹昭廣館長，藤原鎮男教
授，立川美彦教授に御礼申し上げる．また，同館岡雅彦教授，中村康夫助教授に
は，有益な助言と批評などをいただいた．とくに，原正一郎助教授，情報処理係
野村龍氏をはじめ，係員諸氏には，システム開発，実験などの協力をいただい
た．また，ソニー株式会社三原節生氏，日本科学技術振興財団小島哲郎氏始め，
多くの方々に，システム開発などに協力をいただいた．合わせて深謝する．



\bibliographystyle{jnlpbbl}
\bibliography{jpaper}

\newpage

\appendix

\section{国文学の用語}
\label{sec:furoku1}

主として，広辞苑（1983，岩波書店，第三版）により，読みのABC順で示す．

\begin{center}
  \begin{tabular}{l@{~}c@{~}l}
    梵字{\small (ボンジ)} &:&
      梵語すなわちサンスクリットを記載するのに用いる文字．\\
    伝本{\small (デンポン)} &:&
      ある文献の写本または版本として世に伝存するもの．\\
    絵詞{\small (エコトバ)} &:&
      絵を説明した詞．絵巻物の詞書き．絵解きの詞．\\
    翻刻{\small (ホンコク)} &:&
      手書き文字，木版文字などを活字に置き換えること．\\
    &&翻刻本とは，写本，刊本を底本として，木版または活版で刊行した本．\\
    異本{\small (イホン)}  &:&
      同一の書物であるが，文字，語句，順序に異同があるもの．別本．\\
    解題{\small (カイダイ)} &:&
      書物や作品の著作者，著作の由来，内容，出版の年月などの解説．\\
    掛詞{\small (カケコトバ)} &:&
      同音異義を用いて，１語に２つ以上の意味を持たせたもの．\\
    囲み{\small (カコミ)} &:&
      紙面の一部を枠で囲んだ部分．虫喰いの痕など．\\
    刊本{\small (カンポン)} &:&
      狭義には主として江戸時代の木活字本，銅活字本，整版本などの称．\\
    &&版本．\\
    校異{\small (コウイ)} &:&
      文章の文字，語句を比べ合わせ，調べること．またその結果．\\
    訓点{\small (クンテン)} &:&
      漢文を訓読するために原文に書き加えた文字，符号の称．\\
    虫喰い{\small (ムシクイ)} &:&
      紙魚などによる食害．\\
    踊り字{\small (オドリジ)} &:&
      熟語で同一の漢字または仮名を重ねることを表す符号．重ね字．\\
    底本{\small (テイホン)} &:&
      翻訳，校訂などに当たって主な拠り所とした本．そこほん．\\
    頭註{\small (トウチュウ)} &:&
      本文の上方に註を付すこと．また，その註．脚註もある．\\
    謡印{\small (ウタイジルシ)} &:&
      謡曲の謡の印．\\
    割書{\small (ワリガキ)} &:&
      本文の途中に２行以上に小さく注などを書き入れること．\\
    ヲコト点 &:&
      漢文訓読で漢字の読みを示すため，文字の隅などに付けた点や線の符\\
    &&号．その位置と形で読みが決まる．広く，訓点の１種と考えられる．\\
  \end{tabular}
\end{center}

\newpage
\section{噺本大系の作品構造(TTDの例)}
\label{sec:furoku2}

\begin{center}
  
\epsfile{file=1-7.eps,width=125mm}

\end{center}

\section{噺本大系第5巻「軽口大わらひ」のデータ記述例}
\label{sec:furoku3}
\begin{center}
\epsfile{file=1-8.eps,height=186mm}

\end{center}

\begin{biography}
\biotitle{略歴}
\bioauthor{安永尚志}{ 
1966年電気通信大学電気通信学部卒業．同年電気通信大学助手，東京大学大型計
算機センター助手，同地震研究所講師，文部省大学共同利用機関国文学研究資料
館助教授を経て，1986年より同館教授．工学博士．
情報通信ネットワークに興味を持ってい
る．現在人文科学へのコンピュータ応用に従事．とくに，国文学の情報構造解
析，モデル化，データベースなどに関する研究と応用システム開発を行ってい
る．最近では，テキストデータベースの開発研究に従事．電子情報通信学会，
情報知識学会，情報処理学会，言語処理学会，ALLC，ACHなど会員．
}


\bioreceived{受付}
\biorevised{再受付}
\bioaccepted{採録}

\end{biography}

\end{document}
