<?xml version="1.0" ?>
<root>
  <jtitle>意見集約における相対的特徴を考慮した評価視点の構造化</jtitle>
  <jauthor>乾孝司板谷悠人山本幹雄新里圭司	平手勇宇山田薫</jauthor>
  <jabstract>本論文では，レビュー集合から多数の評価視点が得られる状況において，評価対象間の相対的特徴を考慮した重要度（スコア）に従って評価視点をランキングする課題について述べる．また，レビューはその数だけ書き手が存在することから評価視点の異表記が生じやすく，これがランキングに悪影響を与える．本論文では，評価視点に対してクラスタリングを適用することで異表記問題へ対応する手法を提案する．評価実験を通して，提案したスコア関数がランキング性能の向上に有効であること，およびクラスタリングに基づくランキング補正手法によって，平均適合率（MAP指標）が向上することを確認した．</jabstract>
  <jkeywords>評判分析，評価視点，属性，対数尤度比，異表記</jkeywords>
  <section title="はじめに">近年のWebの発展は目覚ましいものがあり，Blogや掲示板のように，個人が気軽に自分の意見や感想を書き込める場が増えている．特に，商品購入サイトやオークションサイトなどでは，実際に商品を購入したり，サービス提供を受けたユーザが感想を書き込めるユーザレビュー用ページを提供している場合も多く，レビューは，商品やサービスの潜在的購入者にとって，貴重な情報源のひとつになっている．レビューの件数が増加すれば，それだけ多くの感想を読む機会を得ることになるが，商品やサービスによっては何百件から何千件もレビューが存在することもある．この場合，レビューの内容をすべて把握することは困難であるが，このような問題に対して従来からレビューを自動的に分類したり，意見を集約する研究が盛んに行われている．意見の集約に関する研究の例として，例えば，Huらは，評価視点(opinionfeatures)という概念に基づいてレビュー集合内の意見を集約する手法を提案している．ここで，評価視点とは，評価対象（すなわち商品やサービス）の部分や属性のことであり，例えば，評価対象としてデジタルカメラの特定の商品（「デジタルカメラX」）があったとすると，「画質」や「解像度」などがその評価視点となる．Huらは，レビュー集合からユーザ評価が肯定または否定となる評価視点を自動抽出し，デジタルカメラX画質肯定：253／否定：6解像度肯定：134／否定：10...のような集約結果を生成する手法を提案した．ここで，集約結果内の数値は頻度を表しており，デジタルカメラXの画質に対しては253件の肯定評価を示すレビューがあったことを意味する．このような評価視点の（半）自動抽出に基づく研究は他にも，小林らや，Liuら，Jakobら等がある．しかしながら，これらの先行研究では，基本的に評価視点を漏れなく列挙することが目的となっているため，結果として，数多くの評価視点が出力され，どの評価視点が評価対象にとって重要であるかがわからないという問題がある．また，実際に集約結果としてユーザに評価視点を提示することを考えた場合にも，重要度に応じて提示する評価視点に順序を与えたり，取捨選択できることが望ましい．本論文では，このような背景に基いて，上記の先行研究など，何らかの方法によって得られた多数ある評価視点に対し，それらをある重要度に従ってランキングする課題を新たに考え，ランキングに適した手法について検討する（uniq_aspect_ranking）．重要度の考え方にはいろいろ考えられるが，本論文では，ユーザは商品購入の際に複数の競合商品を横並びで比較することが多い事を踏まえ，次のように考える．すなわち，競合する複数の評価対象に対して，これらの中で，他の評価対象からある特定の評価対象を差別化できるような評価視点ほど重要であると考え，そのような評価視点に高い重要度を割り当てることを考える．以降，本論文では，このような評価視点のことを特徴的評価視点と呼ぶ．例えば，あるユーザが出張の際に利用する宿泊施設を探しており，幾つか探し当てたとする（宿泊施設X，Y，Z）．しかし，どの施設も値段や立地条件が似たり寄ったりであり，どれを選ぶか悩んでいる．このような状況において，提案手法を用いて各施設のレビューから特徴的評価視点を見つけ出し，施設Xは特に宿泊利用者の間で「朝食バイキング」が人気であり，施設Zだけが「まくら」にこだわっていることを自動抽出することができれば，こういった情報を優先的にユーザに提示する手段を提供することができると考えている．なお，experimentの評価実験では，実験データとして宿泊施設予約サイトから得られた宿泊施設についてのレビューデータを用いている．そのため，以降においても提案手法の説明に例を用いる場合は宿泊施設を評価対象とする例を用いる．また，レビューはその数だけ書き手が存在することから評価視点の異表記が生じやすい．そこで，本研究では，評価視点のランキングに際して，クラスタリングによって異表記の影響を考慮したランキングの補正手法を提案し，ランキングとクラスタリングを併用することで評価視点の構造化をおこなう（cl）．本論文の貢献をまとめると，以下のようになる．従来手法によって多数抽出される評価視点を構造化して提示する際，その構造化として，特定の評価対象を他から差別化できるような評価視点が重要であると考え，その重要度に従ってランキングすることを提案している点．上記ランキング課題に利用できる具体的な尺度として，uniq_aspect_rankingで説明する対数尤度比に従った尺度を適用し，その有効性を実験的に検証している点．また，上記ランキング課題では異表記問題が発生するため，その解決策として評価視点をクラスタリングすることの提案，および具体的なクラスタリング手法を用いて，その有効性を実験的に検証している点．本論文の構成は以下の通りである．まず，relationで関連研究について述べ，続く，uniq_aspect_rankingとclで評価視点をランキングするための提案手法について述べる．experimentで評価実験について述べた後，owariniで本論文をまとめる．</section>
  <section title="関連研究">本論文と関連する，レビューを処理対象とする研究課題を時系列順に追って概観する．関連研究としてまず取り組まれた課題は，レビューをその内容に従って肯定か否定かに分類する課題である．しかし，文書単位（レビュー単位）で分類するだけでは「何がどう良いか？」がわからない点が問題とされた．そこで，この問題を解決するために，文書内で具体的に評価されている事柄（すなわち，評価視点）を特定する研究が行われるようになった．しかし，前節でも述べたように，これら手法では評価視点が多量に出力されることから，出力される評価視点群を何らかの方法で構造化することに関心が集まるようになった．具体的な構造化の手法として，これまで，評価視点群をグルーピングする手法やランキングする手法が提案されている．グルーピングする手法では，「butterypower」と「butterylife」といった同一あるいは類似の評価視点を同じグループに所属させて合わせてユーザに提示することで，ユーザの可読性を向上させることを狙う．このような手法として，例えば，Zhaiらは，事前に人手で定義した評価視点クラスに各評価視点を自動分類する手法を提案している．より具体的には，Nigamらによって提案された半教師あり学習手法に，「同じ語を含む評価視点は同じ評価視点クラスになりやすい」といった情報を制約として取り込む手法を提案している．この手法のように評価視点を分類して構造化する場合，あらかじめ定義した通りの構造化ができる利点がある一方で，想定していない評価視点のクラスが必要になった場合の対応にかかる負荷が高いという欠点がある．次に，評価視点をランキングする手法では，事前に定めたある観点に従って各評価視点にスコアを付け，スコアの大きさに基いて評価視点を順番に並べてユーザに提示することを考える．これによって，ユーザは観点に合致する評価視点のみを選択的にすばやく確認することが可能になる．このような研究として，Yuらの研究がある．Yuらは，まず，レビューには評価対象に対する総合的な評価点(rating)が書き手によって与えられていることを前提とする．そして，このようなレビューの中で，ユーザから多く言及されており，かつ総合的な評価点の決定にもっとも影響を与える評価視点が重要な評価視点であると仮定し，そのような評価視点をランキングする手法を提案している．論文中では重要な評価視点の例として評価対象が「iPhone3GS」である場合，「moisturesensor」という評価視点よりも「battery」や「speed」などの評価視点がより重要であると述べている．評価視点をランキングするという点で見た場合，本研究は上述のYuらの研究と似ている．しかし，Yuらの手法では，レビューに付与された総合的な評価点を説明付ける評価視点に関心がある．そのため，評価対象ごとに独立に評価視点のランキングをおこない，評価対象間を比較することは念頭にない．一方，本研究では，複数の評価対象に対して，評価対象間の違いを明確に表すことができる評価視点に関心があり，Yuらとは目的が異なっている．</section>
  <section title="提案手法"/>
  <subsection title="評価視点">提案手法の説明の前に，ここで，評価視点という用語について整理しておく．本論文における評価視点は，基本的には，Huらや小林らの定義に従っている．後述する評価実験では，評価対象が宿泊施設であるので，そのことを踏まえると，本論文における評価視点は，宿泊施設に対する意見の焦点となる宿泊施設の構成物や属性，あるいは，宿泊施設への宿泊という経験から生じる宿泊施設に対する意見の焦点となるものであると言い表せる．例えば，宿泊施設の立地情報（「駅前」，「海沿い」）や施設が提供する設備に関する情報（「風呂」，「加湿器」），施設のサービス（「バイキング」，「接客態度」）等が具体的な評価視点となる．また，評価視点の表現形式は，単一単語（「バイキング」）だけでなく，複合語（「朝食バイキング」）や句（「朝食のバイキング」）などの場合もある．本研究では以上の形式は評価視点として認めているが，処理の都合上，以下に示すように，連体修飾節を伴う場合は修飾部を除外して扱った．下記例の場合，下線部は評価視点として認めたが，どちらの例でも「メニューが新しくなった」は評価視点には含めていない．なお，表現形式の特定は以下のようにおこなった．単語の特定には形態素解析器MeCabを使用した．複合語については，MeCabで解析後，名詞が連続している箇所を複合語として特定している．句については，現在は「名詞の名詞」というパターンで特定しており，他の形は想定していない．ただし，上記パターンの名詞は名詞連続に置換可能とした．メニューが新しくなった朝食バイキングが良かった．メニューが新しくなった朝食のバイキングが良かった．</subsection>
  <subsection title="評価視点ランキング">提案手法について述べる．まず，使用する記号，および，評価視点のランキング課題を以下のように定義する．評価対象の集合をO=o_1,o_2,...,o_|O|とする．全ての評価対象に対する全てのレビューの集合をRとし，Rの要素であるレビューの中に書かれた評価視点(token)の系列をV=v_1,v_2,...,v_n，Vの異なり要素(type)の集合をU=u_1,u_2,...,u_m(mn)とする．例えば，以下のような，それぞれ1文と2文からなる短い2つのレビューを要素とする集合Rがあり，各文の下線部が評価視点であったとすると，系列Vと集合Uは次のようになる．R=``このホテルはと風呂が良い．'',``が美味しい．また来たいです．''V=朝食_1,風呂,朝食_2U=朝食,風呂この時，ある評価対象o_kに関して評価視点をランキングするアルゴリズムを次のalg1とする．このアルゴリズムが示している通り，Uの要素u_jがランキングの対象である．本論文では曖昧性を排除するために，以降，u_jのことを単に評価視点と呼び，評価視点u_jがR内で出現したものを評価視点トークンと呼ぶ．[h]INPUT~~~o_kO：評価対象~~~~~~~~~~~~~~~U：評価視点集合algorithmic[1]u_jUs[u_j]=score(o_k,u_j)Uの各要素u_jをs[u_j]の降順に整列algorithmicalgorithm上記のalg1で自明でない部分は，評価対象o_kにおける評価視点u_jの重要度を決定するスコア関数score(o_k,u_j)のみである．本研究では，このスコア関数として，以下のような対数尤度比(Log-LikelihoodRatio，LLR)に基づく尺度を提案する．これは内山らが特定分野における単語の特徴度を測る尺度として提案したものを評価視点ランキング課題に適用したものである．以下，内山らを参考にしながら，上記尺度の詳細について述べる．まず始めに，ある評価対象o_kと評価視点u_jが与えられた際，レビュー中で観測された評価視点トークンvに関する確率変数W_jとT_kを以下のように定義する：W_j&amp;=1&amp;vは評価視点u_jのレビュー内での出現である0&amp;otherwisecases_k&amp;=1&amp;vが観測されたのは評価対象o_kのレビュー内である0&amp;otherwisecasesalignここで，評価視点トークンv_i(1in)に対応する確率変数W_j，T_kの値をそれぞれw^i_j，t^i_kとすると，Vから次のような確率変数の値の組みで表された系列V_jk=w^1_j,t^1_k,w^2_j,t^2_k,...,w^n_j,t^n_kが新たに得られる．この時，それぞれの評価視点トークンが確率的に独立であると仮定すると，V_jkの生起確率は次式で表される：また，各トークンを変数W_j，T_kの値ごとに出現頻度を集計することを考え，各頻度をkankeiのように，それぞれa，b，c，dで表すことにする．ここで，a+b+c+d=nである．以上の準備のもと，次の対数尤度比を考える：LLR_0(o_k,u_j)&amp;=Pr(V_jk;H_dep)Pr(V_jk;H_indep)	&amp;=_i=1^nPr(W_j=w^i_j,T_k=t^i_k;H_dep)Pr(W_j=w^i_j,T_k=t^i_k;H_indep)	alignここで，H_depおよびH_indepは，以下のような，確率変数に関する仮説である．H_dep:確率変数W_jとT_kとは互いに依存している．H_indep:確率変数W_jとT_kとは互いに独立である．llr0において，H_indepの下では，[Pr(W_j=w^i_j,T_k=t^i_k;H_indep)=Pr(W_j=w^i_j)Pr(T_k=t^i_k)]が成り立つ．また，各種の確率は，Pr(W_j=1,T_k=1;H_dep)&amp;=an,	Pr(W_j=1,T_k=0;H_dep)=bn(W_j=0,T_k=1;H_dep)&amp;=cn,	Pr(W_j=0,T_k=0;H_dep)=dn(W_j=1)&amp;=a+bn,	Pr(W_j=0)=c+dn(T_k=1)&amp;=a+cn,	Pr(T_k=0)=b+dnalign*で推定する．この尺度は，2つの確率変数W_jとT_kとが依存しているという条件，および，独立であるという条件の下で，データが観測される確率の比の対数を表しており，W_jとT_kの依存性が高い程，大きな値をとる．もし，ある評価視点がどの評価対象にも共通するような一般的な視点であれば，評価視点トークンは，どの評価対象のレビュー中にも同じように出現すると考えられる．すなわち，W_jとT_kとは互いに独立であると考えられ，上記尺度は小さな値をとる．一方で，ある評価視点が特定の評価対象にのみ特徴的な出現を示すようであれば，W_jとT_kとは依存しており，上記尺度は大きな値をとる．つまり，この尺度をスコア関数とすることで，特定の評価対象に特徴的な評価視点に対して大きなスコアを割り振ることができる．ただし，上記尺度は，ある評価視点が特定の評価対象に対して特徴的に言及される場合と特徴的に言及されない場合を区別できない．そのため，どちらの状況であっても大きな値をとってしまう．そこで，言及される場合とされない場合を区別できるよう，実際には以下のように補正して利用する．ただし，である．</subsection>
  <section title="異表記問題への対応"/>
  <subsection title="異表記問題">レビューではユーザの数だけ書き手が存在しており，同じ概念が述べられていたとしても，ユーザによって異なる単語が使われることがしばしばある．例えば，価格について何かを述べたいときに，あるユーザは「価格」と表記したが，別ユーザは「料金」や「値段」等，別の単語を使うことがある．また，レビューは，評価対象という自明な文脈をもつ文書であるため，同じ評価対象のもとでユーザが共有しているであろう情報がしばしば省略表記される傾向があり，例えば，最寄り駅の「東京駅」を単に「駅」と表記するユーザ等，その表記はユーザによってさまざまに変化する．一般的に，このような異表記の問題や表記揺れの問題（以下，単に異表記の問題と呼ぶ）はよく知られているが，評価視点のランキング課題に対しても悪影響を与えていると考えられる．前節で述べた提案尺度では評価視点の出現頻度の情報を用いているが，異表記が考えられる評価視点については，異表記の数だけ頻度が分散してカウントされてしまい，その結果，それらの評価を誤ってしまう．以下では，この異表記問題の影響を回避する手法について述べる．本手法は，評価視点をクラスタリングすることによって，同じ意味あるいは類似した意味の評価視点をクラスタにまとめ上げ，クラスタ情報に基いてランキングを補正する．手法は，クラスタ情報をランキングに反映させる方法によって，事前処理法と事後処理法の2つに分かれる（clustering）．以下ではまず，2つの手法について述べ，その後，各手法の中で用いるクラスタリング手法について述べる．</subsection>
  <subsection title="事前処理法と事後処理法">事前処理法（clusteringの(b)）では，ランキングの前に評価視点のクラスタリングを実施し，同一の意味あるいは類似した意味の評価視点をクラスタにまとめ上げる．そして，同じクラスタとなる視点群をひとつの評価視点であるように扱い出現頻度を数えることで対数尤度比を計算し，ランキングをおこなう．具体的には，llrで導入したwの評価視点トークンに関する確率変数W_jを次のw2のように再定義してスコア関数を計算することで，クラスタ情報をランキングに反映させる．ただし，下記の式中のvとu_jはwと同様，評価視点トークンと評価視点をそれぞれ意味する．事後処理法（clusteringの(c)）では，ランキングを先に行い，その後，クラスタリングによって得られたクラスタ情報に従ってランキング結果を補正する．具体的には，ある評価視点u_jがクラスタC(u_j)に所属する場合を考えると，ランキングに使用するスコア関数finalrankで得られた値に対して，次のfinalrank2を計算する．finalrank2が示すように，事後処理法では，元の重要度をクラスタ内で平均化した値を重要度として採用する．</subsection>
  <subsection title="評価視点クラスタリング">次に，上記の補正手法で用いるクラスタリングについて述べる．クラスタリングのアルゴリズムは，以下に示す標準的なアルゴリズムを採用する．ただし，アルゴリズム内で利用される評価視点間の類似度尺度については，以下で述べるシソーラスに基づく類似度において，ユーザレビューの特性を踏まえて拡張を施した尺度を新たに採用する．なお，クラスタリングの議論をおこなう場合，一般には距離や非類似度を定義することが多いが，説明の便宜上，ここでは類似度を定義している点に注意されたい．以下，クラスタリング・アルゴリズムについて概要を述べた後，評価視点間の類似度尺度について述べる．クラスタリングには，以下に示す3つのアルゴリズムを採用した．いずれも，凝集型の手法であり，もっともクラスタ間類似度の高い2つのクラスタをボトムアップに再帰的に併合しながらクラスタリングを進める点が共通しているが，クラスタ間類似度の定義が異なる．単連結法(singlelinkagemethod)は，クラスタC_iとC_jの要素間の類似度wsim(k,s)の中で，最大の類似度をクラスタ間の類似度csim(C_i,C_j)とする：完全連結法(completelinkagemethod)は，クラスタC_iとC_jの要素間の類似度の中で，最小の類似度をクラスタ間の類似度とする：また，群平均法(groupaveragemethod)は，クラスタC_iとC_jの各要素間の平均類似度をクラスタ間の類似度とする：次に，評価視点間の類似度wsim(k,s)について説明する．評価視点間の類似度には，以下で述べる3種類の類似度尺度を併用した．なお，どの類似度も0以上1以下の値をとり，同じ評価視点が入力となった場合に対して最大値1を返す(wsim(k,k)=1)．</subsection>
  <subsubsection title="シソーラスに基づく類似度">2つの単語kとsの類似度を求める手法として，シソーラスに基づく類似度がある．これは次式のように定義される：ここで，d(k)とd(s)は階層構造をなすシソーラス中での当該単語の位置する深さをあらわし，d_share(k,s)は階層構造における単語kと単語sの共通祖先ノードが位置する深さの最大値をあらわす．また，Tはシソーラスに含まれる見出し語の集合である．一般に，シソーラスは人手により構築されていることから，シソーラスの見出し語に含まれる単語間の類似度を測るにはこの尺度は有用と言える．しかし，今回対象としている評価視点には「施設管理」といったシソーラスには登録されにくい複合語なども含まれているため，上記尺度そのままでは多数の評価視点間の類似度が0となってしまう問題がある．そこで，本論文では類似度が求められる評価視点ペアの被覆率を上げるために，以下のように拡張した類似度を採用する：ここで，形態素解析によって各評価視点を形態素に分割したものをそれぞれk_1,,k_|k|，s_1,,s_|s|で表しており，拡張版では，従来の式で類似度が求められない場合は対象を分割して類似度を求めていることがわかる．例えば，引数kが「施設管理」である例を考える．ここで，「施設管理」はシソーラスに含まれておらず，またもう一方の引数sはシソーラスに含まれる何らかの単語であるとする．この場合の類似度計算はthesaurus_kの2行目によっておこなわれ，「施設管理」を「施設」と「管理」に分割させた後，それぞれの形態素に対してthesaurusのwsim'_the()へ問合せを実行し，個別にsとの類似度を求める．そして，問合せ結果の平均を「施設管理」とsとの間の類似度であるとする．thesaurus_kでは，分割操作によって，シソーラスのエントリとの照合率が改善され，類似度が求められない事例数を削減させる効果が期待できる．</subsubsection>
  <subsubsection title="表層文字列に基づく類似度">次に，上記のシソーラスに基づく類似度尺度を補完するために，評価視点の表層文字列に基づく類似度を考える．本研究では，最長共通部分文字列LCS(longestcommonsubsequence)に基づく以下の類似度尺度を採用する：ここで，LCS(k,s)はkとsの最長共通部分文字列の長さであり，上式は，その値をk，sそれぞれの文字列の長さを基に正規化している．表層文字列に基づく類似度は，「焼きたてパン」と「焼き立てパン」のような部分的な漢字表記とひらがな表記の違いや，「バイキング」と「朝食バイキング」のような文字数の比較的多いカタカナ列からなる評価視点の類似性を測る際に特に効果的であると期待できる．例えば，6文字で構成される「焼きたてパン」と「焼き立てパン」がそれぞれkとsである例を考える．両者の違いは，ひらがな「た」と漢字「立」の1文字だけであり，その他は各文字の順序等すべて同じである．この場合，LCS(k,s)=5で，wsim_lcs(k,s)=10/12となり，高い類似度が得られる．LCSの代わりに，不連続になる部分文字列の影響を考慮した文字列カーネルを用いた予備実験も行ったが，LCSとほぼ同様の実験結果を得た．そのため，experimentの実験ではLCSを用いた結果のみ報告する．</subsubsection>
  <subsubsection title="文脈情報に基づく類似度">類似度を補完するもう一つの方法として，評価視点が現れる文脈の情報に基づく類似度を考える．これは一般に，似た意味をもつ単語は似た文脈に現れやすいと言われており，この性質に従って，単語が現れる周辺文脈を基に類似度を求める手法である．本研究では，代表的な手法の一つである，次式のコサイン類似度を採用する：ここで，v_kとv_sは，それぞれkとsの文脈に現れる単語から構成される単語頻度ベクトルである．また，ここでは，当該の評価視点に対応するすべての評価視点トークンから文脈情報を獲得し，それらの情報からひとつのベクトルを作成する．文脈情報に基づく類似度は，「東京駅」と「駅」や「最寄り駅」のような，文脈に依存した評価視点の類似性を測る際に特に効果的であると期待できる．</subsubsection>
  <subsubsection title="各種類似度の統合">ここまで述べたように各類似度尺度は，それぞれ異なる情報に基いており，互いに相補関係にあると言える．そこで，クラスタリングの際は，各類似度尺度を単独で用いるのではなく，次式のように統合して用いる事とする：</subsubsection>
  <section title="評価実験"/>
  <subsection title="実験条件">実験には，代表的な宿泊施設予約サイトのひとつである楽天トラベルに書き込まれたレビューを用いた．楽天トラベルに登録されている宿泊施設のうち，都内近辺に立地している11施設を対象とし，各施設ごとに100レビューを実験に使用した．また，上記レビュー群から人手で評価視点を抽出して実験の入力データとして用いることにし，さらにそこから特徴的評価視点を人手で選び出し，評価用データとして用いた．この作業によって得られた評価視点は施設あたり平均101個であり，得られた特徴的評価視点は施設あたり平均12.1個である．データの信頼性を検証するために2名の作業者（AとB）によってデータ作成をおこない，特徴的評価視点と判定する際の一致度を以下の計算式で求めた．判定の一致度は，agreement(A,B)=0.72とagreement(B,A)=0.77となり，この結果から，作業者間の判定はある程度一致していることが確認できる．また，事例分析から，以下のような事例において判定が一致しない傾向があることが確認できた．評価視点に異表記がある場合：作業者が共に特徴的であると判定した評価視点に異表記がある場合，作業者による異表記の認定不足から，一部の評価視点が特徴的であると判定されない．連続量を伴う評価視点の場合：例えば「駅前で良かった」や「駅に近く良かった」のような最寄り駅からの近さについての言及があった場合，どの程度の距離であれば特徴的な評価視点であると判定するかについては作業者の主観に拠る部分が多い．なお，一致度の測定に値を用いることも考えられる．しかし，次の理由から今回は実態を把握するのに適していないと考え，値の採用を見送った．すなわち，本実験で用いたデータは，特徴的でない評価視点が全体の9割程度を占めているが，値ではこれらに対して作業者が共に特徴的でないと判定した場合も一致度に反映されるためである．シソーラスに基づく類似度を計算するためのシソーラスには，分類語彙表を用いた．また，文脈情報に基づく類似度では，予備実験の結果から経験的に窓枠を5と定め，対象の前後5単語を文脈情報として利用した．ただし，単語情報はMeCabによって文脈を形態素解析することで獲得し，その際，品詞が「助詞」，「助動詞」，「記号」である場合は窓枠のカウント対象から除外した．実験において，スコア関数として対数尤度比を実際に計算する際は，ラプラススムージングを適用した．スコア関数のベースラインとして，TFおよびTF-IDFに基づく関数を用いた．一般に，TF,TF-IDFは，文書ごとに単語へ重み付けする際に利用される．しかし，ここでは文書ごとの差異ではなく施設ごとの差異に注目したいため，次式のように，ある施設に対する全レビューをひとつの文書として扱う．</subsection>
  <subsubsection title="TF法">これは，言い換えると，kankeiのaのみをスコア関数として考慮することに等しい．</subsubsection>
  <subsubsection title="TF-IDF法">|D|は一般的な定義では文書数であるが，上記で述べたように今回は施設数に等しい．DF(u_j)はレビューに評価視点u_jが現れた施設数である．評価尺度には，情報検索のランキング課題の評価によく利用されるMeanAveragePrecision(MAP)を用いた．MAPは次式で定義される．ここで，Oは評価対象の集合であり，A_kは評価対象o_kのレビューから人手によって得られた特徴的評価視点の集合である．rank(o_k,u_j)はo_k中のある特徴的評価視点u_jが，何らかのランキング手法によって与えられた順位を示しており，Precision(rank(o_k,u_j))は，その順位までの出力結果における適合率である．つまり，ここでは，ひとつの評価対象が情報検索におけるひとつの検索課題に相当するものと見なされて評価される．</subsubsection>
  <subsection title="実験結果">まず，異表記問題への対応を考慮しない場合の結果について述べる．この結果をranking_resultに示す．ranking_resultから提案手法LLRがベースライン手法（TFおよびTF-IDF）よりも性能が向上することが確認できた．TFでは，tfからもわかるように，比較すべき他施設の評価視点に関する情報を全く考慮していない．そのため，もっとも低い性能になったと考えられる．次に，TF-IDFでは，DF(u_j)によって他施設の情報をある程度考慮することができるが，その情報は出現の有無のみである．一方のLLRでは，評価視点の他施設での出現頻度に関する情報も反映できており，この差がranking_resultの結果に繋がったと考えられる．ranking_resultの結果に対して，「手法間のAveragePrecisionに差がない」という帰無仮説を立て，対応のある両側t検定を実施した．その結果，LLR法とTF法，およびLLR法とTF-IDF法のどちらとの間でも，有意水準1%で統計的有意差が確認できた．ranking_topに，実験データ中の3つの宿泊施設におけるランキング結果の例を示す．下線にボールド体の評価視点が正しい特徴的評価視点をあらわす．また，括弧内は出現頻度（TF値）である．評価視点の右に``＊''印があるものについては，その評価視点が含まれていた文脈（の一部）を例としてranking_top_exampleに示す．ranking_topの事例の観察から，TFでは「部屋」や「立地」，「対応」など一般的で出現頻度が高くなりやすい語が上位を占めており，それらの一部が誤りとなっていた．その一方で，LLRでは「武道館」などの出現頻度は決して高くないが対象施設に固有な評価視点の順位がベースラインよりも上がっており，提案手法では他施設との比較がうまく機能していたことがわかる．しかし，ranking_topの観察によると，「パン」と「朝食のパン」のように，宿泊者から見れば同一の事物と考えられるものが異なる順位として現れており，また，ranking_topから外れた下位の評価視点に目を向けると，12位に「クロワッサン」，50位には「焼き立てパン」などが含まれており，異表記が生じていることも同時に確認できた．そこで次に，clで述べた補正手法によって異表記問題に対応した場合の結果について述べる．3つのランキング手法（TF，TF-IDF，および，LLR）に対して補正手法を適用した実験をおこなったが，TF，TF-IDFがLLRを上回ることがなかったため，以下では，LLRに対して補正手法を適用する場合の結果を中心に述べる．補正手法を適用した結果をranking_result_beとranking_result_afに示す．ranking_result_beが事前処理法の結果であり，ranking_result_afが事後処理法の結果である．各図において，縦軸はMAPを示し，横軸は以下で述べる類似度への閾値を示している．凝集型クラスタリングでは，デンドログラムと呼ばれるクラスタをノードとする木を生成するが，各クラスタにはその子ノードの情報から計算される類似度が付随している．本実験では，この類似度に閾値を設け，類似度が閾値以下になったときに併合を停止させてクラスタリング結果を得ることにし，閾値を変化させながら，それぞれのMAPを計測した．今回の場合，類似度の値が1.0となる事例が存在していなかったため，横軸左端の結果は，クラスタリングを行わない場合の結果（ranking_resultの0.574）と同一となっている．ranking_result_be，ranking_result_af共に，全体的な傾向として，類似度の閾値を1.0から下げるに従いMAPが上昇していくことから，クラスタリングを施すことに一定の効果があることが確認できるが，ある類似度を契機に下降に転ずることがわかる．このような結果は次の理由によると考えられる．すなわち，もともと全ての評価視点において異表記が存在するわけではないため，クラスタリングすべき評価視点も部分的となる．今回のようにボトムアップにクラスタリングを進めた時，ある点でクラスタリングすべき評価視点のまとめ上げが終了し，この時点が最適なクラスタ数となり最良のMAP値を得る．しかし，それ以降は本来クラスタリングすべき評価視点に対するまとめ上げではなくなるため本来の目的とは逆に過併合が生じることになり，性能が悪化すると考えられる．MAP値が下降するタイミングがクラスタリング手法によって大幅に異なるが，この違いはクラスタリング手法に起因して必然的に生じる結果であると考えられる．すなわち，単連結法（single）は類似度の最大値に基いて併合を進めるため，ノードに付随する類似度が3手法の中で最も速く大きくなり，MAP値も最も速く下降していく．完全連結法（complete）は，逆に，類似度の最小値に基いているため，MAP値の下降が最も遅い．また，類似度の平均値に基づく群平均法（group）は，上記両者の中間に位置していると言える．クラスタリングを施した場合のランキング結果の例をranking_top2に示す．例示している宿泊施設はranking_topと同じであり，ranking_top2において，下線にボールド体の評価視点が正しい特徴的評価視点をあらわす．また，各表の右列がクラスタ情報である．表の観察から，クラスタリングによって異表記がまとめ上げられていることが確認できる．また，宿泊施設Aのように，クラスタリング前は「パン」，「朝食のパン」という情報しかわからなかった状態において，「クロワッサン」のように，詳細な情報を補う効果も事例によって期待できることがわかった．同様の観点でranking_top2以外の事例を観察してみると，クラスタリング前は「野菜」という評価視点のみが上位にランクされていたが，クラスタリングによって野菜が「春野菜」であることが補えたり，クラスタリング前は「壁」のみであったものが，クラスタリングによって「防音」の壁であることが補える例が存在していた．最後に，3種類の類似度を統合した効果を確認する．ranking_simに3種類の類似度尺度を単独で用いた場合の結果および類似度を統合した場合の結果を示す．類似度尺度以外の実験設定は先程の結果で最良のMAP値となった設定，すなわち，群平均法でクラスタリングし，事後処理法でランキングを補正する手法を適用した．また，クラスタリングによって構成されたクラスタの例をclusterに示す．表の各行において，そのクラスタを構成した類似度尺度に「◯」印を付けている．また，2つ以上の類似度尺度で同じクラスタが構成されていた場合は類似度の値が最も高い類似度尺度に「◯」印を付けている．ranking_simから，どの類似度尺度も統合結果の最良値を上回ることはなく，このことから，類似度を統合することの効果が確認できた．ただし，今回使用したデータに対して人手でクラスタリングを施した結果を用いてランキングを補正したところ，MAP値は0.713まで向上した．つまり，クラスタリング手法および統合手法に対する改善の余地が残されていることが示唆される．</subsection>
  <section title="おわりに">本論文では，レビュー集合から得られる多数の評価視点を重要度に従ってランキングする課題を考え，対数尤度比の考え方に基づく，意見集約のための重要度を提案した．また，クラスタリングをおこなう事で，評価視点の異表記の問題に対処する手法を提案し，それらの有効性を評価実験を通して検証した．その結果，単純な出現頻度に基づくTF法や，TF法に出現文書数の情報を加えたTF-IDF法よりも，対数尤度比に基づく提案手法を用いた方がランキング性能が向上すること，また，クラスタリングによって評価視点の異表記の問題を改善することができることを確認した．今後の課題として，以下の項目が挙げられる．まず，本論文では意見集約のための重要度として，対数尤度比の考え方に従った尺度についてその有効性を検証した．しかし，単語の重み付け尺度は本論文で議論した3つの尺度以外にも従来から提案されているため，それらの尺度についても，今後，意見集約に適した尺度であるかどうか検討していきたい．本論文の冒頭で紹介したHuらの研究のように，一般に，レビューから抽出された評価視点には，その視点に対するユーザの評価（肯定評価か否定評価）が付随しているが，現在の提案手法では評価情報は無視している．そこで，評価視点への評価情報を重要度に反映させる手法を検討することが考えられる．例えば，評価対象間における肯定評価と否定評価の分布の異なり方に応じて重要度を修正することなどが考えられる．experimentの評価実験では，提案した補正手法によって評価視点の異表記の問題に対処することでランキングの性能が改善できることを確認した．しかし，評価視点の異表記を発見する手法に関しては，今後，他手法も含めたさらに詳細な検討が必要である．他手法としては，例えば，分類語彙表のかわりに日本語WordNetを用いた手法や，また，シソーラス等の既存の言語知識に頼らない教師あり学習に基づく類義語検出法の検討などが考えられる．また，異表記とは逆に，多義の評価視点に対する対応も今後必要であると考えられる．例えば，評価実験の際に使用した宿泊施設のレビューの中には，宿泊施設への送迎に利用される乗り物としての「バス(bus)」と，部屋にある入浴設備としての「バス(bath)」があるが，現在これらは「送迎バス」というように明示的な修飾を伴わない限り，区別して扱われていない．今後は異表記と同様に多義語への対応についても検討したい．</section>
</root>
