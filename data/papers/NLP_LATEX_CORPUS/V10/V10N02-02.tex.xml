<?xml version="1.0" ?>
<root>
  <title>表層表現に着目した自由回答アンケートの意図に基づく自動分類</title>
  <author>乾裕子村田真樹内元清貴井佐原均</author>
  <jabstract>自由記述形式のアンケート調査の回答は，選択型回答のアンケートと異なり，回答者の自由な意見を集約できる効果があるため社会的にも注目されている．アンケート調査（質問紙調査法）について研究されてきた社会学・心理学の分野では，アンケートの回答分類はコーディングと呼ばれ，選択型回答・自由回答ともに人手で分析・分類されることが多い．特に自由回答のコーディングには多大なコストがかかるうえに，人の判断による作業は主観的な分類結果を招くという懸念もある．このような背景から，本研究では言語処理の要素技術であるテキスト分類の技術を取り入れアンケート回答の自動分類を行うことで，その結果を自由回答のコーディングに活用するためのコーディング支援を試みた．テキストの分類には，学習アルゴリズムのひとつである最大エントロピー法を用いている．分類にあたり，まずはテキストへのタグ付与実験をもとに意図タグの決定を行った．これらの意図タグを付与した意図タグ付き正解データを作成し，このデータを訓練データとしてN-gram抽出を行い，各タグに特徴的な表現を取り出した．この表現を素性とし，訓練データに対して最大エントロピー法を用いて学習し，分類を行った結果，約8割弱の分類精度が得られた．この手法によって，自由回答テキストに対して回答者の意図を反映した分類を行うことができた．これにより，回答を一件ずつ読みながら類似の内容を持つ回答を探すという，自由回答の人手による分類コストを軽減することができた．また，辞書を用いる形態素解析を使わずに，最大エントロピー法による素性と意図タグの学習を行うことで，「です」「ません」「べき」「必要」「図る」「化」など断片的な情報が意図タグ付与に効果的であることが明らかになった．</jabstract>
  <jkeywords>自由記述型アンケート，自由回答，テキスト分類，意図タグ，表層表現，最大エントロピー法</jkeywords>
  <section title="はじめに">アンケート調査は，さまざまな社会的問題を解決するために，問題解決に関連する人々あるいは組織に対して同じ質問を行い，質問に対する回答としてデータを収集・解析することによって，問題解決に役立つ情報を引き出していくという一連のプロセスである．質問に対する回答には選択型と自由記述型があるが，一般には回答収集後の解析のコストを避けるために，選択型のアンケートを行うことが多い．したがって，従来は選択型アンケートを行うための予備調査として小規模に実施する，あるいは選択型アンケートの中で調査者が想定できなかった選択項目，例えば選択肢以外の「その他」に相当する回答と位置付けられていた．しかし，近年，インターネットの普及やパブリック・インボルブメントに対する関心の高まりから，想定できる意見を選んでもらうのではなく，回答者の自由な個々の意見を聞くことが重視されている．その結果，自由回答が選択型アンケートと同様に大規模に実施されるようになってきている．また，狭義にはアンケート調査によって得られる自由回答とは異なるが，企業のホームページの掲示板やコールセンターなどに寄せられる消費者のメールや意見，地方自治体や政府のホームページに集まる住民からのメールは，自由回答同様に意見集約の対象とみなすことができる．われわれは，これらの意見も自由回答と同様に扱えると考えている．アンケートの自由回答は，このように交通計画や都市計画の分野をはじめ，テレビ番組に対する視聴者の印象などマーケティング・リサーチ対象としても注目されている．自由回答の解析は，回答の内容にしたがった人手による分類作業（コーディング）と因子分析などによる解析を軸に行われる．コーディングの際に広く一般的に用いられるKJ法は，回答を一件ずつ読んで類似する内容の回答ごとにグルーピングするため，大量のアンケート結果に対しては多大なコストがかかる．作業コストの大きさに加え分類時の判断の主観性についても懸念されている．また，回答を回収しても，解析されないまま終わることが多いことも指摘されている．本研究のねらいは，これらのコーディングの過程にテキスト処理の技術を取り入れることにより，人手作業のコストを軽減し，意見集約の対象データとして，自由回答に記述された意見を活用することである．テキストからの情報抽出や，要約・自動分類などの要素技術が蓄積されてきている言語処理技術を用いれば上記の問題を解決できる可能性がある．テキスト分類は，分類カテゴリを検索質問とみなした場合，情報検索と同じ問題と考えることができる．したがって，テキストと分類カテゴリの類似度計算，テキストに対してもっとも類似しているカテゴリの付与といった自動分類の基本的な手続きにおいて，ベクトル空間モデルを用いた場合，確率モデルを用いた場合，規則に基づくモデルを用いた場合など情報検索の基礎技術を利用できる．言語処理におけるテキスト分類では，新聞記事テキストが対象になることが多い．新聞を対象とする分類の場合，多岐に渡る内容を類似する記事ごとにまとめることが目的となる．新聞記事全体を対象にする場合には経済・社会・政治・スポーツなどの分野に，それらの各分野を対象とする場合には，さらに詳細化した内容に分類される．アンケート調査の自由回答テキストは一般に，上記に挙げた新聞の分野に基づく分類項目よりも，さらに分野に特化したテーマにおいて，そのテーマに対する様々な意見や提案が述べられている．同じ設問に対する回答であっても，内容語が必ずしも一定でなく，また，先に述べたとおり設問に対して回答者がどのような意見を持っているのかといった回答者の意図が重要になってくる．しかし，従来の自由回答テキストの処理では，分析・分類対象を表す特徴的キーワードによる研究が主である．尚，「意図」という用語については，さまざまな分野で異なった定義がなされている．言語行為論のように発話（回答）の意味を聞き手に対して命令や謝罪といった意図を話者が伝えようとする行為と捉える立場もある．統語論では「表現意図を言語主体が文全体にこめるところの，いわゆる命令・質問・叙述・応答などの内容のこと」と定義され，文の表現形式と対応させている．また，人工知能や言語処理において対話理解の手法であるプラン認識では，意図は信念と同様話者の心的状態であり，信念と欲求から作られる，「何かをするつもりである」ものとする．このように「意図」の定義はさまざまであるが，本論文での意図は，統語論における意図の考え方に近く「表層の情報から得られる調査者の回答者に対する態度」とする．意図を判定する手がかりになる表現形式があると考え，表層的な情報から意図の抽出および分類が行えると考えている．近年，自然言語処理の分野においても，アンケートの設問に対してどのようなことが回答されているかという観点から，すなわち回答者が何を答えているかという観点から自由回答をデータとして言語処理を行う際の問題点が議論され始めている．この流れは，従来のような高頻度語や内容語を分析の手がかりとする分類手法では不十分であり，内容だけでなく内容に対して「どのように捉えているか」「どのように考えているか」といった回答者の意図を把握するための分類を行う必要があることを示している．以上を踏まえ，本研究ではfigure1に示したように，内容を表す名詞だけでなく，自由回答に現れた文末表現や接続表現に着目し，分析的に研究を進めている．では，文末表現の類型を意味の違いと単純に結びつけずに，回答に対して「てほしい」という表現を加えた文に言い換えることができるかどうかによる判定を導入することによって表層の表現にこだわらず，回答者の要求意図を特定する方法を提案している．また，では，人の推論プロセスを規則化することにより，要求意図が明示されていない意見から要求意図を取り出す方法について提案している．同時に，学習を用いた自動分類の可能性についても研究を進めている．このように本研究では，人手による分析・規則作成の手法と統計的手法を並行して進めながら自由回答から回答者の意図を抽出する手法について，より適切な処理を目指している．また，figure1の曲線矢印に示すように，それぞれの作業プロセスの結果をフィードバックしている．本論文では回答者の意図を考慮した統計的手法による自動分類についての実験とその結果の考察について報告する．自由回答テキスト約1000文に対し，タグ付与実験によって決めた賛成，反対，要望・提案，事実といった，回答が意図するタグ（以下「意図タグ」と呼ぶ）を各回答文に付与する．これらのデータに対し表層表現の類似性に着目することによって，最大エントロピー法（ME法）を用いた分類実験を行う．分類結果をもとに，自由回答テキストから回答者の意図を抽出し分類するための手がかりとなる表現，および表現間の関係について考察する．</section>
  <section title="自由回答とは">本章では，アンケート調査および自由回答，自由回答に関する研究ならびに自由回答の分類・分析に関する社会的ニーズについて述べる．</section>
  <subsection title="アンケート調査の方法と自由回答">冒頭にも述べたように，アンケート調査はさまざまな社会的問題を解決するための手段である．アンケート調査を実施する際には，調査目的をはじめとするさまざまな制約に照らし合わせ，下記の要素を選択することが必要である．アンケート調査の目的調査の内容（意識調査，行動調査）調査対象（個人，世帯，法人）調査の実施方法（面接調査，郵送調査，電話調査）回答の形式（選択型，自由回答型）調査の目的すなわち問題解決の種類からアンケートを分類すると，enquete_typeに示した7タイプを挙げることができ，これは，調査の実施方法や回答の形式を決定する際にも大きく影響する．実施方法については，面接調査・郵送調査・電話調査の三種がおもに行なわれている．これらの調査に関する回答や観察結果を記録するのが調査票であり，調査票における回答様式の一形態が自由回答である．回答様式には，回答の自由な形式と限定される形式がある．限定される形式ではyes-no質問型に代表される2項選択型や，複数の選択肢を用意した多肢選択法・分類法・一対比較法・SD法などがある．回答の自由な形式には，言語連想法・文章完成法の形式とともに自由回答法がある．一般に，回答が限定される方式では，回答のしやすさ，質問の意味の通じやすさ，データ解析の容易さにおいて利点がある．したがって，enquete_typeの1に示した基礎的な統計資料を得るために行うアンケートをはじめとして，多くのアンケート調査は選択型回答が採用される．自由回答では回答の特徴が選択型回答と逆に現れるので，欠点として，回答しにくいために無回答が増える，的外れの回答がある，コーディングに時間がかかるといった問題が挙げられる．また，自由回答のコーディングは，人手作業の手間の問題だけでなく，結果の解釈に関する調査者の主観についても指摘されている．このため，自由回答は選択型アンケート調査の予備調査としてか，あるいは，enquete_typeの2や4に示したような問題発見に多く利用されてきた．</subsection>
  <subsection title="自由回答のコーディング">アンケートのコーディングは次の三段階の作業過程から成り立っている．回答に対する分類カテゴリの決定各分類カテゴリに対する記号の決定とコード表の作成集計カード・コーディング表の作成と回答の記号化作業分類カテゴリ上記のコーディング過程のうち，もっとも重要なのは(1)の分類カテゴリの決定と言われており，とくに自由記述形式の分類では，分類カテゴリを発見，構成すること自体が研究目的となることもある．分類カテゴリの決定において，分類を行う目的となるのは原則的に，i)自由記述形式のアンケート，ii)探索的研究（enquete_typeの46）のアンケートの二点と言われている．前者では回答から「典型」を抽出・発見し，出現頻度に関係のないカテゴリの型を区別すること，すなわち分類カテゴリの樹立そのものが重要である．後者では出現頻度とも関連させた「意味のある傾向」を得ること，すなわちデータマイニングから特定の分類カテゴリを得ることが重要である．分類カテゴリを作成するにあたっては，その作成過程において仮説検証的な作業を繰り返す．すなわち，機能的分類と演繹的分類を繰り返し行うことにより調査目的に適った分類カテゴリを作成していく．一般に，探索的研究においては自由記述形式のアンケートを行うことが多いが，この対応は必然ではなく，むしろコーディング過程では区別すべき点である．自由回答のコーディングはこれら一連の作業過程に大きなコストがかかるため，先に述べたとおり，本研究ではコーディング支援のための分類を目標としている．また，分類カテゴリの決定については，あくまで原則であり，調査の目的およびデータの性質などに依存するため，唯一決定的なものが存在するわけではないことも言及されている．</subsection>
  <subsection title="自由回答に関する研究">研究の手法として社会調査が盛んである社会科学系の研究分野および心理学系の研究分野では，自由回答は重視されてこなかった．しかし，すでに述べたように，自由記述型アンケートの回答を意見集約や問題解決の材料とするニーズは高まってきており，近年，自由回答の分析方法に対する自動・半自動処理の検討も盛んになってきた．従来の自由回答に関する研究は，分析の対象が自由回答であっても，分類・分析の手法は手作業が中心であったり，回答の内容語を手がかりに半自動的に行われたりするものである．これらの研究はキーワードに着目した内容分類，すなわち従来のテキスト分類に近い．社会学分野において自動分類を目指した研究に，言語処理技術を用いて格フレームを利用した職業コード自動分類システムの開発がある．ここで対象とする自由回答は一語もしくは比較的単純な構造の一文であり，取り出す情報は名詞を中心としている．また，言語処理分野においては統計的学習手法を用いてテキストマイニングを行っている研究がある．本研究では，回答者の意図を分類することを目的としているのに対し，李らの研究では，ある回答の記述対象に対する特徴表現を取り出すことを目的としている．回答の対象（例えば「車」）についての自由回答に現れた頻度の高い単語と，その回答が属するカテゴリ（例えば「ブランド」）との相関関係から分類ルールと相関ルールという二種類の規則を学習する．この学習は，分類ルールとして取り出されたキーワードとその特徴的な強さ，および頻度という構造をもった確率分布のクラスから統計的モデル選択を行うことに相当する．これにより，頻出単語でなく，ある分析対象の特徴イメージを取り出している．先に述べたように，現在進められている自由回答の自動分類に関する研究は萌芽的なものであるが，自由回答に関する分類・分析手法への期待は近年高まってきている．例えば，都市計画や交通計画において計画主体側が住民の意見を広く収集するような場合である．このように計画主体側が住民側に働きかけて，計画の策定に関与してもらうプロセスをパブリック・インボルブメント（PI）という．本研究で対象にした自由回答テキストもPI方式によるアンケート調査の回答である．計画の初期に市民に関心を持ってもらう，また計画の実現段階で市民の意見を計画に反映させるなどの目的でさまざまなパブリック・インボルブメント手法が提案・検討されており，そのひとつに意識調査がある．この意識調査は，標本抽出などを行わないインフォーマルな形式でのアンケートとして実現されることもある．現在のところパブリック・インボルブメントの方法および効果と，アンケートの方法・形式との関係はまだ十分議論されていない．自由記述型アンケートの設計方法やその回答テキストを効率的に処理する方法は，今後この分野において議論が高まると考えられる．</subsection>
  <subsection title="本研究で用いた自由回答テキスト">本研究で対象とした自由回答テキストについて説明する．われわれが使用したボイス・レポートとは，道路審議会基本政策部会「21世紀の道を考える委員会」が平成8年5月から7月に実施したアンケート調査の自由回答である．将来的な道路計画に市民の声を活かす目的で行われた調査で，回答人数35,674人，回答数（意見数）113,316件の大規模調査である．意見は，ハガキ，封書，FAX，電子メールによる回答の他，ホームページへの書き込みによって集められている．質問形式はfigure2に示したように，あらかじめ設定された12個の交通に関連するテーマから回答者が関心の高いものを選択し回答する．回答形式は120字程度の文字を記入できる回答欄に自由に意見を書くことができ，書ききれない場合は別紙に記入できる自由記述形式である．しかし，figure2の下部に示したように，各テーマに対して4〜5個の参考意見およびグラフや図などの参考資料が提示されているため，選択型設問形式の性質も帯びている．例えば，「Aさんに賛成」「Bさんの意見に同感」といった選択型回答に近い回答例があり，これらは全体の1,%程度を占めている．</subsection>
  <section title="意図タグの作成">ここでは，本研究における自由回答テキストの分類手法について述べる．本論文の冒頭で述べたように，自由回答テキストの分類では賛成，反対，提案といった回答ごとの意図によって分類することが重要である．そこで，分類タグを定義し，そのタグをテキストに自動付与することにより意図に基づく回答の分類を行う．次節では，まず，分類タグの決定および決定のための試行実験について述べる．ここで決定されたタグを意図タグ，また意図タグの付与されたデータを意図タグつき正解データと呼ぶ．answerでは意図タグつき正解データについて説明する．</section>
  <subsection title="意図タグ決定のプロセス">意図タグを決定するにあたり，まず，1)どのようなタグを用意するのか，また，2)どのような単位に対して付与するのか，などの検討が必要である．しかし，先に述べたように自由回答をどのように分類すべきかに関する十分な知見がまだない．また，自由回答の分類にあたっては，調査者が必要とする分類カテゴリを作成することが重要と考える．したがって，本研究では，アンケートの実施側になりうる都市計画・交通計画の研究者へのヒアリングをもとに，アンケート分類の初期段階として，少なくとも「賛成」「反対」「提案」の区別を可能にすることを目標とした．そして，タグ付与実験を行い，その結果から試験的に意図タグを決定した．タグ付与実験ではtagging_exampleに示すように，100文のテストデータを対象に，筆者ら4人が作業者A〜Dとして個別に，「賛成」「反対」「提案」以外のタグの種類は固定せず自由に意図タグ付与の試行実験を行った．また，回答の表現に左右されずに回答者の意図をタグとして表現するよう留意した．タグを付与する範囲は，一回答中に複数の文が含まれていれば，それぞれの文に意図タグを付けた．意図タグを一回答ごとではなく回答中の一文ごとに付与したのは，あるテーマに対する一つの自由回答にも賛成意見や部分的な反対意見，また提案など複数の意図が含まれているためである．また，本論文では，回答中の談話構造を考慮していないため回答文ごとに付与した．さらに，意図のタグを各文一つに決定するのではなく，観点が異なる場合を考慮して3個までつけられるようにした．3個の区別は，作業者それぞれによって異なり，a)文の表層的な意味と回答者の意図，b)意図の詳細化，c)異なる観点による意図，など違いがあった．この試行実験のタグ付与テキストを各作業者が持ち寄り，検討した結果，tagging_exampleのボールド体で示されるように共通して記述された意図を意図タグとした．例えば，tagging_exampleに見られるように，同じ例文に対して作業者全員が共通して記述した「提案」をこの例文の意図タグとした．この検討によって，6個の意図タグと下位分類タグを用意することにした．intention_tagに意図タグの種類と各タグの説明を記述する．enqueteで述べたように，自由回答の分類では，分類カテゴリ自体をどのように作成するかが重要であり，仮説検証的な分類を繰り返し行う．したがって，実験的に作成したintention_tagのカテゴリは最終的な分類結果ではない．しかし，ここでは，1)調査者側の立場からのヒアリング，および2)複数の作業者による実験的作業によって決定されたタグであることから，これらを採用し意図タグとする．また，ME法を用いたことにより，これらのカテゴリの元で分類された実験結果からカテゴリと回答の表現との対応を分析したうえで，分類カテゴリを再定義することができる点は自由回答のコーディング支援に適しているといえる．</subsection>
  <subsection title="意図タグ付き正解データの作成">912文の自由回答テキストに対して，processで定めた意図タグを付与した．これを意図タグ付き正解データと呼ぶ．data_collectionに各タグに対するテキスト事例を示す．data_collectionに示した「Bさんに異論．」を例に，意図タグの付与について述べる．「Xに異論」の「X」を回答内容，「に異論」の部分を回答者の態度とみなした場合，本論文では「に異論」といった回答者の態度に基づいてタグを付与している．したがって，回答文「Xに異論」には「反対」のタグが付与される．本論文では，タグ付与によって「X」に該当する回答内容を明らかにすることは対象としていないが，手法としてはタグを再定義することにより可能である．</subsection>
  <section title="最大エントロピー法（ME法）を用いた学習および分類実験">テキストの自動分類には，1)テキストの表層的な統計情報を用いた手法と，2)シソーラスや辞書など人手で作成された言語知識の意味体系を用いた手法がある．上述のとおり，現在のところ，回答の意図を知るための，意図と表現形式を結びつけるような意味体系は存在しない．したがって，本研究ではfigure3に示したように，表層的な統計情報を用いて，前章で決定した意図タグを自由回答テキストの分類先とする分類実験を行う．本章では，意図タグ付き正解データから各意図タグの特徴表現である素性としてのN-gramを自動抽出し，さらに意図タグ付き正解データから，素性を付与した訓練データを自動的に作成する方法について説明する．訓練データから統計情報を学習する際には，最大エントロピー法を用いる．学習によるテキスト分類の研究には，決定木を使ったものもあるが，本研究では，高い精度を安定して出せることが期待できる最大エントロピー法を使っている．しかし，今回，学習アルゴリズムを替えての精度比較は行っていない．自由回答テキストの自動分類の可能性を確認する目的で利用している．以下，figure3の流れに従って，学習と分類実験について述べる．</section>
  <subsection title="素性の抽出と訓練データの作成">answerで説明した意図タグ付き正解データからN-gram抽出によって素性を取り出す．後で詳しく述べるが，素性はME法によって学習される意図タグ付き正解データにおいて，各意図タグを付与された回答文の特徴にあたる．素性として，1〜15文字までの任意の連続文字列（N-gram）を使い，意図分類のキーになるような表現を学習によって取り出している．例えば，「要望・提案」という意図タグのついた「徹底的に違法駐車の取り締まりを行うべき」という例文では，「徹／徹底／徹底的／...／底／底的／...／うべき／べ／べき／き」などが素性として自動的に取り出される．また，文末情報は重要であると判断し，文末に「」を挿入している．つまり文末の文字列は，文中の文字列と区別してとらえることができる（例「のでは」）．また，文末の句点の有無は回答によって異なるので，書式を統一させるために省いている．実際には，912文の意図タグ付き正解データに現れた，5回以上出現のすべてのN-gramを素性として約300種類（平均282個）を用意した．対象とした学習データのデータ量が少ないため，5回以上出現の素性に絞っている．ME法を用いた学習部への入力データとなる訓練データは，意図タグつき正解データに対して，ここで抽出された素性が各文に出現しているかどうかを自動的に調べその結果を表としたものである．training_dataに示すように，人手で付与されたタグが1または0の値で表されている．回答テキストの事例に対して該当する意図タグが1，そうでないタグは0である．意図タグは一回答文に対して一つ付与されているため，1の値が複数与えられることはない．右側の項目列はN-gram抽出によって取り出された素性で，事例の中に現れていれば1，そうでなければ0が与えられる．素性としてN-gramを抽出した理由は，新聞記事と異なり自由回答テキストには表現形式に個人差や表現のゆれなどが現れやすいためである．例えば「〜しなければならない」という表現に対して，等価の意味の「しなくてはならない」だけでなく，自由回答テキストでは「しなくちゃならない」「しなきゃならない」「しなくては」「しなきゃ」「しなければ」など様々な表現のバリエーションが回答に現れるため，あらかじめ形態素辞書などに登録しておくことが難しい．なお，N-gramを用いたテキスト分類には，Eメールの分類を目的にした研究がある．メールにおけるスペルミスや文法誤り，またOCRでテキストを読み込む際の認識誤りなどに対処するためにN-gramが利用されている．</subsection>
  <subsection title="ME法による学習">この節では自由記述テキストの各回答文（事例）に付与するべき意図タグの尤もらしさを計算するモデルについて述べる．われわれはこのモデルをMEモデルとして実装した．MEモデルでは，確率分布の式は以下のように求められる．文脈の集合をB，出力値の集合をAとするとき，文脈b(B)で出力値a(A)となる事象(a,b)の確率分布p(a,b)をMEにより推定することを考える．出力値aはn個の出力値a_i~(1in)のいずれかであるとし，文脈bはk個の素性f_j~(1jk)の集合で表す．そして，文脈bにおいて，素性f_jが観測されかつ出力値aがa_iとなるときに1を返す以下のような関数を定義する．g_i,j(a,b)&amp;=&amp;.eqnarray*これを素性関数と呼ぶ．ここで，exist(b,f_j)は，文脈bにおいて素性f_jが観測される場合に1を返す関数とする．われわれの場合，素性としては文を構成するN-gramを用いる．例えば，素性関数として次のようなものを用いる．詳しくは次節で述べる．g_i,j&amp;=&amp;.eqnarray*次に，それぞれの素性が既知のデータ中に現れた割合は未知のデータも含む全データ中においても変わらないとする制約を加える．つまり，推定するべき確率分布p(a,b)による素性f_jの期待値と，既知データにおける経験確率分布p(a,b)による素性f_jの期待値が等しいと仮定する．これは以下の制約式で表せる．_aA,bBp(a,b),g_i,j(a,b)&amp;=&amp;_aA,bBp(a,b),g_i,j(a,b)~~~for~~ijeqnarray*この式で，p(a,b)=p(b),p(a|b)=p(b),p(a|b)という近似を行い以下の式を得る．_aA,bBp(b),p(a|b),g_i,j(a,b)&amp;=&amp;_aA,bBp(a,b),g_i,j(a,b)~~~for~~ijeqnarrayここで，p(b)，p(a,b)は，freq(b)，freq(a,b)をそれぞれ既知データにおける事象bの出現頻度，出力値aと事象bの共起頻度として以下のように推定する．p(b)&amp;=&amp;freq(b)_bBfreq(b)eqnarray*p(a,b)&amp;=&amp;freq(a,b)_aA,bBfreq(a,b)eqnarray*次に，eq4の制約を満たす確率分布p(a,b)のうち，エントロピーH(p)&amp;=&amp;-_aA,bBp(b),p(a|b),(p(a,b))eqnarray*を最大にする確率分布を推定するべき確率分布とする．これは，eq4の制約を満たす確率分布のうちで最も一様な分布となる．このような確率分布は唯一存在し，以下の確率分布p^として記述される．p^(a|b)=_i,j_i,j^g_i,j(a,b)Z_(b)~~~(0&lt;_i,j)eqnarrayZ_(b)&amp;=&amp;_a_i,j_i,j^g_i,j(a,b)eqnarray*ただし，_i,j&amp;=&amp;e^_i,jeqnarray*であり，_i,jは素性関数g_i,j(a,b)の重みである．この重みは文脈bのもとで出力値aとなることを予測するのに素性f_jがどれだけ重要な役割を果たすかを表している．訓練集合が与えられたとき，_i,jの推定にはImprovedIterativeScaling（IIS）アルゴリズムが用いられる．ここでは，eq8の導出については文献などを参照されたい．</subsection>
  <subsection title="実験方法">ここでは，実験の概要について説明する．data_preparationで説明した訓練データを入力として，ME法を用い，任意の入力に対して各意図タグが分類先となる確率を学習する．分類実験では，912文の実験データに対してN-gram抽出を行い，抽出したN-gramを素性として利用する．意図タグが分類先となる確率の学習結果を用いて，その確率値がもっとも大きい意図タグを解とする．分類先の決定方法について述べる．着目する回答文にどの意図タグが付与されるべきかについては，あらかじめ設定された閾値よりも解の確信度が高いか等しい場合に，着目する意図タグを分類先とする．閾値は，0から1までの値をとる．解の確信度は，ME法で分類先を決定する際に算出される確率とする．すなわち，分類を決めるための判定条件はであり，この条件を満たす場合に解とする．解析結果のうち，もっとも確率の値が大きい分類を解とする．データ量が十分でないため，10分割のクロスバリデーションによる評価を行っている．</subsection>
  <subsection title="実験結果">前節で述べたとおり，意図タグ付き正解データを訓練データとした学習結果を用いて意図タグの分類実験を行った．結果はresultに示すとおりである．resultは，実験方法を説明する際に述べた閾値が0の結果である．最左列には分類先の意図タグが記されており，各意図タグに対する適合率および再現率が示されている．タグ名の「要提」は「要望・提案」の略記である．意図タグ全体に対するタグ付与結果は，再現率・適合率ともに76,%の精度が得られた．再現率は実験結果の正解数を意図タグ付き正解データのデータ数で割ったもの，適合率は実験結果の正解数をシステムが出力したデータ数で割ったものを示している．ここで，意図タグのうち，もっとも頻度の高い事実タグの正解データ数420件をデータ総数912件で割った値，すなわちすべてに事実というタグを付与した際の正解の割合をベースラインとみなす．この場合，ベースラインの精度は46,%となる．われわれの手法の精度は76,%であったので，この手法はベースラインより精度が高いことがわかる．疑問タグは適合率が81.3,%と比較的高い値が出ているのに対し，再現率は55.3,%とやや低い．また，事実タグでは再現率に高い値が見られる．これらについては後で考察する．四列目からは各意図タグの分類先の個数が示されている．同じ意図タグの行と列が交差するセルに正しく分類された個数が示されている．この誤りの傾向については，considerationで考察する．figure4のグラフは，閾値を0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,0.95,0.98,0.99とした場合の再現率と適合率を示している．閾値を上げることにより，再現率が下がり適合率は上がっている．また，figure5に示すように，意図タグの下位分類については賛成および反対が誰に対するものかを区分した「個人」「政策」のうち，閾値が0の際の再現率および適合率が96.7,%（figure5のC1），要望・提案の具体性・抽象性を区分した「具体」「抽象」の再現率および適合率が70.7,%（figure5のC2），事実の捉え方を区分した「ネガティブ」「ポジティブ」「中立」の再現率および適合率が64.5,%（figure5のC3），また，事実が事実的認識を述べたものか，回答者の主張であるかを区別した「事実」「事実（主張）」の再現率および適合率が57.9,%（figure5のC4）であった．</subsection>
  <section title="考察">ここでは，自動的に意図タグ付与を正しく行った例（正解例）と誤った例（誤り例）を比較分析することにより，今後，分類結果の精度を向上させるための手がかりをさぐる．意図タグ付与の正誤例を示したexampleをもとに考察を進める．考察にあたり，まず，exampleの説明をする．事例を説明する際には，事例の番号として表の最左列の番号を用いる．隣接する「出力」の列は，分類実験で付与された意図タグである．このタグが正解であれば，「正誤」の列に「○」が付いている．なお，exampleでも「要望・提案」を「要提」と省略する．四列目の「正解」には，タグが正しく付与された場合に「出力」と同じ値が，誤っている場合に意図タグつき正解データの値が示されている．「素性」の列には，システムの出力に大きく影響した素性が記述されている．ここに示した素性とは，learningのeq8で，a,bがシステムの出力および文脈のとき，g_i,jが1である素性f_jのうち_i,jの値の順で上位5個のものである．_i,jの大きさは素性の影響力を意味し，この値が大きい素性を取り出している．「回答文」は実験対象の事例である．effective_featは，システムが正しい解として出力した事例から，exampleに挙げた上位5個の素性の頻度統計を求めたもので，意図タグ，頻度，素性の三項目を三列並べている．例えば，一列目最初の「事実,36,は」は，システムの出力および付与した正解の意図タグがともに「事実」であった事例のうち，36個の事例で素性「は」がの値の順で上位5個以内にあったことを意味している．effective_featは，このような正解の出力に大きく影響を与えた素性のうち，上位36個の頻度の高かった素性を示したものである．事実タグでは係助詞の「は」，文末に現れた断定の助動詞「です」，同じく文末の否定形「せん」「ません」，アスペクト表現の「ている」「ています」などが頻出している．疑問タグでは疑問符「?」が文中，文末のいずれに現れた場合でも高頻度の素性として取り出されている．賛成タグに「さん」「C」「D」といった表現が現れているのは，related_workで述べたように「Aさんに賛成」「Bさんの意見は一理ある」といった回答が記述される場合があることによる．要望・提案タグでは，文末に現れた「する」が高頻度素性として取り出されている．これはアンケートの回答では「渋滞を解消する」と書けば「渋滞を解消してほしい」「渋滞を解消すべき」と同義になるためであり，アンケート回答に特徴的な表現と言える．effective_featの素性を参照しながら，exampleについて以下詳述する．疑問タグでは，文中および文末の終助詞「か」（例1,2），賛成タグであれば「A」「D」「Cさん」や「同」や「賛成です」といった文末表現（例3,4）が特徴的であることがわかる．また，事実タグでは，文末のアスペクト表現「ている」や丁寧の助動詞「ます」の否定形（例5〜7），要望・提案タグでは文末に現れる補助動詞「する」，助動詞「べきだ」，動詞「図る」，提案内容を示す表現「共同化」「構造化」などに現れる「〜化」（例8〜13）が特徴的な表現として観察できる．「ません」「せん」「しか」および「ている」「ています」「いる」などが事実タグを出力とする素性として高頻度である理由は，これらが要望・提案などの背景や要望の根拠を示す表現に関連するためである．「ません」「せん」「しか」などの否定的意味を含意する表現は，現状の設備や制度の不備に対する不満として回答文に現れる（例7）．また，「ている」「ています」「いる」は，要望や提案の根拠として現状説明をする際に現れる（例5）．上述した事実タグを出力する素性によって，例16に与えられた分類タグも「事実」となっている．ここでは「〜ていただきたいと願ってやみません」という要望・提案表現の一部として，否定的表現「ません」が現れている．したがって，これらを正解とするためには，「ません」で文が終わっていても，「ていただく」「願って」などが素性として出現していれば「事実」でなく「要望・提案」になると学習される必要がある．そのためには，学習コーパスを増やすことが必要であろう．学習コーパスを増やすことは，「Aさん」「Bさん」などの表現が強力な素性となっている賛成タグや反対タグが分類される際にも必要であり，これは例15に見られる．ここでは，「Bさん」だけでなく反対の意味を示す「異論」という表現が素性として学習される必要がある．本研究で対象としたアンケートの中では，反対を明示的に表明した回答文は少数であったため，反対タグを付与されるべき回答の特徴が十分に学習されなかった．また，例17に見られるように「終電を遅くすれば，朝ラッシュの道路負荷は少し軽くなる」を「終電を遅くして，朝ラッシュの道路負荷を軽くしてほしい」と言い換えられる表現がある．このとき，「れば〜なる」は「てほしい」という要望・提案表現に対応する表現とみなすことができる．このため「れば〜なる」も素性として利用すると例17も正しく分類できると期待される．しかし，このように離れた位置に表れる文字列はN-gramでは抽出できないため，「れば〜なる」を「れば」と「なる」の二つの素性の組み合わせで表すなど素性の組み合わせを一つの素性として利用する必要がある．このように素性のバリエーションを増やすことによって精度を高められる可能性もある．また，例18では「住環境が悪化する」のように，要望・提案の高頻度素性である「する」が現れているが，これは要望・提案ではない．「する」を要望・提案の手がかりとしてよいのは，「渋滞を解消する」のように「渋滞を解消」といった要望内容になりうる事柄，すなわちポジティブな表現の場合である．「悪化する」のように，ネガティブな表現の場合は直接的には要望・提案とは考えにくい．したがって，これらの表現に対しては，ポジティブ表現かネガティブ表現かを推定するなどにより精度が高まる可能性がある．さらに，この推定ができた場合，前後の文との関係に考慮が必要な場合もある．例19「道路負荷を軽く」がポジティブな表現であることがわかった場合，要望内容であると推察できる「それ」で示されている事柄があり，「道路負荷を軽く」が「それ」の効果および要望理由であると考えられる際には「それが，道路負荷を軽くする」という事例自体は事実を示していると解釈するほうが妥当である．先に述べたように，本研究では回答内の談話的構造については考慮していないため，これについても今後の課題と考える．最後に，考察結果から今後の課題を下記にまとめておく．学習コーパスを増やす「れば〜なる」といった呼応表現のように，N-gramで抽出できない表現にたいしては素性の組み合わせを導入する表現の意味がポジティブであるかネガティブであるかを推定する回答における文間の談話的構造を考慮する意図タグの種類や付与基準を見直す</section>
  <section title="おわりに">本研究では，言語処理の要素技術であるテキスト分類の技術を取り入れアンケート回答の自動分類を行うことで，その結果を自由回答のコーディングに活用するためのコーディング支援を行った．回答者の意図を反映した意図タグを決定するために，100文の回答テキストへのタグ付与実験を行い，4人の作業者の作業結果に基づいて，メタ，賛成，反対，要望・提案，事実，疑問といった意図タグを作成した．この意図タグを付与した意図タグ付き正解データを作成し，各意図の特徴的な表現を素性として取り出すため，N-gram抽出を行った．これにより取り出された素性の出現有無の情報を，意図タグ付き正解データに加えて学習のための訓練データを作成した．この訓練データを入力とし，ME法を用いて意図タグが分類先となる確率を学習し，その確率値がもっとも大きい意図タグを解とする実験を行った結果，約8割弱の精度が得られた．本研究により，自由回答テキストに対して回答者の意図を反映した分類を行うことができた．また，辞書を用いる形態素解析を使わずに，ME法による素性と意図タグの学習を行うことで，「です」「ません」「べき」「必要」「図る」「化」など断片的な情報が意図タグ付与に効果的であることが明らかになった．さらに「図る」という動詞や「〜化」といった接尾辞が要望・提案の回答を分類する上で意図を示す重要な表現であるといった発見もあった．今後は，学習コーパスを増やすことを中心に，考察の結果，明らかになった問題を解決する手法について検討する．</section>
</root>
