<?xml version="1.0" ?>
<root>
  <title>用例ベース翻訳のための対訳文の句アライメント</title>
  <author>荒牧英治黒橋禎夫佐藤理史渡辺日出雄</author>
  <jabstract>用例ベース翻訳を実現するためには，大量の用例が必要である．本研究は，対訳文を用例として利用できるようにするために，対訳文に対して句アライメントを行なう手法を提案する．従来の句アライメントでは，語アライメントを得てから，その情報をもとに句アライメントに拡張する手法が方式が多かった．本手法では基本句という文節に相当する単位を導入して，基本句間のアライメントを行なう．実験を行なった結果，良好な結果を得た．</jabstract>
  <jkeywords>句アライメント，用例ベース機械翻訳，翻訳知識獲得</jkeywords>
  <subsubsection title="">*内的整合性基本句対応の候補内に辞書対応リンクを多く持っている場合，その候補は信頼性が高い．そこで，候補内の辞書対応リンクの情報を内的整合性として，以下のように定義する．[(内的整合性)=D_j+D_eW_j+W_e(D_j+D_e)]ただし，W_jは候補内の日本語の内容語の数，W_eは英語の内容語の数である．D_jは辞書対応リンクを付与されている日本語の内容語の数，D_eは辞書対応リンクを付与されている英語の内容語の数である．D_j+D_eW_j+W_eは，候補内の辞書対応リンクの充足の度合いを示しており，候補内のすべての内容語が辞書対応リンクを付与されている場合に最大値である1をとる．ここで，すべての内容語が辞書対応リンクで接続されていても，内容語数が1:1の候補と，2:2の候補では，後者の候補の方が候補内の辞書対応リンクがお互いに支持しあっており，信頼性が高いと考えられる．そこで後者を優先するために，log(D_j+D_e)により重み付けをしている．例えば，図の候補3は内容語数が9つ(日本語側4つ，英語側5つ)であり，そのうちの8つが辞書対応リンクをもつ．よって，内的整合性は1.84(=4+44+5×(4+4))となり，候補1〜6の中でもっとも高い値となる．</subsubsection>
  <section title="はじめに">インターネットが急速に広まり，その社会における重要性が急速に高まりつつある現在，他言語のウェブ情報を閲覧したり，多言語で情報を発信するなど，機械翻訳の需要は一層高まっている．これまで，機械翻訳の様々な手法が提案されてきたが，大量のコーパスが利用可能となってきたことにともない用例ベース翻訳や統計ベース翻訳が主な研究対象となってきている．本稿は前者の用例ベース翻訳に注目する．用例ベース翻訳とは，翻訳すべき入力文に対して，それと類似した翻訳用例をもとに翻訳を行なう方式である．経験豊かな人間が翻訳を行う場合でも用例を利用して翻訳を行っており，この方式は他の手法よりも自然な翻訳文の生成が可能だと考えられる．また，用例の追加により容易にシステムを改善可能である．以上のような利点を持つものの，用例ベース方式は翻訳対象領域をマニュアルや旅行会話などに限定して研究されている段階であり，ウェブドキュメント等を翻訳できるような一般的な翻訳システムは実現されていない．その実現が困難な理由の一つに，用例の不足が挙げられる．用例ベース翻訳は入力文とできるだけ近い文脈をもつ用例を使うため，用例は対訳辞書のように独立した翻訳ペアではなく，まわりに文脈を持つことが必要である．つまり，用例中のある句が相手側言語のある句と対応するというような対応関係が必要となる．用例ベース翻訳を実現するためには大量の用例が必要だが，人手でこのような用例を作成するのは大量のコストがかかる．そこで，対訳文に対して句アライメントを行い用例として利用できるように変換する研究が90年代初頭から行われてきた．当初は，依存構造や句構造を用いた研究が中心であったが，構文解析の精度が低いために実証的な成果が上がらなかった．その後には，構造を用いず用例を単なる語列として扱った統計的手法が研究の中心となっている．統計的手法によって対応関係を高精度に得ることは可能だが，そのためには大量の対訳コーパスが必要となる．近年は構文解析の精度が日英両言語で飛躍的に向上し，再び構造的な対応付けが試みられている．Menezes等は，マニュアルというドメインで依存構造上の句アライメントを行なっている．今村は，旅行会話というドメインで句構造的上の句アライメントを行なっている．これらの先行研究は，限定されたドメインのパラレリズムが高いコーパスを扱っており，一般的なコーパスが用いられていない．本稿はコーパスに依存しない対応付けを実現するために依存構造上の位置関係を一般的に扱い，対応全体の整合性を考慮することにより対応関係を推定する．これは，を基本句の概念を導入して発展させたものである．本稿の構成は以下のとおりである．2章で提案手法について述べる．3章で実験と考察を述べ，4章にまとめを付す．</section>
  <section title="提案手法">提案手法は，対訳文を入力とし，両言語に含まれている基本句(次節にて定義)間の対応関係を推定する．提案手法の本質的な部分は対象とする言語ペアに依存しないが，実験は日英間で行なったため，以下の章では日英を対象として手法を説明する．提案手法の大まかな流れは次のようになる．基本句を単位とした依存構造への変換:日英両言語の文を構文解析し，語をまとめることにより，基本句を単位とした依存構造を得る．辞書の情報による対応関係の推定:日英対訳辞書(以下，辞書とよぶ)を利用し基本句対応を推定する．未対応句の処理:辞書の情報では対応のつかなかった基本句(以下，このような句を未対応句とよぶ)を含んだ基本句対応を推定する．</section>
  <subsection title="基本句">日本語では，語(形態素)という単位の基準が曖昧であり，高精度に自動検出することができる文節が統語解析の単位として一般的に用いられてきた．一方，英語においては，語の基準が明確であるため，文節に相当する単位は通常用いられない．これら両言語の言語の構造を照合する際には，従来，語を単位とした構造照合が行われてきた．提案手法では，文節に相当する単位を英語に導入し，両言語の構造を文節に相当する単位で照合する．英語には，文節に相当する単位は存在しないため，本稿では，この単位を基本句とよぶ．基本句を対応の単位とすることのメリットは次のようにまとめられる．複合名詞などにおける基本句の内部の結びつきは強い結び付きであるので，対応の整合性を調べる際の強い手がかりとできる．機能語は各言語固有の振る舞いがあり，それをバラバラに扱うと問題が複雑になってしまう．基本句を単位とすることにより内容語中心の取り扱いとなり，問題が単純化される．ある対応が周辺と整合的であるかどうかを計算する場合に，まわりとの距離の尺度が必要であるが，単語を単位として考えるよりも，基本句を単位とする方が妥当な尺度となる．</subsection>
  <subsection title="基本句を単位とした依存構造への変換">まず，対訳文中の両言語の文を統語解析し，その結果を基本句を単位とした依存構造に変換する．これは日英それぞれ次のように行なう．日本語の文については，KNPを用いて統語解析を行なう．その結果得られる「(接頭辞＊)(内容語＋)(機能語＊)」という構造を持つ文節を基本句とする(＊は0回以上の繰り返し，＋は1回以上の繰り返し)．文節と異なる点は，「(〜に)ついて」や「(〜に)おいて」など，機能的表現となっている内容語を直前の文節にまとめることである．ここでいう機能的表現となる文節は，人手で登録した文節パターン約30に当てはまる文節と，KNPの解析結果が＜複合辞＞となる文節とする．英語の文については，Charniakの統語解析システムを用いて解析を行なう．これは句構造を出力するので，各句構造規則に主辞を定義することにより依存構造に変換する．次に内容語を中心にして，その前後の機能語(前置詞・冠詞・不定詞など)をまとめる．これには次の規則を用いた．複合名詞をまとめる(例：theoilcrises)機能語を内容語とまとめる(例：atthismeeting)助動詞や助動詞的表現を主動詞とまとめる(例：hadbetterstudy)図に，両言語の文を基本句を単位とした依存構造に変換した例を示す．日本語側の「役割に向け」の「向け」や，「踏み出すことになる」と」の「ことになる」が機能的表現であるために直前の文節にまとめられて基本句となっている．英語側では，(1)〜(3)の規則により，図右のように語がまとめられる．日本語側との大きな相違点は，基本句をまとめる際に表層の文字列上でギャップが発生する場合があることである．例えば，``〜towardanewNATO〜''は，``toward''と``a''をその係り先である``NATO''にまとめた結果，``towardaNATO'と``new''に分けて基本句となる．このように基本句でもとの語順が保存されない場合は，本稿中では，``an＿step'',``(important)''のように表記する．</subsection>
  <subsection title="辞書の情報による対応関係の推定"/>
  <subsubsection title="辞書対応リンクの付与">辞書(日本語の見出し語:約14万語)を用いて日英の内容語間に対応をつける．辞書には単語間あるいは単語列間(例:「寝る」``gotobed''，「事務総長」``secretarygeneral''など)の対応関係が記述されており，対訳文中の両言語の語(列)と一致するものがあれば，対訳文中の両言語の語(列)同士をリンク付ける(以下，このリンクを辞書対応リンクとよぶ)．両言語とも内容語を含まない対応関係(例:「で」``at''など)や，片側の言語で内容語を含まない対応関係(例:「進行中の」``on''など)については，曖昧性が高いために辞書対応リンクを付与しない．ある語(列)の訳語が相手側言語に複数存在すれば，語(列)は複数の辞書対応リンクを持つ．以降，このような辞書対応リンクを曖昧な辞書対応リンクよぶ．一方，辞書対応リンクが1本だけ付与されている単語(列)において，その辞書対応リンクを一意な辞書対応リンクよぶ．図は先の図の対訳文に張られる辞書対応リンクの例である．</subsubsection>
  <subsubsection title="辞書の情報による基本句対応の推定">次に辞書対応リンクを用いて，基本句の対応(基本句対応)を推定する．これは次のような手続きで行なう．まず，基本句が辞書対応リンクで接続されており，かつ，日英それぞれで依存関係で接続されていることを条件に，対訳文中からあらゆる基本句対応の候補(以降，候補とよぶ)を生成する．例えば，図の例では，7つの候補を生成する(図の候補1〜7)．ここで，候補7に含まれている語(列)には，曖昧な辞書対応リンクを持ったものがない．このような候補(以降，一意な候補とよぶ)を採用して基本句対応とする．候補1〜6には，曖昧な辞書対応リンクをもった語(列)が存在する．このような候補(以降，曖昧な候補とよぶ)については次の手順で採用する候補を判定する．step1では曖昧な候補にスコアを付与する．スコアは次の2つの整合性を用いて以下のように定義する．[	(基本句対応候補のスコア)=(内的整合性)C＋(外的整合性)(1-C)]Cは定数であり，どちらの情報をより重視するかのパラメータである．</subsubsection>
  <subsection title="未対応句の処理">先の処理で推定された基本句対応だけでは，対応付けられていない基本句が残る場合がある．このような未対応句を対応付ける場合，次の2通りの可能性がある．	未対応句同士を基本句対応とする(以降，新規対応とよぶ)	未対応句をすでに推定された基本句対応に含めて新たな基本句対応とする(以降，拡張対応とよぶ)そこで，コーパスを調査して図のような新規対応と拡張対応を推定する規則を作成した．未対応句の対応付けは規則に適合した場合に行なう．新規対応の規則は，日本語側のn個の未対応句(以降，未対応句群とよぶ)と英語側のm個の未対応句群が，それぞれの親方向，子方向が対応付けられている，あるいは端点となっている場合に，それらを基本句対応とする．ただし，未対応句群に含まれる未対応句は依存構造上で連続していることを条件とする．拡張対応も新規対応と同様に，未対応句群の親方向，子方向が対応付けられている，あるいは端点となっている場合に未対応句群の対応付けを行なうが，未対応句群が片方の言語側だけに存在する点が異なる．ここで，基本句対応を不適切に拡張対応としてしまわないように，拡張対応は次の2つの条件のいずれかを満たすものとする．条件のいずれかを満たした上で以下の規則に適合すれば拡張対応を推定する．規則に適合する未対応句群が存在しなくなると，未対応句の処理は終了する．</subsection>
  <section title="実験と考察"/>
  <subsection title="コーパスと実験環境">実験には以下の3種類の対訳コーパスを使用した．それぞれのコーパスの平均文長を表に示す．実験にあたっては3つのコーパスから，それぞれ100対訳文ずつ計300対訳文を無作為抽出した．使用した統語解析システムは日本語においてはKNP，英語においてはCharniakのnl-parserである．内的整合性と外的整合性の比であるパラメータCは0.2とした．未対応句の処理で未対応句群を扱う個数は日英とも1とした．</subsection>
  <subsection title="基本句対応の評価">システムが推定した基本句対応を評価するために，正しい対応関係を内容語単位で作成した(以降，この対応を内容語対応とよぶ)．これは，内容語を基本句にまとめる規則が変化した場合も評価を可能にするためである．具体的な記述例を以下に示す．対訳文2のように個々の内容語のレベルでは対応がつかない場合は，n語:m語の内容語対応を記述した(n1,m1)．作成された内容語対応のサイズを表に示す．各コーパスで8割以上が1語:1語の対応となった．		評価は内容語対応を用いて情報検索と同様に適合率と再現率の2つの尺度で行なった．ただし，出力は基本句対応であるのに対して正解は内容語対応なので，適合率は基本句対応の適合率，再現率は内容語対応の再現率とした．(基本句対応)適合率は以下のように定義した.[	(基本句対応)適合率=(内容語対応を完全に含んでいる基本句対応の数)(システムが推定した基本句対応の数)]例えば，図の3つの基本句対応のうち基本句対応(a)と(b)は内容語対応を完全に含んでいるが，基本句対応(c)は1つの内容語対応を含んでいない．よって，3つの基本句対応の適合率は0.66(=2/3)となる．この定義では大きなサイズの基本句対応を推定すれば，適合率が高くなる．しかし，表の出力例が示すように提案手法は不当に大きなサイズの対応を推定する性質を持っていない．(内容語対応)再現率は以下のように定義した.[	(内容語対応)再現率=(基本句対応に完全に含まれている内容語対応の数)(内容語対応の数)]例えば図では，5つの内容語対応のうち4つだけが基本句対応に含まれており，再現率は0.8(=4/5)となる．提案手法の(基本句対応)適合率と(内容語対応)再現率は表に示す．また，見つかった基本句対応を次の3つに分類し，それぞれの適合率を調べた結果を表に示す．拡張対応と新規対応の精度は辞書対応に比べて低いが，再現率をあげるために重要である．対訳コーパスは一言語のコーパスと比べて量が少なく貴重であるため，再現率の高さは重要である．</subsection>
  <subsection title="基本句対応についての考察">コーパスには，しばしば対応すべき内容の表現が異なっていたり，依存構造が異なっている対訳文が含まれる．例えば，白書コーパスでは，図のように日本語側の「わが国」が英語側で``Japan''と訳されている．このように，対応すべき表現の対応関係が辞書で得られないような現象を，ここでは表現の異なりとよぶ．また，この対訳文では，日本語側が「わが国を取り巻く国際的状況は〜問題をはらんでいる」と対応する部分が，英語側で``Japanisconfronting〜intheinternationalarena.''となっており，「わが国」と``Japan''の係り先が異なる．このような対応すべき表現の係り先が異なる現象を構造の異なりとよぶ．表現の異なりと依存構造の異なりのいずれか一方だけが起こっている場合には，提案手法は対応関係を正しく推定できる．例えば，図の対訳文では構造が一致しているため，表現が異なる「わが国」と``Japan''の対応関係を推定できている．一方，表現の異なりと構造の異なりが同時に起こっている場合は，対応関係を正しく推定できず，誤りの主要な原因となっている．これは，提案手法では，表現の異なる部分(未対応句)の対応関係を構造を手がかりとした規則で処理しているからである．提案手法だけではこの問題の解決は困難であるが，白書コーパスでは「わが国」が``Japan''と訳される頻度は多く，提案手法に重み付きダイス係数などの統計量を用いることで，ドメイン特有の表現の異なりをある程度吸収できると考えられる．また，構造の異なりが統語解析結果の誤りによって引き起こされる場合がある．この場合は文献にて両言語の解析結果を照合し，適切な統語解析を選択するという手法が提案されており，提案手法に導入することで精度の向上が期待できる．</subsection>
  <subsection title="辞書対応リンクの曖昧性解消の評価">本節では，2.3節で述べた辞書対応リンクの曖昧性を解消する部分のみの精度を調べ，考察した結果を述べる．精度は，基本句の単位を導入した場合(提案手法)と，語を単位とした場合(ベースライン)の精度を比較した．ベースラインでは，語を単位とした依存構造上で近傍(4語以内)に存在するすでに採用された他の辞書対応リンクの多いものを採用することによって，辞書対応リンクの曖昧性の解消を行なう．近傍を4語以内としたのは，提案手法とほぼ同じ範囲の情報を用いるためである（提案手法は近傍の2基本句の情報を用いており，1つの基本句は約2語から構成されている）．また，提案手法が，外的整合性が0となる辞書対応リンク(近傍2基本句以内に他の辞書対応リンクが存在しない辞書対応リンク)を採用しないように(2.3節のstep4)，ベースラインも近傍4語以内に他の辞書対応リンクが存在しない場合は採用しないものとする．評価は，採用した辞書対応リンクのうち曖昧性のあるものが，人手による内容語対応が一致していれば正解とし，そうでない場合は不正解とした．実験の結果は表のようになった．翻訳用例コーパスや辞書用例コーパスでは，文長が短いため曖昧な辞書対応リンクは少数であり，精度の違いについて有意な議論はできない．一方，文長の長い白書コーパスでは曖昧な辞書対応リンクの数は多く，曖昧性解消が重要な問題となっている．この白書コーパスにおいて，提案手法の精度は94.4,%であり，ベースラインの精度の89.9,%よりも高い．ベースラインと提案手法は依存構造のほぼ同じ範囲の対応情報を利用しているため，提案手法の精度が高い理由は基本句という単位を導入した効果と考えられる．</subsection>
  <section title="まとめ">本稿は，句アライメントの推定において基本句の概念と辞書を用いた新しい手法を提案した．本手法が解決すべき問題は次の2つにまとめられる．(1)辞書による対応に曖昧性があった場合に，その曖昧性を解消する問題(2)辞書で対応つかない場合に，対応関係を推定する問題(1)に関しては，基本句の導入で高い精度を得ることができ，また，精度も高いことから問題は解決したと考えられる．(2)に関しては，十分な精度は得れなかった．しかし，人手による修正が可能な範囲の精度であり，また，本手法に統計量等の手がかりを導入することで，今後精度を上げることが可能だと考えられる．document</section>
</root>
