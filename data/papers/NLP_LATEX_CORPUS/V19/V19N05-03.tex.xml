<?xml version="1.0" ?>
<root>
  <jtitle>マイクロブログにおける感情・コミュニケーション・動作タイプの推定に基づく顔文字の推薦</jtitle>
  <jauthor>江村優花関洋平</jauthor>
  <jabstract>現在，電子メール，チャット，マイクロブログなどのメディアで，顔文字は日常的に使用されている．顔文字は，言語コミュニケーションで表現できない，ユーザの感情やコミュニケーションの意図を表すのに便利であるが，反面，その種類は膨大であり，場面に合った顔文字を選ぶことは難しい．本研究では，ユーザの顔文字選択支援を目的として，ユーザが入力したテキストに現れる感情，コミュニケーション，動作のタイプ推定を行い，顔文字を推薦する方法を提案する．感情，コミュニケーション，動作のタイプは，Twitter</jabstract>
  <jkeywords>顔文字推薦，感情カテゴリ，コミュニケーションタイプ，動作タイプ，マイクロブログ</jkeywords>
  <subsubsection title="">*顔文字辞書顔文字推薦に使用する顔文字は，予備実験で用いた92個では各感情を表す顔文字を推薦するのに十分な数ではなかったため，アンケートを実施し追加を行い，163種類とした．</subsubsection>
  <section title="はじめに">現在，電子メール，チャット，Twitterに代表されるマイクロブログサービスなど，文字ベースのコミュニケーションが日常的に利用されている．これらのコミュニケーションにみられる特徴の一つとして，顔文字があげられる．旧来の計算機を介した電子メールなど，ある程度時間のかかることを前提としたコミュニケーションでは，直接会った際に現れる非言語的な情報，具体的には，表情や身振りから読み取ることのできる感情やニュアンスなどの手がかりが少なくなることから，フレーミングなどのリスクを避けようとすると，個人的な感情を含まない目的のはっきりした対話に用いることが適切とされる．一方，利用者のネットワークへのアクセス時間の増加に伴い，マイクロブログや携帯メールなど，リアルタイム性の高いコミュニケーションメディアが発達するとともに，親しい友人同士の非目的志向対話への需要は増している．このようなコミュニケーションにおいては，顔文字が，対面コミュニケーションにおける非言語情報の一部を補完するとされている．顔文字とは``(|^|−|^|)''のように，記号や文字を組みあわせて表情を表現したもので，テキスト中で表現された感情を強調・補足できる，という利点がある．一方，マイクロブログや携帯メールなど，リアルタイム性の高いコミュニケーションメディアの発達と時期を同じくして，その種類は増加の一途をたどっている．その中から，ユーザが文章で伝えたい感情に適切な顔文字を，ただひとつだけ選択するのは困難である．また，顔文字入力の主な方法である顔文字辞書による選択では，指定された分類カテゴリ以外の意味での使用を目的とした顔文字を入力することは難しく，予測変換機能では，単語単位を対象としてしか顔文字を提示できない．そのほかの手段として，他のテキストからのコピーアンドペーストやユーザ自身による直接入力があるが，これらは操作数が多く，効率的ではない．そこで，本研究では，ユーザによる適切な顔文字選択の支援を目的とし，ユーザの入力文章から，感情カテゴリやコミュニケーションや動作を反映したカテゴリを推定し，顔文字を推薦するシステムの構築を目指す．本論文の構成は以下のとおりである．節では，関連研究を紹介する．節では，顔文字推薦のために本研究で定義したカテゴリについて説明する．節では，顔文字推薦システムの実現について紹介し，節では，評価実験について説明する．最後に，節で結論をまとめる．</section>
  <section title="関連研究">顔文字推薦を目指した先行研究として，では，ユーザの入力した文章からPlutchikの体系に基づき感情を推定し，顔文字を推薦することを試みている．また，感情と顔文字の関係を利用した別の応用事例として，感情値を入力とした顔文字パーツの生成，文章と顔文字を利用した感情推定，顔文字の抽出と感情解析等の研究が行われている．本研究では，感情に限らず，コミュニケーションや動作を反映したカテゴリに基づく顔文字推薦の効果について検証を進める．また，は，顔文字に関する調査や考察を行っている．彼らの調査の結果，顔文字は，単純な極性にはわけられず，複雑な感情にわかれることや，顔文字自体の極性と文の極性とが異なる場合があることが明らかとなった．の研究では，顔文字の表す感情について調査しており，1つの顔文字は複数の感情を表す場合があることを示している．一方，は，年代や性別による顔文字の使用理由について調査を行った結果，文字だけではそっけない画面をにぎやかにするため，自分の伝えたい感情を強調する，文章の深刻さを和らげる，などの理由を明らかにした．は，顔文字が感情を表すことを感情表現機能，顔文字を使うことで言葉での表現が減ることをメール本文代替機能と呼んでいる．彼らは，顔文字を使用することでメール本文の文字数が減ること，親しい間柄では感情表現機能，メール本文代替機能がより使用されることを明らかにしている．また，では，電子掲示板，ネットニュース，メーリングリストなどを対象として，顔文字から受ける情緒・感情について内容分析を行った結果，礼，謝罪，要請などのカテゴリが存在することを明らかにした．加藤らの研究から，文の感情を顔文字が代替する機能，つまり文の感情を強調する機能を持っていることが明らかとなった一方，河野らの研究からは，画面をにぎやかにする，文章の感情を和らげる，といった機能を持つことがわかった．このことから，顔文字を推薦するためには，単純に文章の感情のみを手がかりとするだけでなく，文章に現れる特定の表現なども考慮したルールを設定しなければならない．本研究では，これらの傾向をより詳細な形で明らかにするため，顔文字を含む文章を分析し顔文字の使われ方を調査する．そしてその結果から，親密なやりとりが多く出現するマイクロブログにおいて，顔文字推薦を行うためには，感情以外に必要な，コミュニケーションや動作を反映したカテゴリを，よりも詳細に区別する必要があることを明らかにし，顔文字推薦システムを構築する．また，顔文字ではないが，Twitterの文章に絵文字を推薦する研究としてがある．橋本の研究では，まず入力文章を形態素解析し，それを単語3グラムに分割する．そして絵文字入りコーパスを用い，単語3グラムと類似するコーパス中の文で用いられている絵文字を文章に挿入している．しかし，絵文字は，顔文字と比べると，キャラクター，動物，ハートマーク，アイスキャンディーのような記号など，装飾要素が強く，文の任意の位置に挿入される傾向が強い．一方，顔文字は，感情やコミュニケーションを反映した表現の直後の位置以外には入りにくい．したがって，感情やコミュニケーションを反映した手がかり語辞書を用いて，カテゴリを推定した方が，顔文字推薦の目的には有効と考える．また，感情推定については，ポジネガ推定を前処理とする2段階推定にすることで，精度が向上することがから明らかになっている．本研究では，マイクロブログ(Twitter)の文章を収集し，コーパスを作成する．また，入力文に含まれる感情語や特定の表現などを手がかりにコーパスから類似文を見つけ，感情やコミュニケーションのカテゴリ推定を行う．カテゴリ推定については，にならい，2段階での推定を行う．その結果を用いて，作成した顔文字データベースから顔文字を推薦する．マイクロブログを対象とした感情推定については，感情語辞書から音韻論に基づき長音化したものを検出することや，顔文字そのものやハッシュタグを使って訓練データを拡張することにより，感情推定の精度向上を目指す研究がある．これらのアプローチは興味深いが，前者は言語に依存しており，後者は少数の感情を除いて対応関係が曖昧とされていることから，本研究では，これらのデータの拡張は行わずに，定義したカテゴリの顔文字推薦についての効果を明らかにすることに主眼を置く．</section>
  <section title="顔文字推薦に用いるカテゴリの定義">本研究で提案する顔文字推薦システムは，大きく分けてカテゴリ推定と顔文字推薦の2種類の処理から構成される．本節では，それぞれの処理を行う際に必要となる情報が何かを分析し，その結果，必要となる基本情報を定義する．</section>
  <subsection title="カテゴリの調査方法">顔文字推薦のためのカテゴリ推定を行うにあたって，必要な感情カテゴリ，また，コミュニケーションや動作を反映したカテゴリを明らかにするため，調査を行った．調査データには，きざしラボが提供する顔文字92個を含むTwitterのつぶやき1,722件を収集し使用した．これらのデータに，極性（ポジティブ，ネガティブ，なしの3種類）と感情カテゴリ（，「喜」「怒」「哀」「恥」「怖」「好」「厭」「昂」「安」「驚」の10種類）をそれぞれ分類して付与した．また，10種類のカテゴリに分類することができず，よく現れるような表現の場合は，新たにカテゴリを定義した．調査の結果，顔文字推薦に必要な情報として，定義した情報の例を以下に示す．感情の種類について「不快」「不安」など，頻出する項目を中心に，感情カテゴリを定義した．また，Twitterのつぶやきには，期待を表す表現や，疲れを表す表現などを含む文章が多く見られた．しかし，の感情分類にはそれらを表す感情カテゴリはないため，新たに「期待」，「疲れ」という感情カテゴリを定義した．感情以外の特徴について``m(__)m''は，「ごめんなさい」や「申し訳ない」などの謝罪表現を含む文に付与されることが多かった．しかし，謝罪を表すような感情カテゴリはの分類には含まれておらず，また，謝罪は感情とは言い難い側面を持つ．そこで，感情分類とは別のカテゴリとして，新たに「謝罪」カテゴリを定義した．このような，誰かとのやり取りや，人に伝えることを前提としたカテゴリが多く存在したため，コミュニケーションタイプとして，新たに定義した．``(-_-)''や``(*_*)''は，睡眠を表す文章で使用されていた．睡眠は動作であり，感情ではない．感情カテゴリに当てはめることはできないので，これも新たに「睡眠」カテゴリを定義した．この動作を表すカテゴリを，動作タイプとして新たに定義した．</subsection>
  <subsection title="定義したカテゴリ体系">前節の結果に基づき，顔文字推薦に必要な感情，感情以外のカテゴリを決定した．感情カテゴリの定義を表に，感情以外の特徴を，コミュニケーションタイプ，動作タイプとして定義した結果を表に示す．感情カテゴリは全部で27種類ある．中村の感情分類を基礎カテゴリとして用いて，それら27種類の感情を詳細カテゴリとして10種類の基礎カテゴリに分類した．また，各詳細カテゴリごとに，極性（ポジティブ／ネガティブ／なし）の設定を行った．コミュニケーション・動作タイプは全部で10種類ある．感情には分類できないが，表現としてよく現れるものを分類した．コミュニケーションタイプは，人とのやり取りや他者に物事を伝えることを中心とした表現のタイプであり，人にどのように伝えるかによって「やりとり型（他者との会話に含まれる表現）」「つぶやき型（他者に見られることを前提としているが，会話にはなっていない文章に含まれる表現）」「不特定多数型（やりとり，つぶやきのどちらにも使われる表現）」の3つに分類しており，それらの分類の下に詳細カテゴリを設定した．また，感情カテゴリ，コミュニケーションタイプに分類できず，文章の中心が動作表現となるものを動作タイプとして定義した．現在，動作タイプとして定義できる程度に頻出した動作表現は「睡眠」だけであるため，動作タイプは1種類のみである．</subsection>
  <subsection title="カテゴリ定義の妥当性についての検証">作成したコーパスの文章に付与したカテゴリがどの程度安定しているかを調べるため，第1著者と協力者1名（ともに大学生，女性と男性）が，コーパス中からランダムに選んだ190件について，(1)極性と(2)感情カテゴリ，コミュニケーションタイプ，動作タイプのいずれかを付与した場合の一致度（係数）を調べた．その結果，極性の一致については，値が，0.850（almostperfect/ほとんど一致），感情カテゴリ，コミュニケーションタイプまたは動作タイプの一致については，値が，0.747（substantial/かなり一致）となり，付与方針が安定していることを示すことができた．本カテゴリのような分類体系の関連研究としては，の提案がある．基本的な考え方は，両方の体系で共通しており，菊井の陳述型は，ひとりごと型に対応し，発話行為タイプは，やりとり型に対応すると考えられる．ただし，その下位のカテゴリの分け方に関しては，本研究では，顔文字を推薦する，という前提のもとに，顔文字のつけやすいカテゴリ体系になっている．</subsection>
  <section title="顔文字推薦システムの実現">節で定義したカテゴリ体系に基づき，顔文字推薦システムを実現した．構築した顔文字推薦システムは，カテゴリ推定処理と顔文字推薦処理の2つから成り立っている．以下に，顔文字推薦システム全体の流れを示す．ユーザが文章を入力する．入力文章を用いて，カテゴリ推定を行う（カテゴリ推定処理）．カテゴリ推定の結果を用いて，顔文字データベースから適切な顔文字を取り出す（顔文字推薦処理）．取り出した5件の顔文字を推薦候補として，画面に表示する．本節では，上記の処理に必要なデータの作成について，節で具体的な内容を紹介する．(2)(3)の2つの処理については，節，節で説明する．</section>
  <subsection title="必要なデータの作成">本研究では，カテゴリ推定処理と顔文字推薦処理に必要なデータとして，顔文字辞書，タグ付きコーパス，手がかり語辞書，顔文字データベースを作成した．以下，詳細を説明する．</subsection>
  <subsection title="カテゴリ推定処理">カテゴリ推定を行うために，分類器を構築した．分類器にはk-NNを用い，文章を入力すると，各学習データとの類似度を計算し，類似している上位k件の中で最も多い感情を推定結果として返す．学習データには，節で説明した，タグ付きコーパスを用いた．分類器によるカテゴリ推定の手順を以下に示す．極性（``A.ポジティブ''，``B.ネガティブ''，``C.なし''のいずれか）を推定する．まず，手がかり語辞書に含まれる語の，入力文における出現頻度を計算する．(a)の結果から得られた各手がかり語の頻度を用いて，極性ごとに素性ベクトルを構築する．学習データ中の各文との平方距離を計算する．平方距離の近い上位k件のうち，学習データにおいて最も多く付与されている極性を推定結果とする．推定した極性に対応するカテゴリとして，A.感情（ポジティブ）：嬉しい，めでたい等；B.感情（ネガティブ）：怒り，悲しい等；C.感情（なし）：興奮，安らぎ等か，コミュニケーション・動作タイプ：感謝，謝罪等のいずれかを推定する．素性ベクトルの構築や各学習データとの距離の計算は，1の(a)--(c)と同様に推定する．平方距離の近い上位k件のうち，学習データにおいて最も多く付与されている感情カテゴリ，コミュニケーションタイプ，動作タイプのいずれかを推定結果とする．また，入力文に複数の手がかり語が含まれる場合，その位置関係によって推定を誤る可能性がある．たとえば，「おかえり〜今日はありがとね」という文には，「おかえり」と「ありがとう」という2つのコミュニケーションタイプの手がかり語が含まれている．この文の場合では，文全体のコミュニケーションタイプは，「感謝」になるのだが，「あいさつ」が推定結果として出力されてしまう可能性がある．各カテゴリの出現頻度を計算して推定すると，どちらも同じ頻度なため，どちらが推定されてもおかしくない．これは，文章内に現れる手がかり語の位置関係を考慮していないことによる．この対策として，入力文内に現れる順序によって，手がかり語に重みを付与する，といった処理を追加した．具体的には，以下のような計算を行う．なお，word_nは入力文内にn番目に現れる手がかり語，Nは入力文内に現れる手がかり語の総数である．[weight(word_n)=[nN]]次に，構築した分類器の推定精度ならびに，重み付け処理による推定精度の向上を評価するため，10分割交差検定により実験を行った．具体的には，作成したタグ付きコーパス3,975件を，398件を5個，397件を5個の，10個に分割し，10分割の交差検定を行い，推定した極性，カテゴリと，人手でつけた極性，カテゴリがどの程度一致しているかを計算した．推定精度の評価尺度としては，正確さ(accuracy)を採用した．実験の結果，重み付け処理を行っていない場合では，極性の推定精度が69.7%，極性とカテゴリの双方が正解していたものが43.0%であったのに対して，重みづけ処理を行った場合では，極性の推定精度が70.2%，極性とカテゴリの双方が正解していたものが43.5%であり，統計的有意差はないが，わずかに精度が向上した．重みづけ処理の失敗分析を30件を対象に行ったところ，手がかり語を手動で付与した場合には，28件について，最後の手がかり語のカテゴリが文章のカテゴリと一致することがわかり，手がかり語辞書との照合の精度を向上する必要性が明らかになった．カテゴリの推定精度が十分でない別の理由としては，``報告''カテゴリの分類が難しいことがあげられる．このカテゴリは，Twitter特有のひとりごとである``〜なう''のような，個別の行動の報告が含まれており，機械学習に適した共通の手がかりが得られにくい．この辺りのカテゴリの推定精度の向上には，ユーザの履歴，文脈といった情報が必要になると考える．なお，告''カテゴリを含まずに推定した場合には，推定精度は1.1%向上した．</subsection>
  <subsection title="顔文字推薦処理">次に，顔文字推薦処理の実装を行った．顔文字推薦処理では，カテゴリ推定の結果に適合した顔文字を，節で説明した顔文字データベースを用いて判定し，出現頻度の多い順に，最大5件を推薦する．また，もしカテゴリ推定の結果が，節で説明した補足ルールにマッチする場合には，補足ルール用辞書を用いてさらに細かい分類を行い，適合した顔文字を推薦する．補足ルールに当てはまらないカテゴリであれば，カテゴリ推定の結果だけを用いて，顔文字データベースから顔文字を取り出す．</subsection>
  <section title="顔文字推薦システムの評価">顔文字推薦システムを実際に被験者に使わせ，推薦する顔文字がどの程度ユーザの入力した文章に対して適切であるか調べるため，被験者実験を行った．被験者は，日常的に顔文字を使用する21〜22歳の男性2名，女性3名である．</section>
  <subsection title="実験内容">被験者実験は，2つの項目から構成される．</subsection>
  <subsection title="実験結果">実験1，2の結果を，表，表に示す．表4中の^*は，実験1において，t-検定を用いた結果，提案手法が，感情カテゴリのみに基づいて推薦したベースラインと比べて，有意水準5%，両側検定で，推薦精度に有意な改善があることを示す．</subsection>
  <subsection title="実験の考察">実験1，2の結果に基づく考察を以下に示す．</subsection>
  <section title="おわりに">本研究では，ユーザの顔文字選択の支援を目的とし，ユーザの入力文から感情や，感情以外のコミュニケーションや動作を反映したカテゴリを推定し，顔文字を推薦する手法を提案した．提案手法は，2つの処理にわかれており，カテゴリ推定処理と顔文字推薦処理から構成される．カテゴリ推定処理については，k-NNを用いて分類器を構築した．すなわち，文章を入力すると，手がかり語辞書内の語が含まれていないかを調べ，各カテゴリの手がかり語の出現頻度から構築した素性ベクトルを用いて，各学習データとの類似度を計算し，類似度の高い上位k件から推定結果を決定する．顔文字推薦処理では，カテゴリ推定の結果を用いて，顔文字データベースから適切な顔文字を取り出し，推薦する．また，コミュニケーションタイプについて，各カテゴリより細かい単位で補足ルールを作成し，入力文の推定結果が補足ルールに当てはまる場合は，補足ルールも用いて顔文字推薦を行う．構築した顔文字推薦システムの推薦の正確さを評価するために，被験者実験を行った．その結果，66.6%の顔文字が文章に対して適切に推薦されており，感情カテゴリのみの推定に基づく推薦に比べて，有意に向上していることを明らかにした．今後は，活用形も考慮した手がかり語辞書の拡張や，極性を考慮した顔文字データベースの構築による顔文字推薦の精度向上に取り組む予定である．また，感情，コミュニケーション・動作タイプなどのカテゴリがどのような理由により発生するか（例：嬉し涙，嫌なニュースに驚いた）を手がかりとすることで，さらに文章に適した顔文字推薦ができる可能性があると考えている．このような，テキスト含意関係などを考慮した取り組みについても検討を進めていきたい．</section>
</root>
