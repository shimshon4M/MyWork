<?xml version="1.0" ?>
<root>
  <title>単語リストと生コーパスによる確率的言語モデルの分野適応</title>
  <jabstract>本論文では，単語リストと生コーパスが利用可能な状況における確率的言語モデルの分野適応について述べる．このような状況の下での一般的な対処は，単語リストを語彙に加えた自動単語分割システムによる生コーパスの自動単語分割の出力文を可能な限り人手で修正し，パラメータ推定に利用することである．しかしながら，文単位での修正では，正確な単語分割が容易でない箇所が含まれることになり，作業効率の著しい低下を招く．加えて，文単位で順に修正していくことが，限られた作業量を割り当てる最良の方法であるかということも疑問である．本論文では，コーパスの修正を単語単位とし，修正箇所を単語リストで与えられる適応分野に特有の単語に集中することを提案する．これにより，上述の困難を回避し，適応分野に特有の単語の統計的な振る舞いを捕捉するという，適応分野のコーパスを利用する本来の目的にのみコーパス修正の作業を集中することが可能となる．実験では，自動単語分割の結果の人手による修正の程度や方法を複数用意し，その結果得られるコーパスから推定された確率的言語モデルの予測力やそれに基づく仮名漢字変換の精度を計算した．この結果，適応分野に特有の語彙の出現箇所に修正のコストを集中することにより，少ない作業量で効率良く確率的言語モデルを分野適応できることが分かった．</jabstract>
  <jkeywords>仮名漢字変換，音声認識，言語モデル，コーパス</jkeywords>
  <subsection title="確率的単語分割コーパスからの単語n-gram確率の推定">単語分割済みコーパスは，各文字間に単語境界が存在するか否かの情報が人手により付与されている．生コーパスはこの情報を持たないが，各文字間に単語境界が存在する確率を付与し，それによって生コーパスを確率的に単語に分割されたコーパス(確率的単語分割コーパス)とみなすことにより，無限の語彙に対する単語n-gram頻度や単語n-gram確率を計算する方法が提案されている．以下では，この方法を説明する．生コーパスC_r(以下，長さn_rの文字列x_1^n_rとして参照)を所与として，連続する2文字x_i,x_i+1の間に単語境界が存在する確率P_iを付与したものを考える．最初の文字の前と最後の文字の後には単語境界が存在するとみなせるので，i=0,;i=n_rの時は便宜的にP_i=1とする．確率的単語分割コーパスにおける単語0-gram頻度f_r()は，そのコーパス中の期待単語数であり，以下のように定義される．f_r()=1+_i=1^n_r-1P_idisplaymath確率的に単語分割された生コーパスに出現する文字列x_i+1^kがl=k-i文字からなる単語wである必要十分条件は以下の4つである．文字列x_i+1^kが単語wに等しい．文字x_i+1の直前に単語境界がある．単語境界が文字列中にない．文字x_kの直後に単語境界がある．したがって，単語wの生コーパス中の単語1-gram頻度f_rは，単語wの表記の全ての出現O_1=(i,k),|,x_i+1^k=wに対する期待頻度の和として以下のように定義される．f_r(w)=_(i,k)O_1P_i[_j=i+1^k-1(1-P_j)]P_kdisplaymath単語1-gram頻度と同様に，L文字からなる単語列w_1^n=x'_1^Lの生コーパスx_1^n_rにおける頻度，すなわち単語n-gram頻度について考える．このような単語列に相当する文字列が生コーパスの(i+1)文字目から始まりk=i+L文字目で終る文字列と等しく(x_i+1^k=x'_1^L)，単語列に含まれる各単語w_mに相当する文字列が生コーパスのb_m文字目から始まりe_m文字目で終る文字列と等しい(x_b_m^e_m=w_m,;1mn;e_m+1=b_m+1,;1mn-1;b_1=i+1;e_n=k)状況を考える(figure:SSC参照)．単語1-gram頻度の計算の場合と同様に，単語列と生コーパスの部分文字列は，文字列として対応していることに加えて，各文字間における単語境界の有無も対応している場合にのみ単語列が出現していると考えられる．したがって，確率的に単語分割されたコーパスに出現する文字列x_i+1^kが単語列w_1^n=x'_1^Lである必要十分条件は以下の4つである．文字列x_i+1^kが単語列w_1^nに等しい．文字x_i+1の直前に単語境界がある．単語境界が各単語に対応する文字列中にない．単語境界が各単語に対応する文字列の後にある．したがって，生コーパスにおける単語n-gram頻度を以下のように定義することができる．f_r(w_1^n)=!!!_(i,e_1^n)O_n!!!!P_i[_m=1^n!_j=b_m^e_m-1!!(1-P_j)P_e_m]displaymathここでe_1^n&amp;=&amp;(e_1,e_2,,e_n)O_n&amp;=&amp;(i,e_1^n)|x_b_m^e_m=w_m,1mneqnarray*とした．決定的に単語に分割されたコーパスからの単語1-gram確率の最尤推定の場合と同様に，確率的単語分割コーパスにおける単語1-gram確率を以下のように定義する．決定的に単語に分割されたコーパスからの単語n-gram確率の最尤推定の場合と同様に，確率的単語分割コーパスにおける単語n-gram確率を以下のように定義する．list</subsection>
  <section title="まえがき">確率的言語モデルは，文字列を出力とする言語処理において幅広く用いられている．音声認識システムの多くが，解選択において，音響モデルとともに確率的言語モデルを参照する．文字誤り訂正や仮名漢字変換においても，確率的言語モデルを用いる方法が提案されている．さらに，機械翻訳や文書の整形などにも応用されている．多くの確率的言語モデルは単語や単語列の頻度に基づいており，これは正しく単語に分割された例文(単語分割済みコーパス)に対して計数される．この単語分割済みコーパスは，一般的と考えられる分野においては既に利用可能となっているが，新たに確率的言語モデルを用いる分野(医療現場やコールセンターでの音声認識など)の言語資源としては，単語に分割されていない例文(生コーパス)やその分野の単語リストのみが利用可能であることが多い．このような状況の下での一般的な対処は，単語リストを語彙に加えた自動単語分割システムにより生コーパスの各文を単語に分割し，可能な限り多くの文の分割結果を人手で修正し，自動解析の結果と合わせて単語分割済みコーパスとすることである．単語分割の修正量は，多ければ多いほど統計結果の信頼性が増し，確率的言語モデルの能力は高くなる．しかしながら，単語分割の修正作業にはコストや時間がかかるので，コーパスの一部分を修正の対象とし，残りの部分に関しては自動分割の結果をそのまま用いるということがしばしば行なわれる．文単位で修正する場合には，文法の専門家でさえも正確な単語分割が容易でない機能語列などの箇所が必然的に含まれることになるが，このようなの箇所での分割方針を作業者に徹底することは非常に困難であり，作業効率の著しい低下を招く．加えて，文単位で順に修正していくことが，限られた作業量を割り当てる最良の方法であるかということも疑問である．本論文では，コーパスの修正を一文単位ではなく単語単位とし，修正箇所を単語リストなどで与えられる適応分野に特有の単語の周辺に集中することを提案する．これにより，上述のような困難を回避することが可能となり，さらに，適応分野に特有の単語の統計的な振る舞いを捕捉するという，適応分野のコーパスを利用する本来の目的にコーパス修正の作業を集中することが可能となる．このようにして得られるコーパスは一部分の単語境界情報のみが正確である文を含む．このようなコーパスから有限の語彙に対して確率的言語モデルを推定するために，本論文では，生コーパスから無限の語彙に対して確率的言語モデルを推定する方法を語彙が有限の場合に応用する方法について述べる．実験では，生コーパスの単語境界の人手による修正の程度や方法を複数用意し，その結果得られるコーパスから推定される確率的言語モデルの予測力やそれに基づく仮名漢字変換の精度を計算した．実験の結果，単語リストの各単語に対して2箇所の出現のみを人手でマークする方法では，単語数の割合にして生コーパス全体の5.22%の修正により，単語数の割合にして生コーパス全体の45.00%の文を文単位で修正した場合と同程度の仮名漢字変換の精度を達成することができた．また，単語リストの各単語に対して全ての出現箇所を人手でチェックすることで，コーパス全体に対して自動分割の結果を人手で修正するのと同程度の予測力と変換精度を達成できた．この結果から，適応分野に特有の語彙の出現箇所に修正のコストを集中することにより，少ない作業量で効率良く確率的言語モデルを分野適応できるといえる．</section>
  <section title="確率的言語モデル">自然言語処理における確率的言語モデルの役割は，与えられた文字列がある言語の文である尤度を数値化することである．確率的言語モデルに基づく言語処理は，候補から解を選択する際にこの尤度を参照する．自動単語分割は解析系の一例であり，文字列が与えられると尤度が最大になる単語の列を計算する．認識系の代表例の音声認識では，音響信号列を入力として，尤度が最大となる文字列を算出する際に，音響モデルと併せて確率的言語モデルを参照する．</section>
  <subsection title="応用">確率的言語モデルの応用は，自然言語認識と自然言語解析に大別できる．認識系の代表例は，音声認識である．確率的言語モデルを用いる音声認識では，以下の式のように，音響特徴量の列sを入力とし，語彙W_kのクリーネ閉包(空列を含む任意長の文字列の集合)のうち，確率最大となる要素(単語列)wを出力する．w=_wW_k^*P(s|w)P(w)displaymathこの式におけるP(w)が確率的言語モデルである．確率的言語モデルの予測力と認識系の精度との関係は，解析的に導出できるような確固とした関係ではない．音声認識に対して実験的に得られた関係として，西村らは相関係数0.6を報告している．解析系の代表例は，単語分割(と品詞付与)である．確率的言語モデルによる単語分割は，以下の式が示すように，ある言語の文字列xを入力とし，生成確率が最大となる単語列wを出力する．w=_w=xP(w)displaymathここでw=xは，単語列wを文字列とみなした場合，入力xと等しいことを表す．</subsection>
  <section title="単語リストと生コーパスによる分野適応">この節では，適応対象の分野の単語リストと，それらが出現する生コーパスが利用可能である場合に，それらから確率的言語モデルを推定する方法を述べる．</section>
  <section title="生コーパスの利用方法">適応対象の分野のコーパスは，その分野の言語的な特徴を的確に捉えるために重要である．この利用方法としては，以下の3つが代表的である．未知語の取り出し自動分割による単語分割結果人手による単語分割結果確率的言語モデルの能力は，単語分割の修正量を増やせば増やすほど高くなる．現実には，単語分割の修正作業はコストや時間がかかるので，コーパスの一部分を修正の対象とし，残りの部分に関しては自動分割の結果をそのまま用いるということが行なわれる．しかし，この方法が有限の作業量を割り当てる最良の方法であるか疑問が残る．単語分割の修正作業は，コーパスに単語境界の情報を付与することである．単語境界の情報の最小単位は各文字の間に単語境界があるか否かである．しかし，一般的に行なわれる修正作業は文単位であり，文頭から順に各文字の間の単語境界情報が正しいかを確認し，必要に応じて修正する．これに対して，我々は修正作業の単位をより細かくとること，具体的には，単語リストなどで与えられる適応分野に特有の単語の周辺に集中することを提案する．具体的には，figure:KWICに示されるように，単語リストに含まれる語(例では「サリン」)の対象分野のコーパスでの出現位置をKWIC(KeyWordInContext)形式で提示し，注目している文字列が各文脈において単語として用いられているかのチェックをする．単語として用いられている箇所にマーク(図中では「○」)を付け，それ以外の箇所では何もしないという作業を行なう．各単語についてマークする箇所の数を制限するということも有効であろう．そうすれば，判断の難しい箇所で時間を浪費することを避けることもできる．</section>
  <section title="評価">適応分野の生コーパスの利用方法について比較検討するために，生コーパスに対する人手による単語境界情報の付与の程度や方法を複数用意し，その結果得られるコーパスから推定される確率的言語モデルの予測力やそれに基づく仮名漢字変換の精度を計算した．</section>
  <subsection title="実験条件">実験には，一般的な分野のコーパスとして会話辞典の例文と，適応対象として新聞記事を用いた(table:corpus参照)．両分野のコーパスの各文は人手で単語に分割されているが，適応分野のコーパスは，主として生コーパスとして利用される．単語分割済みコーパスとしての利用は，比較対象としての理想的な状況を実現するためである．適応分野の単語リストは，適応分野のコーパスにのみ出現する21,855単語からなる．基本となる確率的言語モデルは以下の通りである．単語分割済みの一般分野のコーパスから単語2-gramモデルを構築した．既知語の数は5,112語である．適応分野の単語リストは，未知語モデルにおいて出現確率を嵩上げされ，未知語に対して出現しやすくなる外部辞書語として利用する．適応分野のコーパスは利用しない．listこの確率的言語モデルの同一分野のテストコーパスに対するクロスエントロピーは4.509であり，テストセットパープレキシティーは64.28であった．実験に利用した自動単語分割システムは，この言語モデルに基づいており，入力文に対して最大確率となる単語列を返す(subsection:word-segmenter参照)．同一分野のテストコーパスに対する単語境界の推定精度は98.26%であった．参照)に対する単語境界の推定精度は89.25%であった．後述する実験において，確率的単語分割コーパスの単語境界確率の推定方法としては，自動分割の結果を利用する方法を採用した．単語境界の推定結果の信頼度には，自動単語分割システムの精度=98.26%を利用した．すなわち，自動単語分割システムにより単語境界であると判定された点ではP_i=とし，単語境界でないと判定された点ではP_i=1-とした．</subsection>
  <subsection title="評価基準">確率的言語モデルの予測力の評価に用いた基準は，文字単位のクロスエントロピーと単語あたりのテストセットパープレキシティーである．まず，テストコーパスC_tに対して未知語の予測も含む文字単位のエントロピーHを以下の式で計算する．H=-1|C_t|_2_wC_tM_w,n(w)displaymathここで，|C_t|はテストコーパスC_tの文字数を表す．次に，単語単位のテストセットパープレキシティを以下の式で計算する．PP=2^H|w|displaymathここで|w|は平均単語長(文字数)である．さらに確率的言語モデルの応用として仮名漢字変換を採用し，文単位で一括変換した場合の第一候補の変換精度を計算した．これは，音声認識において，音響モデルの誤りの影響を排した場合と考えることもできる．</subsection>
  <subsection title="適応分野の生コーパスの利用方法">適応分野の生コーパスの利用方法について比較検討するために，生コーパスの自動分割結果に対する単語境界情報の人手による修正の程度や方法として，以下の6つを準備した．適応分野の生コーパスを自動的に単語分割し，その結果をそのまま用いる．これは，自動分割システムにより単語境界と判定された点ではP_i=1とし，単語境界でないと判定された点ではP_i=0とする確率的単語分割コーパスと等価である．適応分野の生コーパスを確率的単語分割コーパスとして用いる．すなわち，自動単語分割システムにより単語境界であると判定された点ではP_i=とし，単語境界でないと判定された点ではP_i=1-とした．適応分野の生コーパスの全文を人手により正しく単語に分割し，これをAutoと同様に決定的に単語に分割されたコーパスとして利用する．適応分野の生コーパスの最初から281,398単語目まで(45.00%)を人手により正しく単語に分割し，その残りを自動的に単語分割した．これをAutoと同様に決定的に単語に分割されたコーパスとして利用する．まずRawと同様に単語境界確率を設定する．さらに，単語リストに含まれる文字列が生コーパス中に単語として出現している全ての箇所において，その文字列内の単語境界確率を0とし，その文字列の直前と直後の単語境界確率を1とする．これは，生コーパスに対する単語リストに含まれる文字列のKWICを見て，その文字列が単語として出現している場合にマークをつける作業をした結果に相当する．マーク箇所は単語数でのべ138,483箇所(22.13%)である．まずRawと同様に単語境界確率を設定する．さらに，単語リストに含まれる文字列が生コーパス中に単語として出現している最初の2箇所において，その文字列内の単語境界確率を0とし，その前後の単語境界確率を1とする．これは，生コーパスに対する単語リストに含まれる文字列のKWICを見て，その文字列が単語として出現している場合にマークをつける作業を各文字列に対して2つのマークがつくまで行なった結果に相当する．マーク箇所は単語数でのべ32,643箇所(5.22%)である．list以上のようにして得られる適応分野のコーパスから，Baseモデルの既知語と単語リストに含まれる単語を語彙として単語1-gram確率と単語2-gram確率を計算し，Baseモデルと補間して適応分野のための確率的言語モデルを構築した．</subsection>
  <section title="おわりに">企業ソリューションとして音声認識などの音声言語処理技術が求められる場合，技術を適応する分野の単語リストと生コーパスのみが利用可能であることが多い．本論文では，このような状況を前提として，確率的言語モデルを分野適応する際に，コーパスの修正の程度や方法について比較検討を行なった．予測力や仮名漢字変換の精度を評価基準とする実験の結果，生コーパスの自動単語分割の結果の人手による修正を単語リストに含まれる単語が出現する箇所に限ることで，確率的言語モデルの適応分野における性能をより効率よく向上させることが可能となることが分かった．document</section>
</root>
