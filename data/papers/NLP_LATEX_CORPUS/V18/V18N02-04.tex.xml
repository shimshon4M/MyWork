<?xml version="1.0" ?>
<root>
  <jtitle>3種類の辞書による自動単語分割の精度向上</jtitle>
  <jauthor>森信介小田裕樹</jauthor>
  <jabstract>本論文では，日本語の文の自動単語分割をある分野に適用する現実的な状況において，精度向上を図るための新しい方法を提案する．提案手法の最大の特徴は，複合語を参照することが可能な点である．複合語とは，内部の単語境界情報がなく，その両端も自動分割器の学習コーパスの作成に用いられた単語分割基準と必ずしも合致しない文字列である．このような複合語は，自然言語処理をある分野に適用する多くの場合に，利用可能な数少ない言語資源である．提案する自動単語分割器は，複合語に加えて単語や単語列を参照することも可能である．これにより，少ない人的コストでさらなる精度向上を図ることが可能である．実験では，これらの辞書を参照する自動単語分割システムを最大エントロピー法を用いて構築し，それぞれの辞書を参照する場合の自動単語分割の精度を比較した．実験の結果，本論文で提案する自動単語分割器は，複合語や単語列を参照することにより，対象分野においてより高い分割精度を実現することが確認された．</jabstract>
  <jkeywords>単語分割，辞書，単語列，複合語</jkeywords>
  <section title="はじめに">日本語や中国語のように，明示的な単語境界がない言語においては，自動単語分割は自然言語処理の最初のタスクである．ほとんどの自然言語処理システムは，単語単位に依存しており，自動単語分割器はこれらの言語に対して非常に重要である．このような背景の下，人手による単語分割がなされた文からなるコーパスを構築する努力とともに，経験的手法による自動単語分割器や同時に品詞を付与する形態素解析器の構築が試みられてきた．近年，自然言語処理が様々な分野に適用されている．特許開示書の自動翻訳，裁判記録の自動作成のための音声認識用の言語モデル作成，医療文章からの情報抽出などである．これらの応用では品詞は不要なので，本論文では品詞を付与しない単語分割を扱う．単語分割では，コーパス作成の労力を単語境界付与に集中することができるので，品詞付与が必要となる形態素解析を前提とするよりもより実用的であることが多い．現在の自動単語分割器は，一般的な分野のコーパスから構築されており，上述のような様々な分野の文を高い精度で単語分割できない．とりわけ，対象分野特有の単語や表現の周辺での精度の低下が著しい．これらの対象分野に特有の単語や表現は，処理すべき文において重要な情報を保持しているので，この問題は深刻である．このような問題を解決するためには，対象分野での単語分割精度の向上を図る必要がある．理想的方法は，ある程度の量の対象分野の文を，一般分野のコーパス作成と同じ単語分割基準に沿って人手で単語分割し，自動単語分割器を再学習することである．しかしながら，多くの実際の状況では，人による利用を想定した辞書が対象分野の唯一の追加的言語資源である．これらの見出し語は，単語分割基準とは無関係に選定されており，単語分割基準に照らすと単語ではないことが多い．本論文では，これらの見出し語のように，内部の単語分割情報が与えられておらず，かつ両端が単語境界であるという保証がない文字列を複合語と呼ぶ．本論文では，単語分割済みコーパスに加えて，複合語辞書を参照する自動分割器を提案する．ほとんどの複合語は両端が単語境界であり，内部に単語分割基準に従って単語境界情報を付与することで単語列に変換することが可能である．このために必要な人的コストは，適用分野の単語分割済みコーパスの作成に比べて非常に少ない．本論文ではさらに，単語列辞書を参照し精度向上を図る自動単語分割器を提案する．提案手法を用いることにより，一般に販売されている辞書（複合語辞書）を参照することで，付加的な人的コストなしに，ある分野における自動単語分割の精度を向上させることができる．また，単語列辞書を参照する機能により，コーパスを準備するよりもはるかに低い人的コストでさらなる精度向上を実現することが可能になる．</section>
  <section title="単語分割のための言語資源">この節では，まず，日本語を例に単語境界を明示しない言語の文を単語に分割する問題について説明する．次に，入力文を自動的に単語列に分割する自動単語分割器を構築するために利用可能な言語資源について述べる．</section>
  <subsection title="単語分割問題">日本語や中国語のように，単語境界を明示しない言語は多数ある．これらの言語における自然言語処理の第一歩は，文に単語境界情報を付与することである．以下では，次の文を入力の例として，単語分割問題を説明する．単語分割問題は，入力の文字列の全ての隣接する2文字間に単語境界を置くか置かないかを決定する2値分類問題である．注目している2文字が異なる単語に属する場合には空白を，同じ単語に属する場合には何も置かないとすると，上記の例文を適切に単語に分割した結果は以下のようになる．このように，入力文字列を単語に分割することで，単語を単位とした自然言語処理技術を適用することが可能となる．ただし，単語分割における誤りは，後続する自然言語処理の精度を低下させる点に注意しなければならない．</subsection>
  <subsection title="単語分割済みコーパス">自動単語分割器に関する研究は多数あり，そのほとんどがデータに基づく方法を採用している．これらの自動単語分割器は，単語分割基準に従って人手で単語に分割されたコーパスからパラメータを推定する．したがって，学習コーパスにおける誤りは自動分割の結果に波及し，後続する自然言語処理のアプリケーションの精度を損なう．それゆえ，単語分割済みコーパスの質は，非常に重要である．高い分割精度を確保するためにも，後続する自然言語処理を適用する対象分野の単語分割済み文を自動単語分割システムの学習コーパスとすることが望ましい．しかしながら，単語分割基準に従って正確に単語分割されたコーパスを用意するコストは非常に高い．というのも，作業者は，対象分野の用語と単語分割基準を熟知している必要があるからである．実際，コンピューター操作に熟練し単語分割基準を熟知した作業者が，ある分野の5,000文を非常に高い精度で単語分割するのに2週間（8時間10日）を要したという事実もある．したがって，低いコストで準備できる言語資源のみを用いて対象分野の文を高い精度で分割する自動単語分割器の実現方法は非常に有用である．</subsection>
  <subsection title="3種類の辞書">単語分割基準が所与とすれば，単語分割問題に用いることができる辞書は，3つに分類できる．以下では，これら3種類の辞書について，figure:3-valuedに示した3値表現を用いて詳述する．単語辞書：この辞書は，単語分割基準に従う単語からなる．つまり，この辞書に含まれる文字列は，ある文脈で最左の文字の左と最右の文字の右に単語境界があり，さらにその内部には単語境界がない．例えば，3値表現された以下の文字列は単語である．単語列辞書：この辞書は，単語の列からなる．つまり，この辞書に含まれる文字列は，ある文脈で最左の文字の左と最右の文字の右に単語境界があり，さらに，各文字列のすべての文字間に単語分割基準に従って単語境界情報が付与されている．例えば，3値表現された以下の文字列は単語列である．複合語辞書：この辞書は，単語の連接である文字列からなる．つまり，この辞書に含まれる文字列は，ある文脈でその左右両端に単語境界があるが，文字列内部の単語境界情報は不明である．例えば，3値表現された以下の文字列は複合語である．人が利用することを想定した商用・非商用の機械可読辞書は多数ある．実際，様々な対象分野における専門用語や固有名詞を多数含む辞書がある．また，仮名漢字変換のための辞書が様々な分野において公開されている．これらの辞書の見出し語は，自動単語分割器が学習に用いるコーパスの単語分割基準とは無関係に選定されており，多くの自動単語分割器において，これを精度向上に直接利用することはできない．単語分割基準に照らすと，人が利用することを想定した辞書の見出し語の多くは，上記の分類では複合語である．左右両端は単語境界であることがかなりの確度で期待できるが，文字列の内部の単語境界情報がない．複合語は，人的コストをかけて単語列に変換することができる．この際に必要な作業は，左右の両端が単語境界であることのチェックと，文字列内のすべての文字境界に単語境界情報を付与することである．このコストは，対象分野の単語分割済みコーパスの作成に要するコストに比べて非常に少ない．以上の議論から，複合語や単語列を参照することで精度が向上する自動単語分割器を構築することは実用的意義が非常に大きい．</subsection>
  <section title="単語分割法">本節では，前節の3種類の辞書を学習データとする日本語単語分割法について述べる．提案手法は，3種類の辞書と単語分割済みコーパス（部分的にアノテーションされていれば良い）を学習データとする．</section>
  <subsection title="最大エントロピーモデルによる点予測単語分割">日本語の単語分割の問題は，入力文の各文字間に単語境界が発生するか否かを予測する問題とみなせる．つまり，文x=xmに対して，文字x_iとx_i+1の間が単語境界であるか否かを表すタグt_iを付与する問題とみなせる．付与するタグは，単語境界であることを表すタグE（``*+|+''に相当）と，非単語境界であることを表すタグN（``*+-+''に相当）の2つのタグからなる．各文字間のタグを単語境界が明示されたコーパスから学習された最大エントロピーモデル(MEmodel;maximumentropymodel)により推定する．その結果，より高い確率を与えられたタグをその文字間のタグとし，単語境界を決定する．すなわち，以下の式が示すように，最大エントロピーモデルにより，単語境界と推定される確率が非単語境界と推定される確率より高い文字間を単語境界とする．P_ME(E|i,x)&gt;P_ME(N|i,x)displaymathこれにより，入力文を単語に分割することができる．最大エントロピーモデルによる単語分割法では，単語境界情報が付与されたx=xmの各文字間を，タグt_iと素性の組み合わせSとみなして，学習と確率推定を行う．S=(t_i,,f_i,1(x),,f_i,2(x),,);|;1im-1,displaymath素性f_i,j(x)の詳細は次項で述べる．</subsection>
  <subsection title="参照する素性">文字x_iとx_i+1の間に注目する際の最大エントロピーモデルの素性としては，文字列x_i-1^i+2に含まれるの部分文字列である文字n-gramおよび字種n-gram(n=1,,2,,3)をすべて用いる．ただし，以下の点を考慮している．素性として利用するn-gramは，先頭文字の字種がその前の文字の字種と同じか否か，および，末尾文字の字種がその次の文字の字種と同じか否かの情報を付加して参照する^i+3の範囲のn-gram(n=3,,4,,5)が参照されることになる．．素性には注目する文字間の位置情報を付加する．</subsection>
  <subsection title="辞書の利用">さらに，前述した3種類の辞書を参照し，以下の素性を用いることを提案する．文字列x_i-1^i+2に含まれる文字n-gram(n=1,,2,,3)が，単語辞書中の単語と一致する文字列であるか否かを表す9素性（9つの位置の文字n-gramについて判定）注目する文字境界（x_ix_i+1の間）の辞書中の位置を表す以下の4素性単語の開始位置の``*+|+''に該当するか否かを表す素性（単語，単語列，複合語のいずれかがx_i+1x_i+2に前方一致するか否か）単語の終了位置の``*+|+''に該当するか否かを表す素性（単語，単語列，複合語のいずれかがx_i-1x_iに後方一致するか否か）単語列の単語境界の``*+|+''に該当するか否かを表す素性（x_ix_i+1の位置にいずれかの単語列が出現し，かつx_iとx_i+1の間が単語列中の``*+|+''に該当するか否か）単語や単語列の``*+-+''に該当するか否かを表す素性（x_ix_i+1の位置にいずれかの単語か単語列が出現し，かつx_iとx_i+1の間が``*+-+''に該当するか否か）</subsection>
  <section title="評価">提案手法の評価のために，様々な自動単語分割器を構築し，テストコーパスに対する分割精度を測定した．この節では，その結果を提示し提案手法の評価を行う．</section>
  <subsection title="実験条件">まず，対象分野のテストコーパスを日本経済新聞の記事とした．学習コーパスは一般分野の単語分割済みコーパスである．評価のために，学習コーパスと同じ分野のテストコーパスも用いた（table:corpus参照）．一般分野コーパスは，現代日本語書き言葉均衡コーパス（13,181文）と，日常会話のための辞書の例文（14,754文）である．すべての文は，人手により適切に単語に分割されている．実験では，9-foldの交差検定を行った．つまり，テストコーパスを9つの部分に分割し，8つの部分を複合語や単語列の選定に用い，残りの1つを自動分割のテストとして用いることを，9通りに渡って行った．実験に際して，section:LRSで述べた3種類の辞書を用意した．1つ目は単語辞書(UniDic-1.3.9)で，語彙サイズが非常に大きいことに加えて，その見出し語が学習コーパスと同じ単語分割基準に従っていることが注意深くチェックされている．2つ目は複合語辞書で，その見出し語は機械可読の商用辞書から得た．その多くは，専門用語と固有名詞である．実験では，テストとして用いられる1つの部分コーパス以外の8つの部分コーパスに文字列として出現する複合語を用いた．これらの複合語は，両端は単語分割基準と一致していることが期待されるが，その保証はない．3つ目は単語列辞書である．単語列辞書は，複合語辞書の見出し語を単語分割基準に従って人手により分割することで得られる．単語列は，結果的に1単語である場合もある．実験では，8つの部分コーパスに文字列として出現する単語列を用いた．複合語の左右どちらかの端が単語分割基準と一致していない場合は単語列辞書から除外した．したがって，単語列の数は複合語の数よりも少なくなっている．table:dictionaryにこれらの辞書の諸元を示す．この表から複合語と単語列の平均文字数はそれぞれ3.04文字と3.12文字であることが分かる．これらは，学習コーパスの単語長（1.40文字）や新聞コーパスの平均単語長（1.50文字）より長い．単語列は平均1.61単語からなる．自動単語分割器のパラメータは，学習コーパスとこれらの辞書を同時に参照し推定される．</subsection>
  <subsection title="評価基準">自動単語分割の評価に用いた基準は，適合率，再現率，境界推定精度及び文正解率である．これらの計算方法を以下のような例を用いて説明する．ここで，自動単語分割の結果をAWS，正解の単語列をCORとしている．境界推定精度は，単語境界情報が正しく推定された文字間の割合である．上記の例では，文字数は11あるので，単語境界の推定対象となる文字間の数は10である．この内，単語境界情報が正しく推定された文字間は5であるので境界推定精度は5/10となる．文正解率は，すべての文字間において単語境界情報が正しく推定された文の割合である．適合率と再現率は，以下のように計算される．まず，正解の単語列に含まれる単語数をN_COR，自動単語分割の結果に含まれる単語数をN_AWSとし，さらに正解の単語列と自動単語分割の結果の最長部分一致単語列に含まれる単語数をN_LCSとする．この定義の下，適合率はN_LCS/N_AWSで与えられ，再現率はN_LCS/N_CORで与えられる．上述の例では，最長部分一致単語列は下線を引いた単語列であり，その単語数からN_LCS=3である．正解の単語列の単語数からN_COR=7であり，自動単語分割の結果の単語数からN_AWS=6である．したがって，再現率はN_LCS/N_COR=3/7であり，適合率はN_LCS/N_AWS=3/6である．</subsection>
  <section title="関連研究">自動単語分割の問題をある文字の次に単語境界があるかの予測として定式化することはかなり以前から行われている．これらの研究では，文字に単語境界情報を付与して予測単位としている．文字間に単語境界があるかを識別学習により決定することも提案されている．この研究の主眼は能動学習の調査・分析である．辞書の利用に関する記述はなく，また分野適応についても述べられていない．統計的手法による日本語の文の自動単語分割に関する初期の研究は，丸山らによる単語n-gramモデルを用いる方法がある．また，永田による品詞n-gramモデルによる形態素解析もある．森らは，すべての品詞を語彙化した形態素n-gramモデルを用いることによる精度向上を報告し，さらに単語辞書の参照を可能にする方法を提案し，それによる精度向上を報告している．内元らは，最大エントロピーモデルを用いる形態素解析において単語辞書を参照する方法を提案している．このように，単語分割基準に沿った単語辞書を参照する方法はすでにあるが，複合語や単語列を参照し精度向上を実現した自動単語分割器の報告は，我々の知る限りない．なお，提案手法は，形態素解析にも拡張可能である．提案する自動単語分割器は音声認識や仮名漢字変換の言語モデル作成に用いることを想定しているので，品詞を推定する必要はないと考えている．品詞も推定すべきか，どの程度の粒度の品詞体系にすべきか，などの問題は後続する自然言語処理と準備すべきデータの作成コストを含む全体の問題であり，本論文の議論を超える．複合語や単語列を参照し精度向上を図る取り組みは，完全に単語に分割された文に加えて，それ以外の断片的な情報を用いて精度向上を図る取り組みの一つである．坪井らは，学習コーパスの文の単語境界情報が部分的であるような不完全なアノテーションからも条件付き確率場による自動単語分割器や形態素解析器を学習できる枠組みを提案している．本論文で提案する自動単語分割器は点予測を用いているので，単語分割に関してはこの問題は解決されているといえる．したがって，提案する自動単語分割器は，単語境界情報が部分的に付与されたコーパスと複合語や単語列のすべてを同時に参照することができる．自動単語分割は，中国語においても提案されている．自動単語分割器は，空白で区切られる単位が大きい韓国語やフィンランド語などにおいても有用で，言語モデルの作成に用いられている．提案手法は，これらの言語に対する言語処理においても有用である．</section>
  <section title="おわりに">本論文では，日本語の文の自動単語分割器をある分野に適用する現実的な状況において，精度向上を図るための新しい方法を提案した．提案手法の最大の特徴は，複合語を参照することが可能な点である．本論文で言う複合語とは，内部の単語境界情報がない文字列であり，人の利用を想定した辞書の見出し語の多くが複合語である．この機能により，一般に販売されている辞書を参照し，付加的な人的コストなしに，ある分野における自動単語分割の精度を向上させることができる．提案する自動単語分割器は，内部に単語境界情報をもつ単語列を参照することも可能である．この機能により，コーパスを準備するよりも低い人的コストでさらなる精度向上を実現することが可能になる．実験では，これらの辞書を参照する自動単語分割器を最大エントロピー法を用いて構築し，これらのさまざまな辞書を参照する場合の自動単語分割の精度を比較した．実験の結果，本論文で提案する自動単語分割器は，複合語を参照することにより，より高い分割精度を人的コストなしに実現することが確認された．また，単語列を参照することにより，少ない人的コストでさらなる精度向上が実現されることが示された．したがって，本論文で提案する自動単語分割器は，自然言語処理をある分野に適用する場合に非常に有用である．</section>
</root>
