    \documentclass[japanese]{jnlp_1.4}
\usepackage{jnlpbbl_1.3}
\usepackage[dvipdfm]{graphicx}
\usepackage{amsmath}
\usepackage{array}


\newcommand{\changed}[1]{}
\renewcommand{\changed}[1]{}
\newcommand{\changedB}[1]{}
\renewcommand{\changedB}[1]{}
\usepackage{xspace}
\newcommand{\random}{}
\newcommand{\tfidf}{}
\newcommand{\Total}{}
\newcommand{\mecab}{}
\newcommand{\kytea}{}
\newcommand{\chasen}{}
\newcommand{\juman}{}
\newcommand{\lxd}{}
\newcommand{\WB}{}
\newcommand{\PD}{}
\newcommand{\PA}{}



\Volume{24}
\Number{1}
\Month{February}
\Year{2017}

\received{2016}{5}{20}
\revised{2016}{8}{5}
\accepted{2016}{9}{27}

\setcounter{page}{49}

\jtitle{絵本検索システム「ぴたりえ」\\
〜子どもにぴったりの絵本を見つけます〜}
\jauthor{藤田　早苗\affiref{Author} \and 服部　正嗣\affiref{Author} \and 小林　哲生\affiref{Author}  \and 奥村　優子\affiref{Author} \and 青山　一生\affiref{Author}}

\jabstract{
  本稿では，子どもに「内容」と「読みやすさ」がぴったりな絵本を見つける
  ためのシステム「ぴたりえ」を提案する．本システムは，親や保育士，司書
  など，子どもに絵本を選ぶ大人が利用することを想定している．絵本を読む
  ことは，子どもの言語発達と情操教育の両面で効果が期待できる．しかし，
  難しさも内容も様々な絵本が数多くある中で，子ども1人1人にとってぴった
  りな絵本を選ぶのは容易なことではない．そこで，ぴたりえでは，ひらがな
  の多い絵本のテキストを高精度に解析できる形態素解析や，文字の少ない絵
  本に対しても精度の高いテキストの難易度推定技術などの言語処理技術によ
  り，子どもにぴったりな絵本を探す絵本検索システムを実現する．本稿では，
  こうした言語処理技術を中心にぴたりえの要素技術を紹介し，各技術の精度が高いことを示す．また，システム全体としても，
  アンケート評価の結果，ぴたりえで選んだ絵本は「読みやすさ」も「内容」
  も，5 段階評価で平均値が 4.44〜4.54 と高い評価が得られたことを示
  す．}

\jkeywords{形態素解析，難易度推定，類似探索，表記ゆれ，ひらがな}

\etitle{Picture-Book Search System ``Pitarie''\\---Finding Appropriate Books for Each Child---}


\eauthor{Sanae Fujita\affiref{Author} \and Takashi Hattori\affiref{Author} \and Tessei Kobayashi\affiref{Author} \and \\
	  Yuko Okumura\affiref{Author} \and Kazuo Aoyama\affiref{Author}}
\eabstract{
  In this paper, we present a novel picture-book search system
  Pitarie, which can find a picture book that matches a child's
  interests and language developmental stage.  By reading the
  appropriate picture book to children, positive effects such as
  faster language development and enhanced emotional education are
  expected.  Pitarie searches are based on two new natural language
  processing technologies particularly designed for picture books:
  morphological analysis and text readability estimation for sentences
  written mainly in Hiragana script. In this paper, we introduce
  Pitarie with a focus on such novel technologies and their level of
  quality.  Finally, we report the results of the questionnaire for
  the entire system.  Books that were selected based on
  recommendations by Pitarie had an average rating of 4.44--4.54 on a
  5-point evaluation scale from both children's interest and language
  developmental stage viewpoints.

}


\ekeywords{Morphological Analysis, Text Readability, Similarity Search, Orthographical Variants, Hiragana}



\headauthor{藤田，服部，小林，奥村，青山}
\headtitle{絵本検索システム「ぴたりえ」}

\affilabel{Author}{NTT コミュニケーション科学基礎研究所}{NTT Communication Science Laboratories}



\begin{document}
\maketitle


\section{はじめに}\label{sec:intro}

絵本の読み聞かせは
幼児の言語発達を促す重要な情報の 1つ
と考えられる\cite{Mol:2008,Reese:1999,Whitehurst:1988}．例えば，
読み聞かせを開始する月齢が早いほど，2 才や 4 才の時点
での言語理解や発話の能力が高くなること
\cite{Debaryshe:1993:joint,Payne:1994:role}，
そして 8 ヶ月時点での絵本の読み聞かせが多い方が，12，およ
び，16ヶ月時点での語彙が発達していること\cite{Karrass:2005:effects} など
が示されている．


また，読み聞かせでは，読み手と聞き手という少なくとも 2 者が存在し，絵
本という共通の対象がある．このような状況において，聞き手である幼児は自
分以外の他者と同一の対象に注意を向ける共同注意 (joint attention)という
行動を頻繁にとることが知られており\cite{Karrass:2003:predicting}，それ
が言語発達に影響する可能性などが指摘されてい
る\cite{Tomasello:1986:joint}．こうしたインタラクションによる効果以外に
も，例えば，\citeA{Sulzby:1985:children} は，日常の会話でほとんど出現し
ない語彙やフレーズが絵本に多数含まれていることが幼児の言語発達を進める
ことを指摘している．
さらに，絵本の読み聞かせは言語発達を促すだけではなく，
読み手と子どものコミュニケーションを促したり，
登場人物の感情を推定したりするなど，情操教育にも役立つと考えられる
\cite{Sato:Horikawa:Uchiyama:2016j,Furumi:Koyamauti:Ooba:2014j}．
このように，絵本を読むことは，言語発達と情操教育の両面での効果が期待できる．



しかし絵本には，赤ちゃん向けの絵本から，年長児（5才児）以上を対象とする絵本，
大人向けの絵本まで存在し，その内容も難しさも様々である．
そのため，子どもの興味や発達段階にあった絵本を選ぶのは難しい．
親など日常的に接している保護者が子どもに絵本を選ぶ場合，
書店や図書館などで手にとって確認すれば，その子に
読めそうかどうか，興味を引きそうかどうかは分かるかもしれない
\changedB{が，非常に多くの絵本を 1 冊 1 冊手に取って確認するのは}容易ではない．


また，ある程度大きな子どもであれば，子ども自身でも絵本を選べるかもしれ
ない．しかし，書店や図書館では，多くの本は背表紙が見える向きでずらりと
並べて置かれている．そのため，表紙が目立つように置かれてる一部の絵本の
中から手に取りやすい傾向がある．多くの書店や図書館では，目立つ場所に置く
本を定期的に入れ替えたり，季節やテーマに応じた本の展示コーナーを作った
り，定期的に読み聞かせの会を開いたりするなど，絵本と出会うための様々な
工夫がされている．こうした取り組みでは，本に詳しい書店員や司書の方が選
んだ本を紹介してくれるため，良い本と出会いやすいという利点がある．しか
し，タイミング良くその時にその場所に足を運ばなければ，手に取る機会を逃
してしまうという状況は変わらない．また，そうして手にとった本がその子に
合った読みやすさではない場合，簡単すぎてつまらなかったり，あるいは難し
すぎて途中で投げ出してしまったりということが起こり易い．内容も，多くの
子ども達には人気があるとしても，子ども 1 人 1 人を考えた時に，ちょう
ど興味のある内容であるとは限らない．このように，興味のある内容でちょうど
良い読みやすさの本と出会えない場合，本をあまり読まなくなってしまったり，
同じ本ばかり繰り返して読んだりすることもある．
もちろん，繰り返して読むことは決して悪いことではない．お気に入りの本を
繰り返して読みたがる時期もあるし，同じ本でも子どもの成長とともに理解が
深まったり，最初とは違う読み方ができるようになることもあるだろう．しか
し，同じ本ばかり読んだり借りたりする理由が，「他に興味を引く本が見つか
らないから」だったら問題である．
しかも，0〜3 才くらいまでの幼い子どもの場合は，そもそも自分で本を選ぶことも難しい．

そこで我々は，子どもに内容と読みやすさが
ぴったりな絵本を見つけるためのシステム「ぴたりえ」を開発している．
幼い子どもには入力インタフェースの利用が難しいため，親や保育士，司書などの大人が利用することを想定している．


\section{関連システム}\label{sec:previous}

本章では，インターネットを介して，絵本を含む本を検索したり購入したり
することのできる既存システムを紹介する．


まず，多くの図書館では，インターネットを通じた検索サービスを提供してい
る．例えば，国立国会図書館サー
チ\footnote{http://iss.ndl.go.jp/} では，複数の機関が所蔵する児童
書の検索サービスを提供してお
り，WorldCat\footnote{https://worldcat.org} は，世界中で同様のサー
ビスを提供することを目指している．国立国会図書館サーチには，子どもを想
定利用者とした国際子ども図書館子どもOPAC\footnote{http://iss.ndl.go.jp/children/top} もある．
これらの検索サービスでは，タイトルや作者などの書誌情報による検索や，
テーマからの検索等ができるようになっている．多くの蔵書から検索でき，
実際に借りることのできる図書館を探せるなど，有用性の高いサービスである．
しかし，書誌情報による検索は，ユーザー側で探している本が明確な場合にはよいが，
探している本が見つかるだけでは本との
新たな出会いのきっかけにはなりにくい．
テーマからの検索を利用すれば，
興味のあるテーマから本を見つけることができるが，あらかじめ設定された
テーマに限定されてしまうという問題がある．



一方で， Amazon\footnote{http://www.amazon.co.jp/} や
絵本ナビ\footnote{http://www.ehonnavi.net/} など，
多くの通信販売サイトが絵本を含む本を扱っている．
こうした通信販売サイトでは，ユーザーレビューが集められていることが多く，
購入の際の参考とされている．
さらに，Amazonでは，
同じような購買履歴を持つ他のユーザーが購入している本を推薦するという，
協調フィルタリングによる推薦が行われている．
一般に満足度の高い推薦方法ではあるが，
一方で，売れ筋の本ばかりが推薦されやすくなるという問題点がある．
さらに，英語版のAmazon\footnote{http://www.amazon.com/} では，
対象年齢 (Age Range) や
テーマ（Bugs \& Spiders, Counting 等）
を選んで本を探すこともできる．有益なサービスだが，
出版社等によって登録された情報に拠っており，
あらかじめ設定されたテーマ等に限定されるという問題は変わらない．


絵本ナビは，絵本や児童書に特化したサービスを展開しており，懸
賞をかけたりすることでユーザーレビューを大量に集めている．ま
た，ユーザーに子どもの年齢を入力してもらうことにより，どういった年齢の
子どもによく読まれている本かといった情報収集を行い，年齢ごとの推薦を可
能にしている．素晴らしいサービスだが，必ずしもすべての本に十分な数のユー
ザーレビューが得られているわけではなく，ユーザーレビューのない本には適
用できない．


\section{システム概要と言語処理}\label{sec:system}


本章では，ぴたりえのシステム概要と，内容と読みやすさがぴったりな絵本を
見つけるために必要な言語処理技術を中心に紹介する．

\begin{figure}[b]
\begin{center}
\includegraphics{24-1ia2f1.eps}
\end{center}
\caption{ぴたりえ：システムの概要}
\label{fig:pitarie-system}
\end{figure}

図~\ref{fig:pitarie-system}にぴたりえのシステム概要を示す．ぴたりえでは，
事前に構築している絵本データベース（\ref{sec:ehon-db}章）から，絵本の探
索（あるいは，検索），推薦を行う．絵本データベースに対して事前準備として
行っておく処理と，検索実行時に行う処理があるが，両方の処理で，まず言語
処理による様々な処理を行い（図~\ref{fig:pitarie-system}，【1】），探索部
分にデータを渡している（図~\ref{fig:pitarie-system}，【2】）．

言語処理部分では，まず，形態素解析（\ref{sec:hiragana}節）を行う．この結
果はすべての後続処理で利用する．
次に，
難易度推定（\ref{sec:readability}節）を行う．
これにより，\changedB{絵本を探している子どもにちょうど}ぴったりな読みやすさの本の推薦を実現する．
さらに，表記ゆれの吸収処理（\ref{sec:yure}節）や，必要に応じて
概念辞書による検索語の拡張（\ref{sec:theme}節）を行う．
これらの処理を行った後，探索部分にデータを渡す（図~\ref{fig:pitarie-system}，【2】）．
探索部分では，
絵本テキストの解析結果や書誌情報，あるいは，自由入力されたテキストの解析結果や拡張結果を
特徴量として，グラフ索引型類似探索法（\ref{sec:search}節）を実行しており，
これによりぴったりな内容の推薦を実現する．


\ref{sec:previous}章で紹介した関連システムと比較すると，ぴたりえでは絵
本自体のテキストに基づく難易度推定を行っているので，レビューや出版社で
付与された対象年齢の有無にかかわらず，一貫した難易度の推定が可能であり，
ちょうど良い読みやすさの本の推薦が可能である．また，人手であらかじめ設
定されたテーマに限らず，自分の興味のあるテーマの本を中身に基づいて探し
たり，興味のある本に似た本を探すことができるため，子ども 1 人 1 人の
興味にあった推薦が可能である．


\section{絵本データベース}\label{sec:ehon-db}

本章では，絵本データベースに含まれる本の選定規準とデータベースのサイズ
について述べる．

絵本データベースには，
多くの子どもに読まれていると考えられる本，
名作として専門家によって推薦されている本，
長年に渡り愛されてきている本が含まれるよう選定している．
具体的には，
2010 年，および，2015 年の紀伊国屋書店グルー
プの売上冊数が上位 1,000 位以内のファーストブック
と絵本
\footnote{絵本とファーストブックの分類は紀伊国屋書店による．}，
小学校国語教科書シェアトップ 3 社（東京書籍，光村書店，教育出版）
\footnote{教科書の出版社毎のシェア状況については\citeA{PKyokasyoSaitaku:2010j}を参照．}
発行の 2015 年度小学校教科書で掲載・推薦されている図書，
ミリオンセラー
\footnote{ミリオンぶっく 2015年版 (TOHAN) http://www1.e-hon.ne.jp/content/cam/2015/millionbook.html}，
図書館の推薦図書から選定している．
こうした推薦本に児童書が含まれる場合には，データベースに児童書も含めている．
また，シリーズ作品の一部のみがこれらに含まれる場合には，
シリーズの他の作品も含めている．
さらに，対象年齢が比較的はっきりしていることを選定理由として，福音館書
店の月刊誌 190 冊を含めている\footnote{含まれる絵本のリストは http://www.kecl.ntt.co.jp/icl/lirg/members/sanae/ehon-list.html で閲覧可能である．}．これにより，合
計 2,415 冊\footnote{2016年05月12日現在のデータサイズである．} がデータ
ベースに含まれている．


絵本データベースには，これらの絵本について，タイトルや作者，出版社，出
版年，ISBN などの書誌情報と，本文のテキスト，記載がある場合には出版社が
付与している対象年齢も保存している．
絵本データベースのサイズを表~\ref{tb:size}に示す．
絵本データベースには，お話集のように 1 冊に複数の話が含まれる本も含まれており，
1 話  1 冊の本と分けてサイズを示した．


\begin{table}[t]
 \caption{絵本データベースのサイズ（児童書，お話集を含む）}
\label{tb:size}
\input{02table01.txt}
\end{table}

表~\ref{tb:size}で，文字数が 0 となっている絵本は，
「アンジュール」{\kern-0.5zw}\footnote{「アンジュール」（ガブリエル・バンサン, 1986, BL 出版）} など，字のない絵本である．
また，文字数が最大（133,724文字）だった本
「本だらけの家でくらしたら」
\footnote{「本だらけの家でくらしたら」（作：N. E. ボード　絵：ひらいたかこ　訳：柳井薫，2009, 徳間書店）}
は，絵本というより児童書である．

絵本データベースは，文字数で
700 万文字を越えており（表~\ref{tb:size}），
形態素解析の正解アノテーション済みデータは約26万文字である
（\ref{sec:hiragana}節，表~\ref{tb:test-size}参照）．
なお，
京都大学テキストコーパス\footnote{http://nlp.ist.i.kyoto-u.ac.jp/index.php} は約 168 万文字，
基本語データベース\cite{Lexeed:2004j}（以下，\lxd{}）
は約 192 万文字である．


この絵本データベースは，ぴたりえでの絵本の推薦に利用するだけでなく，
言語発達で重要な意味を持つ語の絵本での出現傾向の調査を
行う\cite{Okumura:Kobayashi:Fujita:Hattori:2016}など，幼児を対象とするテキストの貴重なコーパスとして
研究利用している．


\section{要素技術}\label{sec:nlp}

本章では，ぴたりえで用いている各要素技術を紹介する．
処理の順番は前後するが，まず，\ref{sec:search}節でぴたりえで利用している
探索技術（図~\ref{fig:pitarie-system}，【2】）について紹介し，\ref{sec:hiragana}節から \ref{sec:theme}節で
言語処理部分（図~\ref{fig:pitarie-system}，【1】）について紹介する．


\subsection{探索方法}\label{sec:search}

ぴたりえでは，内容がぴったりな絵本を見つける探索技術として，
グラフ索引型類似探索法\cite{Hattori:Aoyama:2013j}を用いている．
類似探索は，入力データと探索対象の間に「似ている度合い（類似度）」を定義
して，類似度が高いものを探す方法であり，直感的には，入力した大量の情報
に基づいてできるだけ多くの条件を満たすものを探す探索方法である．
特に，グラフ索引型類似探索法では，高速な検索を実現するための索引として
類似の絵本同士が結合したグラフ構造（ネットワーク構造）を用いて検索を行
う．
本手法は，検索する対象間に何らかの「距離」\footnote{正確には，距離公理を満たさない非類似度でも良い．} を定義することができれば適用できるため汎用性が高い．
例えば，画像特徴量を用いて似ている絵を見つけたり，音声の特
徴量を用いて似ている声の人を見つけたり，テキストから得られる特徴量を用
いて似ている内容のテキストを見つけることができる．


ぴたりえでは，絵本の著者などの書誌情報や，1冊1冊に現れる内容語と名詞句，
それらの表記ゆれをすべて特徴量として利用している\footnote{画像特徴量を利用して似た絵を探す機能もある．}．具体的には，絵本ごとに出現する内容
語，名詞句，それらの表記ゆれを\tfidf{}によって重み付けし（\ref{sec:yure}節），
ノルムを1に正規化したベクトルを用いて計算した絵本間のコサイン類似度を距
離としている．文書間の距離尺度としては様々な計算方法が提案されている
が\cite{Asahara:Kato:2015j}，内容語を用いるだけで，出てくる動植物やキャ
ラクター，「食べる」「遊ぶ」などの行動が表れる絵本を発見できる．また，
より長いn-gram を用いる場合より，他の絵本と一致しやすくなるため，より多
くの類似した絵本を発見することができる．
これにより，お気に入りの絵本を入力データとし，その絵本と作者等の書誌情
報が似ている絵本や，出てくる動植物や行動が似ている絵本など，様々な点で
似ている絵本を探すことができる．

\begin{figure}[b]
\begin{center}
\includegraphics{24-1ia2f2.eps}
\end{center}
\caption{「はらぺこあおむし」で検索した結果（各絵本の書誌情報は付録を参照）}
\label{fig:ruiji}
\end{figure}


図~\ref{fig:ruiji}に，
「はらぺこあおむし」{\kern-0.5zw}\footnote{「はらぺこあおむし」（エリック＝カール　さく／もりひさし　やく，1976, 偕成社）}
を入力データとして類似探索を実行した結果を示す．
図~\ref{fig:ruiji}では，
絵本データベースの中から，内容語や
書誌情報などの特徴量が，「はらぺこあおむし」とできるだけ多く
共通する絵本が検索結果として出力されている．著者が同じと
いう点で似た絵本もあれば，「あおむし」「葉っぱ」「たべる」などの語が共通する
絵本もある．
そのため，例えば，
青虫に興味が湧いたのであれば\changedB{青虫の出てくる
他の絵本，色々な食べ物を食べるのが面白かったのであれば
色々な食べ物の出てくる他の絵本，といった選び方をすることもできる．}



このように，我々は，書誌情報が一致する本を見つけるだけでなく，お気に入
りの一冊と色々な点で「似ている」絵本を検索結果として提示することによって，
書誌情報との一致だけでは見つけることができない本との新たな出会いを提供
することができると考えている．

また，入力データとする本を 1 冊ではなく，最近のお気に入りの数冊とする拡張も容
易である．あるいは，絵本を入力データとするのではなく，「タイトルは忘れたけど
昔好きだった絵本で，『一人ぼっちのきかんしゃが旅をして，最後には友達ができる
絵本』を見つけたい」とか，「友達とケンカしちゃったけど仲直りしたいから，
『ケンカしたけど仲直りする絵本』を見つけたい」などという検索も実現できる．
ただし，現在は物語の順序や語順を考慮していないため，
「ケンカしたけど仲直りする絵本」と「仲直りしたけどケンカする絵本」の
区別はつけられない．こうした順序情報や，類型化した物語の構造の類似度の反映は今後の課題としたい．

ぴたりえでは，次節以降で紹介する言語処理の結果を特徴量として用いることで，
信頼度とユーザビリティが高い類似探索を実現している．


\subsection{形態素解析}\label{sec:hiragana}


まず，すべての後続処理で利用している言語処理技術として，
形態素解析について述べる．
形態素解析は多くの言語処理技術の基盤技術となるものであり，
新聞などの\changedB{大人向けの整った}文章に対しては非常に高い解析精度が実現されている．
また，
\juman\footnote{http://nlp.ist.i.kyoto-u.ac.jp/index.php}
\cite{juman:7.0j}， 
 \chasen\footnote{http://chasen-legacy.sourceforge.jp/}
 \cite{chasen:2.4.4j}，
 \mecab\footnote{http://mecab.googlecode.com/svn/trunk/mecab/doc/index.html}
 \cite{Mecab}，\kytea\footnote{http://www.phontron.com/kytea/}
 \cite{Mori:Nakata:Graham:Kawahara:2011j}
など，多くの形態素解析器と解析モデルが公開されている．

しかし，絵本のテキストを対象とした場合，新聞などを対象とした場合と異なり，
既存の解析モデルで必ずしも高い解析精度を得られるわけではない．
絵本のテキストの特徴については，\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}の論文で詳しく
分析されており，ひらがなの占める割合が非常に大きいことが，精度低下の大きな要因である．


そこで\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}は，絵本の特徴に合わせて
既存の辞書や学習データを変換することで，絵本テキストの解析に強い形態素解析モデルを
構築する手法を提案している．
ぴたりえでは，\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}
の提案手法を適用した上で，
順次絵本テキストへのアノテーションによる学習データの拡充，および，
辞書の追加を行い，絵本のテキストに対する形態素解析精度を
向上させている．
ただし，\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}の実験では，
品詞体系はIPA品詞体系とし，
解析器には\kytea{}を利用していたが，
現在はUniDic品詞体系\cite{Unidic}\footnote{http://pj.ninjal.ac.jp/corpus\_center/unidic/}
の短単位に変更し，解析器には\mecab{}を利用している．
UniDic 品詞体系に変更した理由は，UniDicが普及し，UniDic に基づく言語資源が
増えつつあるためである．また，UniDic では，語彙素・語形・書字形・発音形という 4 階層からなる階層的見出しを採用しており，
表記ゆれの吸収のために有効だと考えたためである（\ref{sec:yure}節）．

\begin{table}[b]
\caption{アノテーション済み絵本データのサイズ}
\label{tb:test-size}
\input{02table02.txt}
\end{table}

表~\ref{tb:test-size}に，\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}の実験で，
ランダムサンプリングによって選んだ評価データ
（以下，Random）のサイズを掲載する\footnote{\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}
の掲載値と形態素数が異なるのは，品詞体系が異なるためである．
また，文字数が異なる（全部で 19,850 文字と記載していた）のは，一部のコメント行を誤って数えていたためであり，本稿掲載の文字数が正確である．}．
表~\ref{tb:test-size}中の，FIRST はファーストブック，EHONはその他の絵本を示している．
また，表~\ref{tb:test-size}には正解アノテーション済で学習に利用している
絵本テキストのデータサイズも掲載している．


表~\ref{tb:morph-acc}に，表~\ref{tb:test-size}の評価データ (\random{})に
対する本稿のモデルによる解析精度を示す．ここでは評価のため，学習データに\random{}を含めずにモデルを構築している．
また，参考までに，UniDicの\mecab{}用配布モデル\footnote{unidic-mecab-2.1.2を利用．} による解析精度も掲載した．
なお，品詞体系が異なるため一概には比較できないが，
\citeA{Fujita:Taira:Kobayashi:Tanaka:2014j}は，
\random に対する精度は，
単語区切り 98.3\%，品詞大分類 94.7\%，品詞完全一致 91.1\%，と報告しており，
精度はより向上している．


このように，ひらがなの多い絵本に対しても，既に高い精度を達成しているが，
形態素解析はすべての後続処理に影響する重要な処理であるため，
今後のさらなる精度向上を目指してより詳細な分析を行う．
具体的には，正解アノテーション済みのデータを分析することで，
どのような語が絵本で出現し，未知語として辞書に追加されたかを分析する．

\begin{table}[t]
\caption{形態素解析精度}
\label{tb:morph-acc}
\input{02table03.txt}
\end{table}
\begin{table}[t]
\caption{正解アノテーション済み絵本データ中の出現形態素の内訳}
\label{tb:morph-appear}
\input{02table04.txt}
\end{table}



まず，表~\ref{tb:morph-appear}に，正解アノテーション済みのデータにおけ
る，UniDicの配布辞書と，本システム用に追加したエントリの出現傾向を示す．
表~\ref{tb:morph-appear}から，出現形態素の異なりのうち，78\% がUniDicの配布辞書でカバーされていることが分かる．残りのエントリは，
元のUniDic では未知語となるエントリであり，\lxd{}等他の既存辞書か
らUniDic形式に変更して追加したエントリ (5.9\%)と，その他の追加エント
リ (16.1\%)に分けて表示した．さらにその他の追加エントリの中で
も，UniDic にあるエントリの表記ゆれと捉えられるエントリと，\lxd{}等のエ
ントリの表記ゆれと捉えられるエントリ，いずれにも一致しないエントリとに
分けて内訳を示した．ここで，表記ゆれとは，語彙素は一致するが，書字形出
現形等が異なるエントリである．
表~\ref{tb:morph-appear}から，追加されたエントリのうち，
約$1/3$は，UniDicやLexeedなどの既存辞書に存在するエントリの表記ゆれだが，
約$2/3$は，表記ゆれではない事が分かる．


\citeA{Sasano:Kurohashi:Okumura:2014j}はWebデータを解析した時に出現する
未知語をタイプ分類しており，
大きく「既知形態素からの派生」と「既知形態素からの派生以外」に分けている．同様に，
表~\ref{tb:morph-appear}の「その他の追加エントリ」のうち，UniDicや\lxd{}の表記ゆれは
「既知形態素からの派生」であり，それ以外は「既知形態素からの派生以外」と
捉えられる．
これらのエントリの品詞大分類の内訳と例を表~\ref{tb:morph-add}に示す．
表~\ref{tb:morph-add}の例からわかるように，既知形態素からの派生では，
小書き文字（「ぁ」など）や長音記号（「〜」「ー」など）の挿入，置換による表記ゆれが多く見られる．
\citeA{Sasano:Kurohashi:Okumura:2014j}は
こうした表記ゆれとオノマトペが未知語の約4割を占めると報告している．
本稿では絵本のテキストを対象としているが，未知語の出現傾向はWebデータの
場合と同様であることがわかる．


\begin{table}[b]
\caption{形態素解析用辞書に追加したエントリの品詞内訳}
\label{tb:morph-add}
\input{02table05.txt}
\end{table}

一方，追加された形態素エントリの約 $2/3$は，既知形態素からの派生以外であ
る．この中で，異なり数の多い品詞は順に，感動詞，副詞，固有名詞，名詞で
ある．それ以外の品詞は合わせても 1\%に満たず，ほとんどが方言だった．

こうした未知語への対応方法として，
のべ出現回数の最も多い固有名詞については，項構造を考慮した発見方
法\cite{Sasano:Kurohashi:2008j}が有力だろう．
また，名詞には，恐竜名を含む動植物名が多く含まれており，専門用語辞書から
エントリを追加しておくことで対応可能だと考えられる．
感動詞や副詞は非常に生成的で，繰り返しを含むオノマトペ\cite{Sasano:Kurohashi:Okumura:2014j}
以外は網羅的なエントリ追加は難しく，
Webデータを対象に提案されている入力文の正規
化\cite{Saito:etal:2015j,Sasano:Kurohashi:Okumura:2014j}が絵本でも有効
だと考えられる．これらの辞書や技術は，今後導入を検討したい．


\subsection{難易度推定方法}
\label{sec:readability}

本節では，読みやすさがぴったりな絵本を推薦するために用いられている
テキストの難易度推定方法を紹介する．


絵本には，出版社によって付与された対象年齢が記載されている場合もあるが，
記載されていない場合も多い．
絵本データベース中の絵本では，2,415 冊のうち，
対象年齢の記載がない絵本が 1,255 冊 (51.9\%)を占めた．
また，対象年齢の記載がある場合も，「3歳から小学校初級むき」「乳児から」「4才から」
「しゃべりはじめた小さな子どもにぴったり」
のように表現が多様で幅広い．
そのため，出版社が付与している対象年齢だけでは，子どもに読みやすさがぴったりな絵本を選ぶことは難しい．

一方で，難易度推定方法は，特に英語を対象とすると古くから研究されている
\cite{DuBay:2004,Benjamin:2012}．
しかしこれらのほとんどは，一般向けか \cite{Sato:2011j}，外国人
学習者向けか \cite{Petersen:Ostendorf:2O09,Lee:2011j}，小学生以上向け
 \cite{Tanaka:Tezuka:Terada:2010,Shibasaki:Tamaoka:2010j}であり，
幼児向けテキストを対象とする研究はほとんど行われていなかった．


そこで，我々は
幼児向けテキスト（絵本）を対象とした難易度推定方法を提案した\cite{Fujita:Ehon:2015j}．
絵本の場合，学童以上を対象とする場合とは異なり，教科書のように明確な
規準として利用できるコーパスがないという問題点があった．
また，日本語での難易度推定では通常大きな手がかりとなる漢字がほとんど出現せず，
かつ，非常に少ない文字数から推定しければならないという難しさがあった．

そこで，\citeA{Fujita:Ehon:2015j}は，対象年齢が出版社によっ
て 0・1・2 才児向け，3 才児向け，4 才児向け，5 才児向けと，比較的細
かく付与されている 123 冊を規準データとして利用し，対象年齢ごとの語の
出現頻度を考慮して重み付けした言語モデルを構築し，各言語モデルとの近さ
や平均文節数などを特徴量として利用することで，87.8\% の精度で対象年
齢を推定できることを示した．
また，教科書を規準コーパスとする評価実験も行い，
提案手法が絵本以外のコーパスに対しても高精度であることを示した\cite{Fujita:etal:2015j}．

藤田らの提案手法\cite{Fujita:etal:2015j,Fujita:Ehon:2015j}ではランキン
グ学習を行っており，すべての絵本を難しさによってランキングすることが可
能である．また，閾値を設定することで，対象年齢に分けることも可能であ
る．
\citeA{Fujita:Ehon:2015j} は，提案手法の評価のため，出版社によって付与
されていた対象年齢を正解として 0・1・2 才児を一つのクラスとしてまとめて
いるが，0 才から 2 才の間も子どもの発達は著しい．より詳細に分けるた
め，本システムでは，子どもがおぼえた言葉とその習得時期を調査したデータ
ベース\cite{Kobayashi:Okumura:Minami:2016j}も利用
し，0 才，1 才，2 才を別クラスとして難易度推定モデルを再構築した
ものを利用している．
つまり，全ての絵本に対して難易度によるランキングを行い，さらに，
閾値を設定して，0才から 6 才以上までの各年齢（7 クラス）に分けている．

本難易度推定モデルの評価として，子どものいる評価者 3 名（うち 2 名は，
保育士，幼稚園教諭の資格と勤務経験がある）によって評価実験を行った．まず，
「読んであげるなら何才向きか」という観点で 100 冊の本を対象年齢ご
と（0 才，1 才，，，6 才以上の 7 クラス）に分けてもらい，さらにそれ
らを易しい順にランキングしてもらった．つまり，100冊を易しい順にラン
キングし，評価に利用した．


まず，評価者 3 名によって選ばれた対象年齢のクラスを比較した．その結果，
完全に一致した本は 13 冊のみであり，2 名が一致した本は 62 冊，全員
が異なるクラスに分けた本は 25 冊だった．一方，3 人の分けたクラスの差
は平均 0.82 だった．つまり，クラスへの分類は人によって揺れやすく，完
全に一致するクラスに分けられた絵本は多くないが，前後のクラスなど近いク
ラスに分けられていることが分かる．


ここで，評価者間のスピアマンの順位相関係数$\rho$
とケンドールの順位相関係数$\tau$を調査した．
評価者を$w_1$, $w_2$, $w_3$とすると，\changed{$\rho$は}
$w_1$と$w_2$で 0.93, 
$w_1$と$w_3$で 0.88，
$w_2$と$w_3$で 0.90
であり，$\tau$は，
$w_1$と$w_2$で 0.77，
$w_1$と$w_3$で 0.71，
$w_2$と$w_3$で 0.74 だった．
また，3 人のランキング結果のケンドールの一致度係数は
0.93 だった．
これらから，評価者間の順位相関は非常に高いことが分かる．
つぎに，各評価者による結果と，本システムで利用している難易度推定結果 ($g$)の相関を調査した．
その結果，$\rho$は，
$g$と$w_1$で 0.88, 
$g$と$w_2$で 0.85, 
$g$と$w_3$で 0.79，
$\tau$は，
$g$と$w_1$で 0.70,
$g$と$w_2$で 0.66,
$g$と$w_3$で 0.60 だった
\footnote{\changed{本章のすべての相関係数と一致度係数は$p<0.001$で有意だった．}}．
評価者間の相関係数よりは若干低いが，自動推定の結果と評価者間の相関係数も
高いと言える．

このように高い精度での難易度推定を実現しているため，ぴたりえでは，テー
マや内容の似ている絵本の中から子どもの年齢に合った絵本を探したり，より
易しい本を探したり，子どものお気に入りの本と難易度（読みやすさ）が近い本
を選ぶこともできる．
特に，言語発達は子どもによって個人差が大きく，評価者間でも対象年齢のク
ラスへの分け方は完全一致しにくいなど，年齢で分けた場合には，子どもによっ
ては読みやすさが合わない場合も考えられるが，お気に入りの本と近い難易度
の本を選ぶことにより，ちょうどいい読みやすさの本を選ぶことができるとい
う利点がある．



\subsection{表記ゆれ吸収}
\label{sec:yure}

本節では，ぴたりえで導入している表記ゆれへの対応方法について紹介する．


日本語には様々な文字種が存在するため，同じ語でも，ひらがな，カタカナ，
漢字，これらの混合など，様々な表記方法が存在する（例えば，おおかみ，オ
オカミ，狼など）．しかし例えば，「オオカミ」で検索したとしても，ユーザー
は，「おおかみ」「狼」「オオカミ」のいずれの表記で出てくる話であっても
検索結果に含まれてほしいだろう．

UniDic で定義している「語彙素」とは，出現形の変異や表記のゆれを考慮せず，同一とみな
しうる語に対して同一の見出しを与えたものである\cite{Unidic}．そこ
で，Unidic 辞書で定義されている語彙素の読みと見出しを利用して
表記ゆれを吸収する．

一方で，作者は意図をもってこれらの表記を使い分けていると考えられる．
例えば，「狼」は絵本ではほとんど出現しないが，「おおかみ」は赤ちゃん向けの絵本でも
出現している．
こうした表記ゆれだけでなく，接尾辞等によっても変化がつけられる．
例えば，「おおかみさん」なのか「おおかみどん」
なのかによって，与えられる印象は異なるだろう．

そこで表記ゆれを吸収しつつ，元の表記の重みを大きくする方法を考案，導入
した．まず，接頭辞や接尾辞，名詞連続を含めた名詞句をひと塊として重
み 1 を与える．その上で，その名詞句から得られる表記ゆれ候補やその組み
合わせを，形態素解析結果から抽出する．これらが$m$個得られたとすると，各
重みを$1/m$として，特徴量として利用する．




例えば，「おおかみさん」の場合，「おおかみ（名詞）」と「さん（接尾辞）」から成る．
ここで，語彙素の読みとして「オオカミ」「サン」，語彙素の見出しとして「狼」「さん」，
書字形（あるいは出現形）として「おおかみ」「さん」が得られる．
これらを用いて，まず，元々の表記を接尾辞ごと取り出し（「おおかみさん」），
重み 1 を付与する．さらにそれ以外の表記ゆれとして，「オオカミサン」「狼
さん」「狼」「オオカミ」「おおかみ」の 5 通りを抽出し，それぞ
れ，$1/5=0.2$を重みとして付与し，特徴量として利用する．これにより，「狼」
や「オオカミ」などの表記ゆれを吸収しつつ，元の表記である「おおかみさん」
に最も重みをおいた探索を実現している．



なお，接頭辞と接尾辞を含め，最も表記にバリエーションのある名詞句は，
「名詞,普通名詞,一般,*,カア,母」を含むもので，28 通り出現している
\footnote{おかあさん(442)，かあさん(67)，かあちゃん(20)，おかあさーん(15)，お母さん(12)，おかあちゃん(10)，母(9)，おかあさ〜ん(3)，おかあ(3)，母さん(3)，かー(3)，かか(2)，お母さま(2)，おかあちゃーん(2)，お母ちゃん(2)，お母さーん(1)，かかさま(1)，カアちゃん(1)，かあさま(1)，かあ(1)，かあちゃーん(1)，おかあさま(1)，かーさん(1)，かあたん(1)，おかあちゃま(1)，おっ母(1)，母ちゃん(1)，かあさーん(1)．()内は頻度．ただし，接尾辞「達」を含むものは除いた．}．



\subsection{テーマ分類と検索語の拡張}
\label{sec:theme}

ぴたりえでは，「はみがき」や「トイレ」などの「しつけ」や，
「むし」や「きょうりゅう」などの「好きなもの」，
「クリスマス」や「お誕生日」などの「イベント」など，
よくある検索テーマをあらかじめ設定しておくことで，
目的に応じた検索を行いやすくしている．
事前に設定されたテーマ以外に，ユーザー自身でテーマを登録することも
可能である．
図~\ref{fig:theme-readability}に，テーマ「むし」で検索し，難易度が「易しい順」に
並び替えた結果を示す．

\begin{figure}[t]
\begin{center}
\includegraphics{24-1ia2f3.eps}
\end{center}
\caption{テーマ「むし」で検索し，「易しい順」にソートした結果（\changedB{図中の絵本の書誌情報は付録を参照}）}
\label{fig:theme-readability}
\end{figure}

一般に，こうしたテーマへの本の分類は人手で行われることが多いが，
ぴたりえでは自動的に行っている．
新規テーマを登録するときに必要なのは，テーマに関連するキーワードや文を
入力することである．そうして入力されたキーワードや文を言語処理部分に渡し，
類似探索を実行することで，テーマに関連する本を自動的に推定している．

また，ここで，キーワード等を概念辞書によって拡張することもできる\cite{Hattori:Fujita:Aoyama:2015j}．
例えば，
「花」という語が出てきている絵本だけではなく，
「ひまわり」や「あさがお」など，他の花もキーワードとして扱いたい場合に有効である．
拡張には，日本語語彙大系\cite{GoiTaikeij}の意味クラスを利用しており，
同じ意味クラスや近い意味クラスに含まれる語を検索語に含めることで拡張している．

ただし，表記ゆれを吸収する場合（\ref{sec:yure}節）とは違い，
意味クラスで検索語を拡張したいかどうかはケースバイケースである．
例えば，「ハロウィン」のテーマのために「かぼちゃ」をキーワードとして
入力した場合，他の野菜を検索語に含めてはいけないだろう．そのため，現在は，
検索語を拡張するかどうかはユーザーが選択するようにしている．





\section{システム評価}\label{sec:eva}


形態素解析（\ref{sec:hiragana}節）や，
難易度推定（\ref{sec:readability}節）については，
個々の技術の評価を各節で紹介してきた．
本節では，
アンケートによるシステムのユーザー評価の結果を示す．


\subsection{評価手順}\label{sec:qa-order}

評価者は小学 2 年生までの子どもを持つ成人である\footnote{評価は2016年7月に実施した．}．
\pagebreak
成人を評価者としたのは，ぴたりえによる絵本選びは 0 才から対象としているが，
小さな子どもには入力インタフェースが利用できない
からである．


評価手順は次の通りである．
\begin{enumerate}
\item ぴたりえを利用し，絵本を選んでいただく（利用方法の説明はしない）．
\item 選んだ絵本を借りていただく．
\item 借りた絵本を，一回以上読み聞かせるか，子ども自身に読んでいただく．
\item 配布したアンケートにお答えいただく．
\end{enumerate}

アンケートは2枚（A面，B面）あり，
A面には絵本選び全般についての質問とぴたりえの全体的な評価を，
B面には選んだ絵本と子どもの組み合わせごとの評価を記入する．そのため，A面は1人1枚だが，B面は子どもの人数や借りた絵本の数によって
複数枚記入していただいた．


\subsection{評価結果}
\label{sec:qa-res}



評価参加者は成人16名であり，子ども 20 名分の回答があった．
子どもと絵本との組み合わせ数は 52 通りあった．
つまり，アンケートのA面は 16 枚，B面は 52 枚の回答が得られた．
なお，子どもの年齢は，11ヶ月から 8 才 0ヶ月（小 2）まで
の全年齢に分布していた．


\subsubsection{絵本選び全般についての調査結果}
\label{sec:qa-common}

「Q1. 普段お子様にどのように絵本を選んでいますか？」という質問（複数回答可）には，
15 人 (93.8\%)が「書店や図書館などで絵本を手に取りながら」を選んでおり，
次に多かった「インターネットの検索エンジンで」の 6 人 (37.5\%)
を大きく引き離した．大多数の方が，絵本を選ぶときには実際に手に取って
選んでいることが分かる．

\begin{table}[b] 
\caption{質問「Q3. 絵本選びでどのようなことに困りましたか？」に対する回答}
\label{tb:eva-Q3}
\input{02table06.txt}
\end{table}

また，「Q2.絵本を選ぶ時に困ったことがありますか？」という質問に「ある」
と答えた方は，16 人中 14 人 (87.5\%)を占めた．その理由を複数回答
で答えてもらった結果（表~\ref{tb:eva-Q3}），絵本を選ぶとき，「子どもがちょ
うど読めるむずかしさの絵本」や「子どもの興味を引く内容の絵本」を選ぶの
が難しい，あるいは，大変だと答えた方が過半数を占めた．
この結果からも，
内容と読みやすさが子どもにぴったりな絵本をみつけるシステム
の需要は高いと考えられる．



\subsubsection{ぴたりえの全体的な評価}
\label{sec:qa-total}

ぴたりえの全体評価として，
普段の絵本の選び方と比較して，「簡単かどうか」「読みやすさ」や「内容」が
ぴったりの絵本を選ぶのに良いかどうかを評価してもらった（表~\ref{tb:evaAB}, Q4）．
表~\ref{tb:evaAB}はいずれも5段階評価で，数値が高い方が評価が高い．
いずれの項目も評価は高かったが，「簡単さ」（平均 4.25）と
「読みやすさ」（平均 4.13）は特に評価が高かった．
「内容」に関しても平均値は 3.88であり，平均的な評価は高いが，
他の項目にくらべて低めの点数をつけた方が多かった．
中身やあらすじが見たいとの自由記述も多く，
出現する語による類似探索だけではストーリーがわからないため，
他項目よりも低い得点になったのだと考えられる．

\begin{table}[b]
\caption{アンケート評価の結果（5段階評価）}
\label{tb:evaAB}
\input{02table07.txt}
\end{table}

また，「Q5. 今後もぴたりえを利用したいと思いますか？」という質問には，
平均 4.31 という高い評価が得られた（表~\ref{tb:evaAB}, Q5）．「どちらと
も言えない」を選んだ 4 名の内，2 名は自由記述によって「図書館ではな
く，本の購入時なら利用したい」「親が選ぶにはよいかもしれないが，やはり
子供に現物を見せて時間をかけて選ばせるのがいいと思う」と記載しており，
システムとして評価が低いというより，絵本選びに対する考え方から低くなっ
たと考えられる．


\subsubsection{子どもと絵本の組み合わせごとの評価}
\label{sec:qa-each}

本節では子どもと選んだ絵本の組み合わせごとの評価結果（アンケートB面）を
紹介する．52 枚，1人平均 2.6 冊分の回答が得られた．
表~\ref{tb:evaAB}の下部に，5 段階評価の結果を示す．

まず，「Q7. どのような絵本を探したいか決まっていましたか？」という質問には，
21 枚 (40.4\%)で「決まっていた」が選択されていた．
決まっていた場合
「Q8. どのような絵本を探したいと考えていましたか？」という質問には，
「もうすぐ夏休みなので夏らしい本がいいと考えていました」
「子どもが好きな，虫が出てくる絵本が良いと考えていました」
「『ぞうさん』と言えるようになったので，ぞうの出てくる簡単な絵本を探しました」
などの記述が見られた．
表~\ref{tb:evaAB}のQ9は，このように探したい絵本が決まっていた場合に目的通りの絵本が探せたかどうかについての評価である．
平均 4.62 と評価が高く，多くの方が目的通りの本を探せたことを示している．

表~\ref{tb:evaAB}のQ10とQ11は「読みやすさ」，Q12とQ13 は「内容」がぴっ
たりだったと思うかどうかの質問であり，Q10とQ12は，親がぴったりの絵本を
選べたと考えたかどうか，Q11とQ13は，子どもの反応を見た結果どうだったか
についての評価である．いずれの項目も平均値が 4.44〜4.54 の間であり，
評価が高かった．つまり，多くの場合，ぴたりえによって「読みやすさ」と
「内容」がぴったりの絵本を選ぶことが出来たと考えられる．Q11，13の平均値
は，Q10とQ12の平均値より，それぞれ 0.8 ずつ高いが，t検定で有意差はなかっ
た．個々のアンケート結果でも，Q11，13よりQ10，Q12の方が評価が高い場合も，
逆の場合もあった．

Q10では 1 枚だけ評価値 1 がつけられていたが，
自由記述のコメントで，
「年齢の制限を 2 才から 5 才としたせいか，非常に文字数の多い小学校低から中学年向きと思える本が出ました」
との記載があり，選ぶ時に年齢の制限をあまりかけなかったことが伺える．
しかも，借りられていた絵本は本システムで 6 才以上向けと推定されている絵本だったため，
実際には 5 才までという制限もかけられていなかったと考えられる．
評価者は 2 才の子ども用の本を選ぼうとしているため，年齢制限をより細かく設定したり，
今ちょうど読める本を規準にして，読みやすさが近い本を選ぶようにすれば，
このような問題は起こらなかった可能性がある．
本評価実験では，使い方の説明を全くせずに利用してもらったが，
簡単な利用説明を用意するか，インターフェースの工夫により
改善できると考えられる．

また，\ref{sec:search}節で述べたように，ぴたりえでは様々な理由で似てい
る絵本を提示するため，書誌情報の一致だけでは見つけられない絵本との新し
い出会いを提供できる．実際，「Q14. この絵本は，ぴたりえを利用しなければ
手に取らなかった（出会わなかった）と思いますか？」という質問には，「そう
思う」が 26 冊 (50.0\%)あり，「そう思わない」の 19 冊 (36.5\%)を引き離した．これにより，ぴたりえによって新しい本との出会いを提供で
きたことが示せた．


自由記述でも，
「自分では選ばない種類の絵本でしたが，子供は興味深々で見ていました」
「キーワードと年齢を入力するだけで，ぴったりの絵本が見つかりました．店頭で探すと，つい大人目線で選びがちですが，子供の目線で探すことができました」
「絵の簡単さや出てくるキャラクター（動物）の種類などがほぼ狙い通りの本が見つかったのがとても便利だった」
など好意的な意見が多かった．


\subsubsection{今後の課題}\label{sec:futurewk}



アンケート（A面）では，ぴたりえに追加して欲しい機能についても調査した（表~\ref{tb:eva-Q6}）．
選択肢の中でもっとも多く選ばれた項目は，
「絵の印象（可愛い，迫力がある等）で検索」であり，
半数の方が選んでいる．
現在，こうした機能を実現するための研究に取り組んでおり
\cite{Fujita:etal:2016j}， 
精度向上とぴたりえへの導入に努めたい．

\begin{table}[b]
  \caption{質問「Q6. ぴたりえに追加して欲しい機能はありますか？」に対する回答}
  \label{tb:eva-Q6}
\input{02table08.txt}
\end{table}

次に多く選ばれた項目は，「読み聞かせにかかる時間で検索」だった．
これは，絵本中の文字数などから比較的容易に推定できると考えられるため，
今後ぴたりえに導入したい．

3 番目に多かった「ストーリー展開（ハッピーエンドかどうか等）で検索」は，
ストーリー展開をどのように定式化し推定するかという問題があるが，
よりぴったりな内容の本を選ぶためにも重要だと考えられるため，
今後取り組んでいきたいと考えている．

また，「その他」には，「中身が見たい」「せめてあらすじが見たい」という
記入が多かった．著作権の関係上，検索システムから中身をそのまま見せるこ
とはできないが，今後はあらすじ（要約）の表示も検討したい．

最後に，\ref{sec:previous}章で紹介したように，多くの購買サイトではユー
ザーレビューなどのデータを収集，利用している．テキストの難易度によらず
様々な年齢層の子どもに受け入れられる本も多いことから，実際に何才の子ど
も達に読まれているかといったデータやレビューは，ユーザーにとって非常に
参考になると考えられる．こうしたユーザー由来のデータとぴたりえで実現し
ている技術や機能は決して相反するものではなく，併用したり，目的に応じて
使い分けることで，よりユーザビリティの高いシステムにできると考えられ
るため，今後の検討課題としたい．



\section{まとめ}\label{sec:conc}


絵本を読むことは，子どもにとって，
言語発達と情操教育の両面での効果が期待できる．
しかし，難しさも内容も様々な絵本がある中で，
子ども 1 人 1 人にとってぴったりな絵本を選ぶのは容易なことではない．
そこで，我々は，子どもに「読みやすさ」と「内容」がぴったりの絵本を見つけるための
絵本検索システム「ぴたりえ」を開発している．

ぴたりえでは，まず，内容がぴったりな絵本を見つけるために，グラフ索引型
類似探索（\ref{sec:search}節）を導入している．類似探索では，厳密に一致す
る本を検索するだけでなく，検索元の本や自由入力を検索キーとして，出てく
る内容語や書誌情報等ができるだけ近い絵本を複数提示する．様々な要因で近
いと考えられる本を提示することで，お気に入りの本や興味のある事から，無
理なく次の一冊を手にとっていただけるのではないかと考えている．

次に，読みやすさがぴったりな絵本を見つけるために，
絵本テキストの難易度推定（\ref{sec:readability}節）を行っている．
絵本を難易度順にランキングすることで，その子にちょうどいい読みやすさの
本を見つけられると考えている．

また，これら 2 つのぴったりを高精度に実現し，ユーザビリティを向上するために，
絵本用のひらがなに強い形態素解析（\ref{sec:hiragana}節）や，
表記ゆれの吸収処理（\ref{sec:yure}節），必要に応じて概念辞書による
検索語の拡張（\ref{sec:theme}節）等を行っている．

我々は，これらの各技術によって，これまでにない絵本の検索システムを実現した．
ユーザーアンケート（\ref{sec:eva}章）でも，ぴたりえを利用して選んだ絵本
の読みやすさや内容が子どもにぴったりだったと思うかという 5 段階評価で，
平均 4.44〜4.54 と高い評価が得られた（表~\ref{tb:evaAB}）．

今後は，図書館における実証実験\footnote{福岡市立東図書館にて 2016.6.4 から実証実験を開始した．} での司書と利用者からのフィードバックの収
集
\cite{Gohara:Yamada:Pitarie:etal:2016j,Sasaki:Gohara:Pitarie:etal:2016j,Otake:Gohara:Pitarie:etal:2017j}
や，保育現場での有効性の検証\cite{Fujimoto:Saito:Pitarie:etal:2017j}，
言語発達に対する効果の検証を進めると共に，各要素技術のさらなる精度向上
と，要望の多い機能の実現\cite{Yasuo:Hattori:Fujita:Matsushita:2017j}に
取り組みたい．



\clearpage

\bibliographystyle{jnlpbbl_1.5}
\input{02bbl.tex}


\appendix

図中の絵本は以下の通りである．

図~\ref{fig:ruiji}の1段目左から：\\
\small
\begin{itemize}
\item 「はらぺこあおむし」（エリック・カール さく／もりひさし やく，1976, 偕成社）

\item 「たんじょうびのふしぎなてがみ」（エリック・カール さく・え／もり ひさし やく，1978, 偕成社）

\item 「ありのぎょうれつ」（さく 得田之久，1975, 童心社）

\item 「月ようびはなにたべる？」（エリック・カール さく／もり ひさし やく，1994, 偕成社）

\item 「パパ、お月さまとって！」（エリック・カール さく／もり ひさし やく，1986, 偕成社）


\item 「くまさんくまさんなにみてるの？」（エリック・カール え／ビル・マーチン ぶん，1984, 偕成社）



\item 「ごきげんななめのてんとうむし 改訂大型版」（エリック・カール さく／もりひさし やく，1998, 偕成社）

\end{itemize}

\normalsize
 図~\ref{fig:ruiji}の2段目左から：

\small
\begin{itemize}
\item 「どこミニ たべものどこ？」（山形明美，2007, 講談社）

\item 「１ねん１くみ１ばんワル」（後藤竜二 作 長谷川知子 絵，1984, ポプラ社）

\item 「むし」（監修 須田孫七，2000, 学研マーケティング）

\item 「おとしぶみ」（文：岡島秀治 絵：吉谷昭憲，1987, 福音館書店）

\item 「おさかなちゃんのばいば〜い」（ヒド・ファン・ヘネヒテン 古藤ゆず，2014, 学研教育出版）

\item 「だるまさんと」（かがくいひろし／さく，2009, ブロンズ新社）

\item 「どこミニ どうぶつどこ？」（山形明美，2007, 講談社）

\end{itemize}
\normalsize
 図~\ref{fig:theme-readability}の1段目左から：

\begin{itemize}
\small
\item 「てんてんてん」（わかやましずこ さく，1996, 福音館書店）

\item 「てんとうむしくん」（ジョー・ガーデン，2013, 主婦の友社）

\item 「きいろいのはちょうちょ」（五味太郎 作・絵，1983, 偕成社）

\item 「２さいまるごとひゃっか」（作・絵 のぶみ，2006, ひかりのくに）

\item 「かわいいてんとうむし」（メラニー・ガース ローラ・ハリスカ・ベイス きたむらまさお，2001, 大日本絵画）

\item 「のぞいてごらん」（accototo ふくだとしお＋あきこ，2009, イースト・プレス）

\item 「ねぇ、しってる？」（accototo ふくだとしお＋あきこ，2010, 幻冬舎）

\end{itemize}
\normalsize
 
図~\ref{fig:theme-readability}の2段目左から：

\begin{itemize}
\small
\item 「ごきげんななめのてんとうむし 改訂大型版」（エリック・カール さく／もりひさし やく，1998, 偕成社）

\item 「いもむしれっしゃ」（にしはら みのり，2007, PHP 研究所）

\item 「どこミニ どうぶつどこ？」（山形明美，2007, 講談社）

\item 「はらぺこあおむし」（エリック・カール さく／もりひさし やく，1976, 偕成社）

\item 「ありのぎょうれつ」（さく 得田之久，1975, 童心社）

\item 「とべないほたる1　 ほたるたちのたんじょう」（小沢昭巳 原作／関重信 画，2003, ハート出版）

\item 「ぼく」（えとぶん 井上洋介，月刊予約絵本「こどものとも年中向き」通巻275号，2009, 福音館書店）

\end{itemize}


\clearpage

\begin{biography}
\bioauthor{藤田　早苗}{
1999年奈良先端科学技術大学院大学情報科学研究科博士前期課程修了．
同年，NTT日本電信電話（株）入社．
現在，NTT コミュニケーション科学基礎研究所 主任研究員．博士（工学）．
自然言語処理の研究に従事．2013年言語処理学会優秀
論文賞受賞，言語処理学会，情報処理学会，人工知能学会各会員．
}

\bioauthor{服部　正嗣}{
2004年京都大学大学院情報学研究科修士課程修了．
現在，NTT コミュニケーション科学基礎研究所 協創情報研究部
研究員．複合的メディアを対象とした類似探索の研究に従事．
情報処理学会，人工知能学会各会員．
}

\bioauthor{小林　哲生}{
2004年東京大学大学院総合文化研究科博士課程修了．博士（学術）．
現在，NTT コミュニケーション科学基礎研究所 協創情報研究部
主任研究員（特別研究員）．幼児の言語習得メカニズムの研究に従事．
言語処理学会第15回年次大会最優秀発表賞，第18回年次大会優秀賞
受賞．日本心理学会，日本認知科学会，日本教育心理学会各会員． 
}

\bioauthor{奥村　優子}{
2014年京都大学大学院文学研究科博士課程修了．博士（文学）．
現在，NTT コミュニケーション科学基礎研究所 協創情報研究部
リサーチアソシエイト．
乳幼児の社会的認知および言語発達の研究に従事．
日本心理学会，日本発達心理学会，日本赤ちゃん学会各会員．
}

\bioauthor{青山　一生}{
1988年東京工業大学大学院総合理工学研究科修士課程修了．
現在，NTT コミュニケーション科学基礎研究所 協創情報研究部
主任研究員．アルゴリズムとデータ構造の研究に従事．
応用物理学会，電子情報通信学会，情報処理学会，IEEE各会員．
} 

\end{biography}


\biodate



\end{document}

