<?xml version="1.0" ?>
<root>
  <jtitle>絵本検索システム「ぴたりえ」〜子どもにぴったりの絵本を見つけます〜</jtitle>
  <jauthor>藤田早苗服部正嗣小林哲生奥村優子青山一生</jauthor>
  <jabstract>本稿では，子どもに「内容」と「読みやすさ」がぴったりな絵本を見つけるためのシステム「ぴたりえ」を提案する．本システムは，親や保育士，司書など，子どもに絵本を選ぶ大人が利用することを想定している．絵本を読むことは，子どもの言語発達と情操教育の両面で効果が期待できる．しかし，難しさも内容も様々な絵本が数多くある中で，子ども1人1人にとってぴったりな絵本を選ぶのは容易なことではない．そこで，ぴたりえでは，ひらがなの多い絵本のテキストを高精度に解析できる形態素解析や，文字の少ない絵本に対しても精度の高いテキストの難易度推定技術などの言語処理技術により，子どもにぴったりな絵本を探す絵本検索システムを実現する．本稿では，こうした言語処理技術を中心にぴたりえの要素技術を紹介し，各技術の精度が高いことを示す．また，システム全体としても，アンケート評価の結果，ぴたりえで選んだ絵本は「読みやすさ」も「内容」も，5段階評価で平均値が4.44〜4.54と高い評価が得られたことを示す．</jabstract>
  <jkeywords>形態素解析，難易度推定，類似探索，表記ゆれ，ひらがな</jkeywords>
  <section title="はじめに">絵本の読み聞かせは幼児の言語発達を促す重要な情報の1つと考えられる．例えば，読み聞かせを開始する月齢が早いほど，2才や4才の時点での言語理解や発話の能力が高くなること，そして8ヶ月時点での絵本の読み聞かせが多い方が，12，および，16ヶ月時点での語彙が発達していることなどが示されている．また，読み聞かせでは，読み手と聞き手という少なくとも2者が存在し，絵本という共通の対象がある．このような状況において，聞き手である幼児は自分以外の他者と同一の対象に注意を向ける共同注意(jointattention)という行動を頻繁にとることが知られており，それが言語発達に影響する可能性などが指摘されている．こうしたインタラクションによる効果以外にも，例えば，は，日常の会話でほとんど出現しない語彙やフレーズが絵本に多数含まれていることが幼児の言語発達を進めることを指摘している．さらに，絵本の読み聞かせは言語発達を促すだけではなく，読み手と子どものコミュニケーションを促したり，登場人物の感情を推定したりするなど，情操教育にも役立つと考えられる．このように，絵本を読むことは，言語発達と情操教育の両面での効果が期待できる．しかし絵本には，赤ちゃん向けの絵本から，年長児（5才児）以上を対象とする絵本，大人向けの絵本まで存在し，その内容も難しさも様々である．そのため，子どもの興味や発達段階にあった絵本を選ぶのは難しい．親など日常的に接している保護者が子どもに絵本を選ぶ場合，書店や図書館などで手にとって確認すれば，その子に読めそうかどうか，興味を引きそうかどうかは分かるかもしれないが，非常に多くの絵本を1冊1冊手に取って確認するのは容易ではない．また，ある程度大きな子どもであれば，子ども自身でも絵本を選べるかもしれない．しかし，書店や図書館では，多くの本は背表紙が見える向きでずらりと並べて置かれている．そのため，表紙が目立つように置かれてる一部の絵本の中から手に取りやすい傾向がある．多くの書店や図書館では，目立つ場所に置く本を定期的に入れ替えたり，季節やテーマに応じた本の展示コーナーを作ったり，定期的に読み聞かせの会を開いたりするなど，絵本と出会うための様々な工夫がされている．こうした取り組みでは，本に詳しい書店員や司書の方が選んだ本を紹介してくれるため，良い本と出会いやすいという利点がある．しかし，タイミング良くその時にその場所に足を運ばなければ，手に取る機会を逃してしまうという状況は変わらない．また，そうして手にとった本がその子に合った読みやすさではない場合，簡単すぎてつまらなかったり，あるいは難しすぎて途中で投げ出してしまったりということが起こり易い．内容も，多くの子ども達には人気があるとしても，子ども1人1人を考えた時に，ちょうど興味のある内容であるとは限らない．このように，興味のある内容でちょうど良い読みやすさの本と出会えない場合，本をあまり読まなくなってしまったり，同じ本ばかり繰り返して読んだりすることもある．もちろん，繰り返して読むことは決して悪いことではない．お気に入りの本を繰り返して読みたがる時期もあるし，同じ本でも子どもの成長とともに理解が深まったり，最初とは違う読み方ができるようになることもあるだろう．しかし，同じ本ばかり読んだり借りたりする理由が，「他に興味を引く本が見つからないから」だったら問題である．しかも，0〜3才くらいまでの幼い子どもの場合は，そもそも自分で本を選ぶことも難しい．そこで我々は，子どもに内容と読みやすさがぴったりな絵本を見つけるためのシステム「ぴたりえ」を開発している．幼い子どもには入力インタフェースの利用が難しいため，親や保育士，司書などの大人が利用することを想定している．</section>
  <section title="関連システム">本章では，インターネットを介して，絵本を含む本を検索したり購入したりすることのできる既存システムを紹介する．まず，多くの図書館では，インターネットを通じた検索サービスを提供している．例えば，国立国会図書館サーチでは，複数の機関が所蔵する児童書の検索サービスを提供しており，WorldCatは，世界中で同様のサービスを提供することを目指している．国立国会図書館サーチには，子どもを想定利用者とした国際子ども図書館子どもOPACもある．これらの検索サービスでは，タイトルや作者などの書誌情報による検索や，テーマからの検索等ができるようになっている．多くの蔵書から検索でき，実際に借りることのできる図書館を探せるなど，有用性の高いサービスである．しかし，書誌情報による検索は，ユーザー側で探している本が明確な場合にはよいが，探している本が見つかるだけでは本との新たな出会いのきっかけにはなりにくい．テーマからの検索を利用すれば，興味のあるテーマから本を見つけることができるが，あらかじめ設定されたテーマに限定されてしまうという問題がある．一方で，Amazonや絵本ナビなど，多くの通信販売サイトが絵本を含む本を扱っている．こうした通信販売サイトでは，ユーザーレビューが集められていることが多く，購入の際の参考とされている．さらに，Amazonでは，同じような購買履歴を持つ他のユーザーが購入している本を推薦するという，協調フィルタリングによる推薦が行われている．一般に満足度の高い推薦方法ではあるが，一方で，売れ筋の本ばかりが推薦されやすくなるという問題点がある．さらに，英語版のAmazonでは，対象年齢(AgeRange)やテーマ（Bugs&amp;Spiders,Counting等）を選んで本を探すこともできる．有益なサービスだが，出版社等によって登録された情報に拠っており，あらかじめ設定されたテーマ等に限定されるという問題は変わらない．絵本ナビは，絵本や児童書に特化したサービスを展開しており，懸賞をかけたりすることでユーザーレビューを大量に集めている．また，ユーザーに子どもの年齢を入力してもらうことにより，どういった年齢の子どもによく読まれている本かといった情報収集を行い，年齢ごとの推薦を可能にしている．素晴らしいサービスだが，必ずしもすべての本に十分な数のユーザーレビューが得られているわけではなく，ユーザーレビューのない本には適用できない．</section>
  <section title="システム概要と言語処理">本章では，ぴたりえのシステム概要と，内容と読みやすさがぴったりな絵本を見つけるために必要な言語処理技術を中心に紹介する．図~にぴたりえのシステム概要を示す．ぴたりえでは，事前に構築している絵本データベース（章）から，絵本の探索（あるいは，検索），推薦を行う．絵本データベースに対して事前準備として行っておく処理と，検索実行時に行う処理があるが，両方の処理で，まず言語処理による様々な処理を行い（図~，【1】），探索部分にデータを渡している（図~，【2】）．言語処理部分では，まず，形態素解析（節）を行う．この結果はすべての後続処理で利用する．次に，難易度推定（節）を行う．これにより，絵本を探している子どもにちょうどぴったりな読みやすさの本の推薦を実現する．さらに，表記ゆれの吸収処理（節）や，必要に応じて概念辞書による検索語の拡張（節）を行う．これらの処理を行った後，探索部分にデータを渡す（図~，【2】）．探索部分では，絵本テキストの解析結果や書誌情報，あるいは，自由入力されたテキストの解析結果や拡張結果を特徴量として，グラフ索引型類似探索法（節）を実行しており，これによりぴったりな内容の推薦を実現する．章で紹介した関連システムと比較すると，ぴたりえでは絵本自体のテキストに基づく難易度推定を行っているので，レビューや出版社で付与された対象年齢の有無にかかわらず，一貫した難易度の推定が可能であり，ちょうど良い読みやすさの本の推薦が可能である．また，人手であらかじめ設定されたテーマに限らず，自分の興味のあるテーマの本を中身に基づいて探したり，興味のある本に似た本を探すことができるため，子ども1人1人の興味にあった推薦が可能である．</section>
  <section title="絵本データベース">本章では，絵本データベースに含まれる本の選定規準とデータベースのサイズについて述べる．絵本データベースには，多くの子どもに読まれていると考えられる本，名作として専門家によって推薦されている本，長年に渡り愛されてきている本が含まれるよう選定している．具体的には，2010年，および，2015年の紀伊国屋書店グループの売上冊数が上位1,000位以内のファーストブックと絵本，小学校国語教科書シェアトップ3社（東京書籍，光村書店，教育出版）発行の2015年度小学校教科書で掲載・推薦されている図書，ミリオンセラー，図書館の推薦図書から選定している．こうした推薦本に児童書が含まれる場合には，データベースに児童書も含めている．また，シリーズ作品の一部のみがこれらに含まれる場合には，シリーズの他の作品も含めている．さらに，対象年齢が比較的はっきりしていることを選定理由として，福音館書店の月刊誌190冊を含めている．これにより，合計2,415冊がデータベースに含まれている．絵本データベースには，これらの絵本について，タイトルや作者，出版社，出版年，ISBNなどの書誌情報と，本文のテキスト，記載がある場合には出版社が付与している対象年齢も保存している．絵本データベースのサイズを表~に示す．絵本データベースには，お話集のように1冊に複数の話が含まれる本も含まれており，1話1冊の本と分けてサイズを示した．表~で，文字数が0となっている絵本は，「アンジュール」-0.5zwなど，字のない絵本である．また，文字数が最大（133,724文字）だった本「本だらけの家でくらしたら」は，絵本というより児童書である．絵本データベースは，文字数で700万文字を越えており（表~），形態素解析の正解アノテーション済みデータは約26万文字である（節，表~参照）．なお，京都大学テキストコーパスは約168万文字，基本語データベース（以下，）は約192万文字である．この絵本データベースは，ぴたりえでの絵本の推薦に利用するだけでなく，言語発達で重要な意味を持つ語の絵本での出現傾向の調査を行うなど，幼児を対象とするテキストの貴重なコーパスとして研究利用している．</section>
  <section title="要素技術">本章では，ぴたりえで用いている各要素技術を紹介する．処理の順番は前後するが，まず，節でぴたりえで利用している探索技術（図~，【2】）について紹介し，節から節で言語処理部分（図~，【1】）について紹介する．</section>
  <subsection title="探索方法">ぴたりえでは，内容がぴったりな絵本を見つける探索技術として，グラフ索引型類似探索法を用いている．類似探索は，入力データと探索対象の間に「似ている度合い（類似度）」を定義して，類似度が高いものを探す方法であり，直感的には，入力した大量の情報に基づいてできるだけ多くの条件を満たすものを探す探索方法である．特に，グラフ索引型類似探索法では，高速な検索を実現するための索引として類似の絵本同士が結合したグラフ構造（ネットワーク構造）を用いて検索を行う．本手法は，検索する対象間に何らかの「距離」を定義することができれば適用できるため汎用性が高い．例えば，画像特徴量を用いて似ている絵を見つけたり，音声の特徴量を用いて似ている声の人を見つけたり，テキストから得られる特徴量を用いて似ている内容のテキストを見つけることができる．ぴたりえでは，絵本の著者などの書誌情報や，1冊1冊に現れる内容語と名詞句，それらの表記ゆれをすべて特徴量として利用している．具体的には，絵本ごとに出現する内容語，名詞句，それらの表記ゆれをによって重み付けし（節），ノルムを1に正規化したベクトルを用いて計算した絵本間のコサイン類似度を距離としている．文書間の距離尺度としては様々な計算方法が提案されているが，内容語を用いるだけで，出てくる動植物やキャラクター，「食べる」「遊ぶ」などの行動が表れる絵本を発見できる．また，より長いn-gramを用いる場合より，他の絵本と一致しやすくなるため，より多くの類似した絵本を発見することができる．これにより，お気に入りの絵本を入力データとし，その絵本と作者等の書誌情報が似ている絵本や，出てくる動植物や行動が似ている絵本など，様々な点で似ている絵本を探すことができる．図~に，「はらぺこあおむし」-0.5zwを入力データとして類似探索を実行した結果を示す．図~では，絵本データベースの中から，内容語や書誌情報などの特徴量が，「はらぺこあおむし」とできるだけ多く共通する絵本が検索結果として出力されている．著者が同じという点で似た絵本もあれば，「あおむし」「葉っぱ」「たべる」などの語が共通する絵本もある．そのため，例えば，青虫に興味が湧いたのであれば青虫の出てくる他の絵本，色々な食べ物を食べるのが面白かったのであれば色々な食べ物の出てくる他の絵本，といった選び方をすることもできる．このように，我々は，書誌情報が一致する本を見つけるだけでなく，お気に入りの一冊と色々な点で「似ている」絵本を検索結果として提示することによって，書誌情報との一致だけでは見つけることができない本との新たな出会いを提供することができると考えている．また，入力データとする本を1冊ではなく，最近のお気に入りの数冊とする拡張も容易である．あるいは，絵本を入力データとするのではなく，「タイトルは忘れたけど昔好きだった絵本で，『一人ぼっちのきかんしゃが旅をして，最後には友達ができる絵本』を見つけたい」とか，「友達とケンカしちゃったけど仲直りしたいから，『ケンカしたけど仲直りする絵本』を見つけたい」などという検索も実現できる．ただし，現在は物語の順序や語順を考慮していないため，「ケンカしたけど仲直りする絵本」と「仲直りしたけどケンカする絵本」の区別はつけられない．こうした順序情報や，類型化した物語の構造の類似度の反映は今後の課題としたい．ぴたりえでは，次節以降で紹介する言語処理の結果を特徴量として用いることで，信頼度とユーザビリティが高い類似探索を実現している．</subsection>
  <subsection title="形態素解析">まず，すべての後続処理で利用している言語処理技術として，形態素解析について述べる．形態素解析は多くの言語処理技術の基盤技術となるものであり，新聞などの大人向けの整った文章に対しては非常に高い解析精度が実現されている．また，，，，など，多くの形態素解析器と解析モデルが公開されている．しかし，絵本のテキストを対象とした場合，新聞などを対象とした場合と異なり，既存の解析モデルで必ずしも高い解析精度を得られるわけではない．絵本のテキストの特徴については，の論文で詳しく分析されており，ひらがなの占める割合が非常に大きいことが，精度低下の大きな要因である．そこでは，絵本の特徴に合わせて既存の辞書や学習データを変換することで，絵本テキストの解析に強い形態素解析モデルを構築する手法を提案している．ぴたりえでは，の提案手法を適用した上で，順次絵本テキストへのアノテーションによる学習データの拡充，および，辞書の追加を行い，絵本のテキストに対する形態素解析精度を向上させている．ただし，の実験では，品詞体系はIPA品詞体系とし，解析器にはを利用していたが，現在はUniDic品詞体系の短単位に変更し，解析器にはを利用している．UniDic品詞体系に変更した理由は，UniDicが普及し，UniDicに基づく言語資源が増えつつあるためである．また，UniDicでは，語彙素・語形・書字形・発音形という4階層からなる階層的見出しを採用しており，表記ゆれの吸収のために有効だと考えたためである（節）．表~に，の実験で，ランダムサンプリングによって選んだ評価データ（以下，Random）のサイズを掲載する．表~中の，FIRSTはファーストブック，EHONはその他の絵本を示している．また，表~には正解アノテーション済で学習に利用している絵本テキストのデータサイズも掲載している．表~に，表~の評価データ()に対する本稿のモデルによる解析精度を示す．ここでは評価のため，学習データにを含めずにモデルを構築している．また，参考までに，UniDicの用配布モデルによる解析精度も掲載した．なお，品詞体系が異なるため一概には比較できないが，は，に対する精度は，単語区切り98.3%，品詞大分類94.7%，品詞完全一致91.1%，と報告しており，精度はより向上している．このように，ひらがなの多い絵本に対しても，既に高い精度を達成しているが，形態素解析はすべての後続処理に影響する重要な処理であるため，今後のさらなる精度向上を目指してより詳細な分析を行う．具体的には，正解アノテーション済みのデータを分析することで，どのような語が絵本で出現し，未知語として辞書に追加されたかを分析する．まず，表~に，正解アノテーション済みのデータにおける，UniDicの配布辞書と，本システム用に追加したエントリの出現傾向を示す．表~から，出現形態素の異なりのうち，78%がUniDicの配布辞書でカバーされていることが分かる．残りのエントリは，元のUniDicでは未知語となるエントリであり，等他の既存辞書からUniDic形式に変更して追加したエントリ(5.9%)と，その他の追加エントリ(16.1%)に分けて表示した．さらにその他の追加エントリの中でも，UniDicにあるエントリの表記ゆれと捉えられるエントリと，等のエントリの表記ゆれと捉えられるエントリ，いずれにも一致しないエントリとに分けて内訳を示した．ここで，表記ゆれとは，語彙素は一致するが，書字形出現形等が異なるエントリである．表~から，追加されたエントリのうち，約1/3は，UniDicやLexeedなどの既存辞書に存在するエントリの表記ゆれだが，約2/3は，表記ゆれではない事が分かる．はWebデータを解析した時に出現する未知語をタイプ分類しており，大きく「既知形態素からの派生」と「既知形態素からの派生以外」に分けている．同様に，表~の「その他の追加エントリ」のうち，UniDicやの表記ゆれは「既知形態素からの派生」であり，それ以外は「既知形態素からの派生以外」と捉えられる．これらのエントリの品詞大分類の内訳と例を表~に示す．表~の例からわかるように，既知形態素からの派生では，小書き文字（「ぁ」など）や長音記号（「〜」「ー」など）の挿入，置換による表記ゆれが多く見られる．はこうした表記ゆれとオノマトペが未知語の約4割を占めると報告している．本稿では絵本のテキストを対象としているが，未知語の出現傾向はWebデータの場合と同様であることがわかる．一方，追加された形態素エントリの約2/3は，既知形態素からの派生以外である．この中で，異なり数の多い品詞は順に，感動詞，副詞，固有名詞，名詞である．それ以外の品詞は合わせても1%に満たず，ほとんどが方言だった．こうした未知語への対応方法として，のべ出現回数の最も多い固有名詞については，項構造を考慮した発見方法が有力だろう．また，名詞には，恐竜名を含む動植物名が多く含まれており，専門用語辞書からエントリを追加しておくことで対応可能だと考えられる．感動詞や副詞は非常に生成的で，繰り返しを含むオノマトペ以外は網羅的なエントリ追加は難しく，Webデータを対象に提案されている入力文の正規化が絵本でも有効だと考えられる．これらの辞書や技術は，今後導入を検討したい．</subsection>
  <subsection title="難易度推定方法">本節では，読みやすさがぴったりな絵本を推薦するために用いられているテキストの難易度推定方法を紹介する．絵本には，出版社によって付与された対象年齢が記載されている場合もあるが，記載されていない場合も多い．絵本データベース中の絵本では，2,415冊のうち，対象年齢の記載がない絵本が1,255冊(51.9%)を占めた．また，対象年齢の記載がある場合も，「3歳から小学校初級むき」「乳児から」「4才から」「しゃべりはじめた小さな子どもにぴったり」のように表現が多様で幅広い．そのため，出版社が付与している対象年齢だけでは，子どもに読みやすさがぴったりな絵本を選ぶことは難しい．一方で，難易度推定方法は，特に英語を対象とすると古くから研究されている．しかしこれらのほとんどは，一般向けか，外国人学習者向けか，小学生以上向けであり，幼児向けテキストを対象とする研究はほとんど行われていなかった．そこで，我々は幼児向けテキスト（絵本）を対象とした難易度推定方法を提案した．絵本の場合，学童以上を対象とする場合とは異なり，教科書のように明確な規準として利用できるコーパスがないという問題点があった．また，日本語での難易度推定では通常大きな手がかりとなる漢字がほとんど出現せず，かつ，非常に少ない文字数から推定しければならないという難しさがあった．そこで，は，対象年齢が出版社によって0・1・2才児向け，3才児向け，4才児向け，5才児向けと，比較的細かく付与されている123冊を規準データとして利用し，対象年齢ごとの語の出現頻度を考慮して重み付けした言語モデルを構築し，各言語モデルとの近さや平均文節数などを特徴量として利用することで，87.8%の精度で対象年齢を推定できることを示した．また，教科書を規準コーパスとする評価実験も行い，提案手法が絵本以外のコーパスに対しても高精度であることを示した．藤田らの提案手法ではランキング学習を行っており，すべての絵本を難しさによってランキングすることが可能である．また，閾値を設定することで，対象年齢に分けることも可能である．は，提案手法の評価のため，出版社によって付与されていた対象年齢を正解として0・1・2才児を一つのクラスとしてまとめているが，0才から2才の間も子どもの発達は著しい．より詳細に分けるため，本システムでは，子どもがおぼえた言葉とその習得時期を調査したデータベースも利用し，0才，1才，2才を別クラスとして難易度推定モデルを再構築したものを利用している．つまり，全ての絵本に対して難易度によるランキングを行い，さらに，閾値を設定して，0才から6才以上までの各年齢（7クラス）に分けている．本難易度推定モデルの評価として，子どものいる評価者3名（うち2名は，保育士，幼稚園教諭の資格と勤務経験がある）によって評価実験を行った．まず，「読んであげるなら何才向きか」という観点で100冊の本を対象年齢ごと（0才，1才，，，6才以上の7クラス）に分けてもらい，さらにそれらを易しい順にランキングしてもらった．つまり，100冊を易しい順にランキングし，評価に利用した．まず，評価者3名によって選ばれた対象年齢のクラスを比較した．その結果，完全に一致した本は13冊のみであり，2名が一致した本は62冊，全員が異なるクラスに分けた本は25冊だった．一方，3人の分けたクラスの差は平均0.82だった．つまり，クラスへの分類は人によって揺れやすく，完全に一致するクラスに分けられた絵本は多くないが，前後のクラスなど近いクラスに分けられていることが分かる．ここで，評価者間のスピアマンの順位相関係数とケンドールの順位相関係数を調査した．評価者をw_1,w_2,w_3とすると，はw_1とw_2で0.93,w_1とw_3で0.88，w_2とw_3で0.90であり，は，w_1とw_2で0.77，w_1とw_3で0.71，w_2とw_3で0.74だった．また，3人のランキング結果のケンドールの一致度係数は0.93だった．これらから，評価者間の順位相関は非常に高いことが分かる．つぎに，各評価者による結果と，本システムで利用している難易度推定結果(g)の相関を調査した．その結果，は，gとw_1で0.88,gとw_2で0.85,gとw_3で0.79，は，gとw_1で0.70,gとw_2で0.66,gとw_3で0.60だった．評価者間の相関係数よりは若干低いが，自動推定の結果と評価者間の相関係数も高いと言える．このように高い精度での難易度推定を実現しているため，ぴたりえでは，テーマや内容の似ている絵本の中から子どもの年齢に合った絵本を探したり，より易しい本を探したり，子どものお気に入りの本と難易度（読みやすさ）が近い本を選ぶこともできる．特に，言語発達は子どもによって個人差が大きく，評価者間でも対象年齢のクラスへの分け方は完全一致しにくいなど，年齢で分けた場合には，子どもによっては読みやすさが合わない場合も考えられるが，お気に入りの本と近い難易度の本を選ぶことにより，ちょうどいい読みやすさの本を選ぶことができるという利点がある．</subsection>
  <subsection title="表記ゆれ吸収">本節では，ぴたりえで導入している表記ゆれへの対応方法について紹介する．日本語には様々な文字種が存在するため，同じ語でも，ひらがな，カタカナ，漢字，これらの混合など，様々な表記方法が存在する（例えば，おおかみ，オオカミ，狼など）．しかし例えば，「オオカミ」で検索したとしても，ユーザーは，「おおかみ」「狼」「オオカミ」のいずれの表記で出てくる話であっても検索結果に含まれてほしいだろう．UniDicで定義している「語彙素」とは，出現形の変異や表記のゆれを考慮せず，同一とみなしうる語に対して同一の見出しを与えたものである．そこで，Unidic辞書で定義されている語彙素の読みと見出しを利用して表記ゆれを吸収する．一方で，作者は意図をもってこれらの表記を使い分けていると考えられる．例えば，「狼」は絵本ではほとんど出現しないが，「おおかみ」は赤ちゃん向けの絵本でも出現している．こうした表記ゆれだけでなく，接尾辞等によっても変化がつけられる．例えば，「おおかみさん」なのか「おおかみどん」なのかによって，与えられる印象は異なるだろう．そこで表記ゆれを吸収しつつ，元の表記の重みを大きくする方法を考案，導入した．まず，接頭辞や接尾辞，名詞連続を含めた名詞句をひと塊として重み1を与える．その上で，その名詞句から得られる表記ゆれ候補やその組み合わせを，形態素解析結果から抽出する．これらがm個得られたとすると，各重みを1/mとして，特徴量として利用する．例えば，「おおかみさん」の場合，「おおかみ（名詞）」と「さん（接尾辞）」から成る．ここで，語彙素の読みとして「オオカミ」「サン」，語彙素の見出しとして「狼」「さん」，書字形（あるいは出現形）として「おおかみ」「さん」が得られる．これらを用いて，まず，元々の表記を接尾辞ごと取り出し（「おおかみさん」），重み1を付与する．さらにそれ以外の表記ゆれとして，「オオカミサン」「狼さん」「狼」「オオカミ」「おおかみ」の5通りを抽出し，それぞれ，1/5=0.2を重みとして付与し，特徴量として利用する．これにより，「狼」や「オオカミ」などの表記ゆれを吸収しつつ，元の表記である「おおかみさん」に最も重みをおいた探索を実現している．なお，接頭辞と接尾辞を含め，最も表記にバリエーションのある名詞句は，「名詞,普通名詞,一般,*,カア,母」を含むもので，28通り出現している．</subsection>
  <subsection title="テーマ分類と検索語の拡張">ぴたりえでは，「はみがき」や「トイレ」などの「しつけ」や，「むし」や「きょうりゅう」などの「好きなもの」，「クリスマス」や「お誕生日」などの「イベント」など，よくある検索テーマをあらかじめ設定しておくことで，目的に応じた検索を行いやすくしている．事前に設定されたテーマ以外に，ユーザー自身でテーマを登録することも可能である．図~に，テーマ「むし」で検索し，難易度が「易しい順」に並び替えた結果を示す．一般に，こうしたテーマへの本の分類は人手で行われることが多いが，ぴたりえでは自動的に行っている．新規テーマを登録するときに必要なのは，テーマに関連するキーワードや文を入力することである．そうして入力されたキーワードや文を言語処理部分に渡し，類似探索を実行することで，テーマに関連する本を自動的に推定している．また，ここで，キーワード等を概念辞書によって拡張することもできる．例えば，「花」という語が出てきている絵本だけではなく，「ひまわり」や「あさがお」など，他の花もキーワードとして扱いたい場合に有効である．拡張には，日本語語彙大系の意味クラスを利用しており，同じ意味クラスや近い意味クラスに含まれる語を検索語に含めることで拡張している．ただし，表記ゆれを吸収する場合（節）とは違い，意味クラスで検索語を拡張したいかどうかはケースバイケースである．例えば，「ハロウィン」のテーマのために「かぼちゃ」をキーワードとして入力した場合，他の野菜を検索語に含めてはいけないだろう．そのため，現在は，検索語を拡張するかどうかはユーザーが選択するようにしている．</subsection>
  <section title="システム評価">形態素解析（節）や，難易度推定（節）については，個々の技術の評価を各節で紹介してきた．本節では，アンケートによるシステムのユーザー評価の結果を示す．</section>
  <subsection title="評価手順">評価者は小学2年生までの子どもを持つ成人である．成人を評価者としたのは，ぴたりえによる絵本選びは0才から対象としているが，小さな子どもには入力インタフェースが利用できないからである．評価手順は次の通りである．ぴたりえを利用し，絵本を選んでいただく（利用方法の説明はしない）．選んだ絵本を借りていただく．借りた絵本を，一回以上読み聞かせるか，子ども自身に読んでいただく．配布したアンケートにお答えいただく．アンケートは2枚（A面，B面）あり，A面には絵本選び全般についての質問とぴたりえの全体的な評価を，B面には選んだ絵本と子どもの組み合わせごとの評価を記入する．そのため，A面は1人1枚だが，B面は子どもの人数や借りた絵本の数によって複数枚記入していただいた．</subsection>
  <subsection title="評価結果">評価参加者は成人16名であり，子ども20名分の回答があった．子どもと絵本との組み合わせ数は52通りあった．つまり，アンケートのA面は16枚，B面は52枚の回答が得られた．なお，子どもの年齢は，11ヶ月から8才0ヶ月（小2）までの全年齢に分布していた．</subsection>
  <subsubsection title="絵本選び全般についての調査結果">「Q1.普段お子様にどのように絵本を選んでいますか？」という質問（複数回答可）には，15人(93.8%)が「書店や図書館などで絵本を手に取りながら」を選んでおり，次に多かった「インターネットの検索エンジンで」の6人(37.5%)を大きく引き離した．大多数の方が，絵本を選ぶときには実際に手に取って選んでいることが分かる．また，「Q2.絵本を選ぶ時に困ったことがありますか？」という質問に「ある」と答えた方は，16人中14人(87.5%)を占めた．その理由を複数回答で答えてもらった結果（表~），絵本を選ぶとき，「子どもがちょうど読めるむずかしさの絵本」や「子どもの興味を引く内容の絵本」を選ぶのが難しい，あるいは，大変だと答えた方が過半数を占めた．この結果からも，内容と読みやすさが子どもにぴったりな絵本をみつけるシステムの需要は高いと考えられる．</subsubsection>
  <subsubsection title="ぴたりえの全体的な評価">ぴたりえの全体評価として，普段の絵本の選び方と比較して，「簡単かどうか」「読みやすさ」や「内容」がぴったりの絵本を選ぶのに良いかどうかを評価してもらった（表~,Q4）．表~はいずれも5段階評価で，数値が高い方が評価が高い．いずれの項目も評価は高かったが，「簡単さ」（平均4.25）と「読みやすさ」（平均4.13）は特に評価が高かった．「内容」に関しても平均値は3.88であり，平均的な評価は高いが，他の項目にくらべて低めの点数をつけた方が多かった．中身やあらすじが見たいとの自由記述も多く，出現する語による類似探索だけではストーリーがわからないため，他項目よりも低い得点になったのだと考えられる．また，「Q5.今後もぴたりえを利用したいと思いますか？」という質問には，平均4.31という高い評価が得られた（表~,Q5）．「どちらとも言えない」を選んだ4名の内，2名は自由記述によって「図書館ではなく，本の購入時なら利用したい」「親が選ぶにはよいかもしれないが，やはり子供に現物を見せて時間をかけて選ばせるのがいいと思う」と記載しており，システムとして評価が低いというより，絵本選びに対する考え方から低くなったと考えられる．</subsubsection>
  <subsubsection title="子どもと絵本の組み合わせごとの評価">本節では子どもと選んだ絵本の組み合わせごとの評価結果（アンケートB面）を紹介する．52枚，1人平均2.6冊分の回答が得られた．表~の下部に，5段階評価の結果を示す．まず，「Q7.どのような絵本を探したいか決まっていましたか？」という質問には，21枚(40.4%)で「決まっていた」が選択されていた．決まっていた場合「Q8.どのような絵本を探したいと考えていましたか？」という質問には，「もうすぐ夏休みなので夏らしい本がいいと考えていました」「子どもが好きな，虫が出てくる絵本が良いと考えていました」「『ぞうさん』と言えるようになったので，ぞうの出てくる簡単な絵本を探しました」などの記述が見られた．表~のQ9は，このように探したい絵本が決まっていた場合に目的通りの絵本が探せたかどうかについての評価である．平均4.62と評価が高く，多くの方が目的通りの本を探せたことを示している．表~のQ10とQ11は「読みやすさ」，Q12とQ13は「内容」がぴったりだったと思うかどうかの質問であり，Q10とQ12は，親がぴったりの絵本を選べたと考えたかどうか，Q11とQ13は，子どもの反応を見た結果どうだったかについての評価である．いずれの項目も平均値が4.44〜4.54の間であり，評価が高かった．つまり，多くの場合，ぴたりえによって「読みやすさ」と「内容」がぴったりの絵本を選ぶことが出来たと考えられる．Q11，13の平均値は，Q10とQ12の平均値より，それぞれ0.8ずつ高いが，t検定で有意差はなかった．個々のアンケート結果でも，Q11，13よりQ10，Q12の方が評価が高い場合も，逆の場合もあった．Q10では1枚だけ評価値1がつけられていたが，自由記述のコメントで，「年齢の制限を2才から5才としたせいか，非常に文字数の多い小学校低から中学年向きと思える本が出ました」との記載があり，選ぶ時に年齢の制限をあまりかけなかったことが伺える．しかも，借りられていた絵本は本システムで6才以上向けと推定されている絵本だったため，実際には5才までという制限もかけられていなかったと考えられる．評価者は2才の子ども用の本を選ぼうとしているため，年齢制限をより細かく設定したり，今ちょうど読める本を規準にして，読みやすさが近い本を選ぶようにすれば，このような問題は起こらなかった可能性がある．本評価実験では，使い方の説明を全くせずに利用してもらったが，簡単な利用説明を用意するか，インターフェースの工夫により改善できると考えられる．また，節で述べたように，ぴたりえでは様々な理由で似ている絵本を提示するため，書誌情報の一致だけでは見つけられない絵本との新しい出会いを提供できる．実際，「Q14.この絵本は，ぴたりえを利用しなければ手に取らなかった（出会わなかった）と思いますか？」という質問には，「そう思う」が26冊(50.0%)あり，「そう思わない」の19冊(36.5%)を引き離した．これにより，ぴたりえによって新しい本との出会いを提供できたことが示せた．自由記述でも，「自分では選ばない種類の絵本でしたが，子供は興味深々で見ていました」「キーワードと年齢を入力するだけで，ぴったりの絵本が見つかりました．店頭で探すと，つい大人目線で選びがちですが，子供の目線で探すことができました」「絵の簡単さや出てくるキャラクター（動物）の種類などがほぼ狙い通りの本が見つかったのがとても便利だった」など好意的な意見が多かった．</subsubsection>
  <subsubsection title="今後の課題">アンケート（A面）では，ぴたりえに追加して欲しい機能についても調査した（表~）．選択肢の中でもっとも多く選ばれた項目は，「絵の印象（可愛い，迫力がある等）で検索」であり，半数の方が選んでいる．現在，こうした機能を実現するための研究に取り組んでおり，精度向上とぴたりえへの導入に努めたい．次に多く選ばれた項目は，「読み聞かせにかかる時間で検索」だった．これは，絵本中の文字数などから比較的容易に推定できると考えられるため，今後ぴたりえに導入したい．3番目に多かった「ストーリー展開（ハッピーエンドかどうか等）で検索」は，ストーリー展開をどのように定式化し推定するかという問題があるが，よりぴったりな内容の本を選ぶためにも重要だと考えられるため，今後取り組んでいきたいと考えている．また，「その他」には，「中身が見たい」「せめてあらすじが見たい」という記入が多かった．著作権の関係上，検索システムから中身をそのまま見せることはできないが，今後はあらすじ（要約）の表示も検討したい．最後に，章で紹介したように，多くの購買サイトではユーザーレビューなどのデータを収集，利用している．テキストの難易度によらず様々な年齢層の子どもに受け入れられる本も多いことから，実際に何才の子ども達に読まれているかといったデータやレビューは，ユーザーにとって非常に参考になると考えられる．こうしたユーザー由来のデータとぴたりえで実現している技術や機能は決して相反するものではなく，併用したり，目的に応じて使い分けることで，よりユーザビリティの高いシステムにできると考えられるため，今後の検討課題としたい．</subsubsection>
  <section title="まとめ">絵本を読むことは，子どもにとって，言語発達と情操教育の両面での効果が期待できる．しかし，難しさも内容も様々な絵本がある中で，子ども1人1人にとってぴったりな絵本を選ぶのは容易なことではない．そこで，我々は，子どもに「読みやすさ」と「内容」がぴったりの絵本を見つけるための絵本検索システム「ぴたりえ」を開発している．ぴたりえでは，まず，内容がぴったりな絵本を見つけるために，グラフ索引型類似探索（節）を導入している．類似探索では，厳密に一致する本を検索するだけでなく，検索元の本や自由入力を検索キーとして，出てくる内容語や書誌情報等ができるだけ近い絵本を複数提示する．様々な要因で近いと考えられる本を提示することで，お気に入りの本や興味のある事から，無理なく次の一冊を手にとっていただけるのではないかと考えている．次に，読みやすさがぴったりな絵本を見つけるために，絵本テキストの難易度推定（節）を行っている．絵本を難易度順にランキングすることで，その子にちょうどいい読みやすさの本を見つけられると考えている．また，これら2つのぴったりを高精度に実現し，ユーザビリティを向上するために，絵本用のひらがなに強い形態素解析（節）や，表記ゆれの吸収処理（節），必要に応じて概念辞書による検索語の拡張（節）等を行っている．我々は，これらの各技術によって，これまでにない絵本の検索システムを実現した．ユーザーアンケート（章）でも，ぴたりえを利用して選んだ絵本の読みやすさや内容が子どもにぴったりだったと思うかという5段階評価で，平均4.44〜4.54と高い評価が得られた（表~）．今後は，図書館における実証実験での司書と利用者からのフィードバックの収集や，保育現場での有効性の検証，言語発達に対する効果の検証を進めると共に，各要素技術のさらなる精度向上と，要望の多い機能の実現に取り組みたい．図中の絵本は以下の通りである．図~の1段目左から：「はらぺこあおむし」（エリック・カールさく／もりひさしやく，1976,偕成社）「たんじょうびのふしぎなてがみ」（エリック・カールさく・え／もりひさしやく，1978,偕成社）「ありのぎょうれつ」（さく得田之久，1975,童心社）「月ようびはなにたべる？」（エリック・カールさく／もりひさしやく，1994,偕成社）「パパ、お月さまとって！」（エリック・カールさく／もりひさしやく，1986,偕成社）「くまさんくまさんなにみてるの？」（エリック・カールえ／ビル・マーチンぶん，1984,偕成社）「ごきげんななめのてんとうむし改訂大型版」（エリック・カールさく／もりひさしやく，1998,偕成社）図~の2段目左から：「どこミニたべものどこ？」（山形明美，2007,講談社）「１ねん１くみ１ばんワル」（後藤竜二作長谷川知子絵，1984,ポプラ社）「むし」（監修須田孫七，2000,学研マーケティング）「おとしぶみ」（文：岡島秀治絵：吉谷昭憲，1987,福音館書店）「おさかなちゃんのばいば〜い」（ヒド・ファン・ヘネヒテン古藤ゆず，2014,学研教育出版）「だるまさんと」（かがくいひろし／さく，2009,ブロンズ新社）「どこミニどうぶつどこ？」（山形明美，2007,講談社）図~の1段目左から：「てんてんてん」（わかやましずこさく，1996,福音館書店）「てんとうむしくん」（ジョー・ガーデン，2013,主婦の友社）「きいろいのはちょうちょ」（五味太郎作・絵，1983,偕成社）「２さいまるごとひゃっか」（作・絵のぶみ，2006,ひかりのくに）「かわいいてんとうむし」（メラニー・ガースローラ・ハリスカ・ベイスきたむらまさお，2001,大日本絵画）「のぞいてごらん」（accototoふくだとしお＋あきこ，2009,イースト・プレス）「ねぇ、しってる？」（accototoふくだとしお＋あきこ，2010,幻冬舎）図~の2段目左から：「ごきげんななめのてんとうむし改訂大型版」（エリック・カールさく／もりひさしやく，1998,偕成社）「いもむしれっしゃ」（にしはらみのり，2007,PHP研究所）「どこミニどうぶつどこ？」（山形明美，2007,講談社）「はらぺこあおむし」（エリック・カールさく／もりひさしやく，1976,偕成社）「ありのぎょうれつ」（さく得田之久，1975,童心社）「とべないほたる1ほたるたちのたんじょう」（小沢昭巳原作／関重信画，2003,ハート出版）「ぼく」（えとぶん井上洋介，月刊予約絵本「こどものとも年中向き」通巻275号，2009,福音館書店）document</section>
</root>
