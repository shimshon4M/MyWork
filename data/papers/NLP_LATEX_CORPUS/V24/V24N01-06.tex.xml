<?xml version="1.0" ?>
<root>
  <jtitle>社会学における職業・産業コーディング自動化システムの活用</jtitle>
  <jauthor>高橋和子多喜弘文田辺俊介李偉</jauthor>
  <jabstract>社会学では，職業や産業は性別や年齢などと同様に重要な変数であるとの認識から，正確を期するために，自由回答で収集したデータを研究者自身によりコードに変換することが多い．これは職業・産業コーディングとよばれるが，大規模調査の場合，膨大な労力と時間がかかる上に，結果における一貫性の問題も存在する．そこで，ルールベース手法と機械学習(SVM)を適用したコーディング自動化システムを開発した．本システムは，国内・国際標準の職業・産業コードを第3位まで予測し，第1位の予測コードには，自動コーディング後に人手によるチェックが必要か否かの目安となる3段階の確信度も付与する．現在，本システムは，東京大学社会科学研究所附属社会調査・データアーカイブ研究センター(CSRDA)からWebによる利用サービスが試行提供されており，研究目的であれば，だれもが指定された形式の入力ファイルをアップロードして，希望するコードに変換された結果ファイルをダウンロードすることができるようになっている．</jabstract>
  <jkeywords>社会調査，職業・産業コーディング，自動コーディングシステム，3段階の確信度，Webを通じた一般公開</jkeywords>
  <subsubsection title="">*SSM職業コードの状況社会学でもっとも関心の高いSSM職業コードについて，JGSS-2006データセットを用いてより詳細に調査する．このとき，正解とされるコードごとの正解率は，再現率（注目した正解コードの事例数のうち，システムが正解した事例が占める割合）を計算していることになる．本システムで用いるSSM職業コードは全部で193個であるが，正解として本データセットに出現したコードは150個(77.7%)であった．この中で，正解率が100%のコードは39個(26%)で，表~に示す大分類では専門・技術が多く，0%のコードは12個(8%)で製造が多かった．ただし，これらはいずれもコードの出現度数が非常に少なく，特に正解率が100%のコードはすべて頻度15以下，0%のコードもすべて頻度7以下で，合計しても178(8%)で，全体に与える影響は大きくない．そこで，以下では，正解コードの度数が全体の1%（頻度22）以上の31個のコードについて調査する．これらは出現したコードの21%を占め，累積度数は1,499(68%)である．まず，表~に正解率のベスト10とワースト10を示す．正解率が高いものはサービス，農林，専門・技術，販売，低いものは労務や建設が多いことがわかる．次に，本システムが間違えた状況を調査する．間違い方には，正解がコードXであるのに本システムがX以外のコードを付与する場合と，正解がX以外のコードであるのに本システムが間違えてコードXを付与する場合がある．前者の結果を表~，後者の結果を表~に示す．ただし，全体に及ぼす影響を考慮し，間違えた事例数が全体の1割（頻度22）以上のコードに限定した．いずれの表においても，コードの後に，本システムが間違えた事例数をカッコ内に示す．また，最右欄においてコード名を示していないものは，間違えた事例数が1のコードである．不正解がもっとも多かったのは，正解である「554」を他のコードに間違えたり（表~参照），他のコードを「554」に間違える（表~参照）場合である．具体的には，「554」を販売や管理に間違えたり，「554」と同じ事務の「556」「557」「559」や専門・技術や製造を「554」に間違えている．次に多いのは，「557」と「573」を相互に間違える場合である．さらに，事務を「569」（販売店員）や「550」（会社・団体等の管理職員）に間違える場合も多い．事務は，表~によると，「557」以外は特に正解率が低いわけではないが，事務同士や販売または管理との間で間違うケースが多い．ここで，不正解であった全467事例を調査した結果，誤りの原因は次の9種類に分類できた．入力データに誤りがある（誤字や脱字など）(A)文末の語を述語とする方法も含め，格フレームの形式では有効な情報を抽出できない(B)ルールが不十分である(C)ルールが不十分である（「従業先の事業内容」を参照していないなど）(D)シソーラスが不十分である(E)正解がルールを適用していない(F)回答に複数の職業内容が記述された場合に，本システムが正解が異なるものに決定(G)回答の情報が不足している（正解が曖昧）(H)正解が誤っている可能性がある(I)1つの事例に誤りの原因が複数含まれるものもあるが，表~に誤りの原因別に回答例を示し，誤りの原因について順に分析する．原因Aは，人間であれば理解可能でも，コンピュータは正しい処理が行えない．本システムの場合も最初の形態素解析で失敗してしまうため，後の処理が正しく行えない．例では，もっとも重要な述語「評価」が「表価」と誤入力または調査票に誤記入されたため，マッチするルールが見つからず，また，SVMにおける素性としても「評価」がないために，不正解となった．社会調査においては，メイキング防止のため，調査票の記入通りに入力を行う．したがって，調査員による誤記入が予想できる場合でもそのまま入力されるため，入力ミス以外に調査票における誤字や脱字も正解率を低下させる．調査票記入における別の問題として，調査員が，単語の一部またはすべてをひらかなやカタカナで記入する場合も多い（例えば，「き械」「キカイ」など）．原因Aは人手によるコーディングでは大きな問題とはならないために，社会学研究者からの理解が得にくいが，コンピュータによる自動処理を行う本システムにとっては大きな問題であり，今後，この問題に取り組む必要がある．原因Bの最初の例では，＜組み立て，ヲ，部品＞なる三つ組を生成するが，この名詞が意味する範囲が広く，職業の特定ができない．もし，「部品」の前に位置する「電化製品」が抽出できれば，ルールベース手法の段階でコードが決定でき，SVMの素性として有効に作用することが期待できる．このように，名詞が「部品」や「製品」のような場合には，その前の語を抽出する必要がある．二番目の例では3個の三つ組を生成するが，いずれも「999」のため，SVMの素性として有効ではない．このように，複雑な構成の文に対しては，単純に文末の語を述語とする三つ組を生成する方法では，有効な情報の抽出ができない場合がある．逆に，三番目の例は非常に単純で1個の単語から構成される文であるが，この語が動作を表すものではないために述語コードを付与できず，この場合も文末の語を述語とする方法では対応できない．原因Cの例では，＜検査，ヲ，パン＞なる三つ組を生成するが，これを「644（パン・菓子・めん類・豆腐製造工）」に結びつけるルールが存在しないため，「999」となり，不正解につながった．原因Dの例はいずれも，「仕事の内容」からは「554」でよいが，正解では「従業先の事業内容」を参照し，より妥当なコードに修正されている．ルールに，SSM職業コード（ルール）が「554」の場合も追加する必要がある．原因Eの例では，形態素解析により切り出された結果，述語が「上絵」，名詞が「紋章」となるが，どちらもシソーラスにないために「999」となり，不正解につながった．原因C,D,Eについては，ルール，ルール，述語シソーラス，名詞シソーラスの改善が有効である．原因Fの最初の例は，ルールにより管理とされたが，ルールにより「554」と修正され，SVMによる結果も「554」となった．正解でも，「従業先の事業規模」により修正が必要とされたが，「従業先の事業内容」ではカッコ内の「電子機器の部品を作る会社」に注目して「503」（機械・電気・化学技術者）としたため，不正解となった．二番目の例は，ルールにより管理（「548」（会社役員））とされ，ルールにおける管理の条件を満たすために修正されず，SVMによる結果も「548」であった．しかし，正解ではルールを適用せず，「従業先の事業内容」が「建設住宅コンサルタント会社」であることに注目して「541」（経営コンサルタント）とされた．このように，正解においては，特に管理の場合にルールを適用する場合としない場合があり，コーダの間でも混乱が生じている．人間にとってもコンピュータにとっても，管理コードの付与方針を整理しておく必要がある．原因Gはしばしば起きるもので，今回も全不正解事例のうち125事例(27%)が該当した．ただし，複数の内容を記述した全384事例(17%)においては正解が259事例で，不正解の事例の2倍である．複数の内容が記述された場合，どれを正解とするかについては，重要なものから記述されるとの考えから，先に記述されたものを正解とすることが多いが，本システムは記述された順番の情報を用いていないため，結果が正解と異なる場合もあり得る．また，「2つ以上の勤務先で異なる仕事に従事している場合には，就業時間の長い仕事，収入の多い仕事の順であり，１つの勤務先で異なる仕事に従事している場合には，就業時間の長い仕事，生産・製造作業，主要工程または最終工程という順に決定する．」なるルールが適用されることもあり，この中では，「生産・製造作業が他より優先される」はルール化が可能である．原因Hは，コンピュータだけでなく人間においても誤りの原因となる．これは，回答者も調査員も，職業分類の決め手となる情報についての知識が不足するために生じる場合（二番目，三番目，四番目の例）と，回答者が情報を開示したくない場合（最初と最後の例）がある．原因Hの場合，コーディング現場において可能な限り「999」や「689」（分類不能の職業）を付与しない方針が強く要請されると，正解を誤ってしまう危険性がある．回答における情報不足の問題については，原因Ａの問題とも併せ，データの質向上というより一般的な観点から，新たな課題として取り組む予定である．原因Iは，現職までの職歴データや他の情報も考慮された結果，このような正解となった可能性も否定できないが，「本人現職」からは正解が誤っており，本システムの結果が不正解であるとは言い切れない．正解が誤っているという状況は，新しい職業が登場した当初に解釈が分かれ，その時点で正解としたものが後に定められるコード（新規に生成される場合もある）と異なる場合にも生じる．このため，訓練事例は適宜見直し，必要に応じて正解を更新する必要がある．ところで，表~における例では，本システムの結果がルールベース手法による結果と一致する場合が多かった．そこで，全事例における両者の一致率を調査した結果，約80%（1,811事例）であった．両者における正解・不正解の関連を表~に示す．カッコ内の数値は全体に占める割合である．ここで正解としたのは，ルールベース手法では複数のコードが付与された場合はその中に，本システムでは第3位までのコードの中にそれぞれ正解が含まれる場合である．表~より，ルールベース手法の正解率は60.7%であるが，ルールベース手法で不正解となった事例の半数がSVMの適用により正解となり，特に，ルールベース手法でコードが決定できなかった事例の約7割が正解となったため，本システムの正解率は18ポイント上昇した．これより，両手法を組み合わせる手法の有効性が再確認できた．一方で，ルールベース手法で正解であった事例のうち，SVMの適用により不正解となったものは約2%しかなく，ルールベース手法の正解率を向上させることは，本システムの正解率向上に有効であると考えられる．</subsubsection>
  <section title="はじめに">社会学においては，職業や産業データは性別や年齢などと同様に重要な属性であり，正確を期する必要がある．このため，国勢調査でも行われているように，自由回答で収集したものを研究者自身が職業・産業分類コードに変換する場合が多い．この作業は「職業・産業コーディング」とよばれるが，国内の社会学において標準的に用いられる職業コード（SSM職業小分類コード）は約200個，産業コード（SSM産業大分類コード）は約20個あり，分類すべきクラスの数が非常に多く，コード化のルールも複雑なことから，特に大規模調査の場合は多大な労力や時間を要するという深刻な問題を抱えている．また，多人数で長期間にわたる作業となるため，コーディング結果における一貫性の問題も指摘されている．そこで，これらの問題を軽減する目的で，職業・産業コーディングを自動化するシステムの開発を行ってきた．最初に開発したシステムは，SSM職業・産業分類コードを決定するルールを生成し，これに基づいて自動コーディングを行った結果をCSV形式のファイルにするもので，主として大規模調査に利用された．その後，自動コーディングの精度向上のため，自動化のアルゴリズムを，文書分類において分類性能の高さで評価されている機械学習のサポートベクターマシン(SVM)とルールベース手法を組み合わせた手法に改良した．また，社会学を取り巻く環境の変化に対応するために，ILOにより定められた国際標準コードに変換するシステムも開発した．さらに，いずれのシステムにも，自動コーディングの結果に対してシステムの確信度を付与する機能を追加した．この結果，自動化システムは職業・産業コーディングにおける前述の2つの問題解決に大きく貢献するものとして，社会調査分野において評価を得た．自動化システムはまた，職業・産業コーディングの実施方法も変えた．以前は，コーダは調査票を見ながらコーディングを行い，その結果を調査票に書き入れていた．しかし，システムの開発以降，依頼者が作成したデータファイルを開発者が事前に処理し，コーダはその結果付きのファイルを画面に表示してコーディングを行い，結果を入力するようになった．この方法は，自動化システムを利用する場合の標準的な方法となった．現在，自動化システムは整理統合され，東京大学社会科学研究所附属社会調査・データアーカイブ研究センター(CSRDA)から，Webを通じた利用サービスとして試行提供されている．利用希望者は，自動コーディングを希望するコードの種類を明記した書類をCSRDAに申請し，受理されれば，所定の形式の入力ファイルを指定された場所にアップロードすることができ，その場所から，CSRDAのシステム運用担当者が処理した結果をダウンロードできる仕組みとなっている．これにより，一般の研究者や研究グループが開発者を通すことなく，自由にシステムを利用することができるようになった．海外においても職業・産業コーディングは実施されており，負担の大きい作業であるとの認識から，コンピュータによる支援方法が検討されている．しかし，単なる単語のマッチング以外のものは，韓国と米国における2例のみである．いずれもルールベース手法が中心で，機械学習は適用されていない．また，以上に述べた自動化システムと大きく異なるのは，職業や産業コードそのものを重要な変数として分析に用いる社会学の研究を支援するものではない点である．本稿では，現在公開中の自動化システム（以下，本システムと略す）について報告する．本システムにおける新規性は次の3つである．分類精度向上のために，ルールベース手法と機械学習の組み合わせ手法の適用コーダの作業負担軽減のため，第1位に予測された候補に対する確信度を付与国内標準コードだけでなく，近年利用が高まっている国際標準コードにも対応本システムは，CSRDAに置かれたのを機に，だれもが容易に操作することができるように，ユーザーインターフェイスを改良した．これは，システムの運用担当者が社会学研究者であることと，短期間で交代する状況を考慮したためである．以下では，最初に自動化システムのこれまでの変遷について補足説明を行った後，本システムについて述べる．そこでは，実際に本システムを利用する社会学研究者による評価も報告する．また，CSRDAにおける本システムの利用方法についても述べる．</section>
  <section title="自動化システムの変遷">1節で述べたように，自動化システムは開発当初とはアルゴリズムを変え，国際標準コードへの変換も行うようになった．国際標準の職業コードは，ISCO(InternationalStandardClassificationofOccupations)，産業コードはISIC(InternationalStandardIndustrialClassificationofAllEconomicActivities)で，いずれもSSMコードとはコード体系が異なり，4桁の階層構造で，SSMコードより分類クラスの個数が多い．新規にシステムを開発した理由は，SSMコードはもともと1968年版の国際標準コードを源とするが，1988年の国際標準コードの大幅な改訂により両者の対応関係が複雑化し，変換表の作成が困難であると判断したためである．これにより，個々に独立したシステムではあるが，国内標準コードと国際標準コードに対する自動コーディングが可能となった．自動化システムを利用すれば，コーダは提示されたコードを参考にコーディングを行うことができる．このため，特に初心者のコーダに対する有効性が評価され，国内の代表的な社会調査において利用が広がった．例えば，我が国初の二次分析のための大規模調査JGSS（JapaneseGeneralSocialSurveys；日本版総合的社会調査）においては，初回の2000年以降，毎回利用されてきた．また，10年ごとに実施されるSSM(SocialStratificationandsocilaMobility)調査（社会階層と社会移動全国調査）においても，2005年調査に引き続き，2015年調査でも利用されている．自動化システムの利用によりコーダの作業は楽になったが，熟練コーダがすべてのコーディング結果に対して再チェックを行って最終コード（正解）を決定する状況は変わらなかった．そこで，熟練コーダの作業量についても軽減できるように，自動コーディングの結果に対して，人手によるコーディングが必要かどうかを示す目安として，3段階（A:不要，B:できれば行う方がよい，C:必要）の確信度を付与する機能の追加を行った．この確信度は，一般のコーダが自動コーディングの結果を参考にする場合の判断基準としても有用であると考えられる．自動化システムは開発以来，大規模調査での利用が多かった．しかし，近年は，一般の研究者や研究グループからも利用の要請が増えてきたため，Webを通じてだれもが自由に利用できる仕組みの検討を始めた．その際，利用者の多くが文系の研究者であることや，システムの稼働環境がやや複雑であることから，利用者自身がシステムをダウンロードして用いるのではなく，入力データのファイルをアップロードしたものをシステム運用担当者が処理する方法を想定した．また，システムの運用業務についても，開発者以外のだれもが担当できるように改良する必要があると判断した．これらの課題を解決し，CSRDAから公開されているものが本システムである．</section>
  <section title="職業・産業コーディング自動化システム"/>
  <subsection title="職業・産業コーディング">最初に，職業・産業コーディングが対象とする質問と回答について具体的に説明する．職業・産業コーディングは，自由回答である「仕事の内容」（職業の場合）または「従業先の事業内容」（産業）を中心に，選択回答である「従業上の地位・役職」，「従業先の事業規模」から構成される質問群により収集される回答に対して実施される．質問文は調査により多少異なるが，JGSSにおける質問文と回答の形式を表~に示す．表~における選択回答の選択肢は注に示す通りである．職業・産業コーディングの例として，「仕事の内容」が「配車等を手配」，「従業先の事業内容」が「荷物をつみおろす業務等」，「従業上の地位・役職」が「2」，「従業先の事業規模」が「8」であるようなデータの場合，SSM職業コードは「563」（運輸事務員）が付与され，SSM産業コードは「80」（運輸業）が付与される．なお，社会学においては職業と産業の両方をコーディングする場合が多いが，産業のデータ（「従業先の事業内容」「従業先の事業規模」）が収集されず，職業コーディングのみ実施される場合もある．このような場合，本システムは，それぞれを「無回答」「13」とした入力ファイルにより処理を行う．</subsection>
  <subsection title="変換を行うコードの種類">職業・産業コーディングにおいて本システムが変換するコードは，表~に示す4種類で，いずれも現在の社会学で必要性が高いものである．特に，SSM職業コードは，初回の1955年SSM調査以来，社会学における標準的なコードとして用いられている．表~に示す小分類コードの上位には16の大分類がある（表~参照）．社会学の研究では，この大分類または4.2節で述べる別の種類の大分類レベルに小分類コードを統合して分析する場合が多い．SSMコードは1995年に改定されて以来，コード体系は変えていないが，職業や産業を取り巻く環境の変化を反映するために，新規のコードが追加されている．例えば，SSM職業コードは，1995年調査で用いられた189個（表~参照）が基本であるが，2005年SSM調査では既存のコードから700番台のコードを分化させ，2015SSM調査では800番台のコードを分化させた．国内の社会学ではSSM調査やJGSSで用いられるコードに倣うことが多いため，本システムでも2005SSM調査に合わせ，表~に示したコードに700番台のコードを追加した193個のコードに分類する．コードの分化はSSM産業コードにおいても行われている．</subsection>
  <subsection title="入力ファイルと結果ファイルの形式">入力データは，A列からF列までの各列がこの順に，「ID」「学歴」「従業上の地位・役職」「従業先の事業内容」「仕事の内容」「従業先の事業規模」であるCSV形式のファイルである（表~参照）．学歴は選択肢で収集される．利用者は，この形式のファイルを用意すれば，表~に示す4種類のコードのうち希望するコードを最大4種類まで自由に選択できる．入力ファイルの作成方法については，CSRDAのWebサイトに詳細な説明が掲載されている．本システムでは，過去の調査等ですでにSSMコードが付与された事例に対し，このコードを利用して新たにISCOやISICを付与することも可能である．このため，表~に示した入力ファイルの右列に「付与ずみのSSMコード」を追加したものも受け付ける．例えば，ISCOを希望する場合はG列にSSM職業コード，ISICを希望する場合はH列にSSM産業コードを入力すれば，3.7節で述べるように，システムはこのSSMコードを利用して処理を行う．本システムでは，結果ファイルとして，第3位までに予測したコードを提示したCSV形式のファイルをコードの種類ごとに出力する（表~参照）．表において，rank1,rank2,rank3はそれぞれ「第1位に予測されたコード」「第2位に予測されたコード」「第3位に予測されたコード」を意味する．また，確信度は，システムが第1位に予測したコードに対する信頼度で，本システムでは，「A:人手によるコーディングは不要，B:できれば人手によるコーディングを行う方がよい，C:人手によるコーディングが必要」の3段階を出力する．確信度については3.8節で説明する．</subsection>
  <subsection title="操作用の画面">図~は，本システムを稼働させたときに最初に表示される操作用画面である．実行を開始するには，この画面上で入力ファイルを指定し，変換を希望するコードのチェックボックスをクリックした後，Runボタンを押せばよい．図~は，SSM職業コードとISCOを選択した場合の例である．本システムは，図~に示すように，実行開始までは人間が操作するが，これ以降は結果ファイルを出力するまですべて人手を介さずにコンピュータが自動的に処理をする．結果ファイルは，SSM職業コード，ISCO,SSM産業コード，ISICの順に作成する．例えば，図~の場合は，SSM職業コードの結果ファイルを作成後，ISCOの結果ファイルを作成して処理を完了する．途中の処理状況は画面に表示される．その一部を図~，図~に示す．</subsection>
  <subsection title="システム構成図と自動化の手法">本システムの構成を図~に示す．図~より明らかなように，本システムでは，すべてのコードに対して，直接または間接的にルールベース手法とSVMを組み合わせた手法を適用する．直接的にルールベース手法とSVMを組み合わせる手法はSSMコードに適用するもので，ルールベース手法により決定されたコードを直接，SVMの素性として利用する．ISCOとISICにはルールベース手法がないためにこの手法は適用せず，SVMの素性として，ルールベース手法とSVMを組み合わせた手法により予測されたSSMコードを利用する．このため，ISCOやISICも間接的にルールベース手法とSVMを組み合わせた手法を適用している．ただし，例外として図~には示していないが，過去の調査等ですでにSSMコードが付与された事例にISCOやISICを付与する場合はこのコードを利用するため，ルールベース手法の適用は行わない．自動化の手法について，次節でルールベース手法について述べた後，3.7節でこれをSVMに組み合わせる方法について述べる．</subsection>
  <subsection title="ルールベース手法"/>
  <subsubsection title="格フレームの概念による職業・産業データの理解">職業・産業コーディングにおいて最も重要な情報は，自由回答の記述内容である．職業コードや産業コードの定義から，職業データは個人，産業データは従業先の事業という違いはあるが，いずれも基本的には動作の違いにより大きく分かれ，さらに，その動作が何を対象とするのか，どこで行われるのかにより細かく分類されると解釈できる．したがって，本システムでは自由回答に記述された内容すべてを解析せず，分類に必要なものとして，「格フレーム」の概念に基づく情報のみを抽出する．最初に，入力ファイル中の自由回答に対して形態素解析を行う．その結果から，職業・産業コーディングにおいて不要であると判断できる語を削除する．具体的には，品詞が「形容詞」，「副詞」，「接頭辞」，「接尾辞」である語および原形が「等」，「他」，「関係」，「仕事」，「作業」などの語（118種類）である．次に，動作を表す語（本稿ではこれを「述語」とよぶ）を抽出するが，本システムでは構文解析を行わずに，単純に回答の末尾にある語を述語とする．このため，本システムでは，動詞だけでなく，サ変名詞や普通名詞も述語として扱われる．以下では，職業を例に述べる．述語には，述語だけでSSM職業コードが決定できるものと，述語が必要とする格とその格が取る語（本稿ではこれを「名詞」とよぶ）が必要なものがある．前者の例は，「薬剤師」や「栄養士」のような職業名が多く，述語のみでSSM職業コード「510」（薬剤師）や「513」（栄養士）が付与される．後者の例は，「製造」や「教える」で，それぞれ「何を」や「どこで」の内容によりSSM職業コードが異なるため，格と名詞が必要となる．この場合，述語の前に助詞（「を」や「で」）があれば，これを手がかりにして名詞を抽出し，＜述語，格，名詞＞の三つ組を生成する．例えば，述語が「製造」の場合，述語の前に助詞「を」があればこれを抽出した後，「を」の直前にある名詞も抽出する．同様に，「教える」の場合は，述語の前に助詞「で」があればこれを抽出し，「で」の直前にある名詞も抽出する．本システムでは，前者の場合も，格と名詞を抽出する必要のない三つ組として扱う．本システムは，回答から複数の述語が抽出されたり，回答の途中に「。」があると，複数の文（単語のみの場合もある）が存在すると判断し，各文に対してそれぞれ三つ組を生成する．例えば，「仕事の内容」が「野菜の生産と販売」や「野菜を生産する。販売もする」である場合，いずれも，最初の文からは＜生産，ヲ，野菜＞，2つめの文からは＜販売＞なる三つ組を生成する．また，1文であっても，「米や野菜を作っている」のように，複数の名詞が並列で表現されている場合には，＜作る，ヲ，野菜＞，＜作る，ヲ，米＞のように複数の三つ組を生成する．最後に，このようにして生成された三つ組に対し，あらかじめ三つ組と職業コードのペアにより構築しておいたルールセットを探し，マッチするものがあれば該当するSSM職業コードを付与し，なければ不明を意味する「999」を付与する．三つ組が複数ある場合には，その各々に対してこの処理を行う．このルールを本稿ではルールとよぶ．ルールは次の形式で表現されるが，左辺において，格と名詞が省略される場合もある．また，実際には，ルールでは，述語ではなく，3.6.2節で述べる述語コードを用いるが，説明の都合上，ここでは述語を用いて表現した．ルール：＜述語，格，名詞＞＜SSM職業コード＞例えば，「仕事の内容」が「アルバイトでケーキを作っている」の場合，＜作る，ヲ，ケーキ＞を抽出し，ルール＜製造，ヲ，菓子＞＜644＞により，SSM職業コード「644」（パン・菓子・めん類・豆腐製造工）を付与する．このとき，「作る」を「製造」，「ケーキ」を「菓子」とみなすことができるのは，次節で述べる「述語シソーラス」や「名詞シソーラス」を利用するためである．同様に，「仕事の内容」が「大学で哲学を教えている」であれば，＜教える，デ，大学＞を抽出し，ルール＜教える，デ，大学＞＜524＞により，SSM職業コード「524」（大学教員）を付与する．ルールは，文献に記載された定義や例に基づいて人手で生成した．その後，自動化システムが処理した事例から得られた情報を追加した．その際，ルールの右辺に2つ以上のコードを記述したものも生成した．例えば，「仕事の内容」に「営業」としか記述されていない場合，内勤の営業事務（「557」）であるのか外回りの営業（「573」）であるのかは判断できないが，どちらかである可能性が非常に高い．そこで，少しでもコーダの参考となるように，実際には存在しないが，「5570573」（営業・販売事務員または外交員（保険・不動産を除く））なるコードを生成した．「従業先の事業内容」からSSM産業コードを決定するためのルール（産業ルール）もルールと同様の形式であり，ルールと同様の手続きにより生成した．現在，ルールは4,224個．産業ルールは948個存在する．</subsubsection>
  <subsubsection title="シソーラスによる語の拡張">社会の変化に伴い，「仕事の内容」や「従業先の事業内容」には多様な語が記述される．そこで，本システムでは，ルールは，出現するすべての語ではなく代表的な語により生成し，ルールで用いた述語や名詞に対してそれぞれシソーラスを構築することで対応することとした．述語シソーラスは，語や品詞が異なっていても，職業や産業コードに分類する観点からは同一視できる語同士に同一の述語コードを付けてグループ化したものである．例えば，「製造」（サ変名詞），「製作」（サ変名詞），「作る」（動詞）にはすべて同一の述語コード「3861」を付ける．3.6.1節の例において，「作る」を「製造」と同一視できたのはこのためである．現在，述語シソーラスの述語コードは2,880個，異なり語は10,871個であり，1つの述語コードは平均4個の異なり語をもつ．名詞シソーラスは，ルールで用いた名詞を見出し語とし，職業や産業コードに分類する観点からはこの見出し語と同一視できる語とともにグループ化したものである．見出し語は，「自動車1」や「電気機械器具」のように，複数の形態素に切り出される語であってもよいが，見出し語以外の語は，回答とのマッチングを行うために，形態素が1個である必要がある．1つのグループにk個の語が含まれる場合，名詞シソーラスは次の形式で表現される(1&lt;i&lt;k)．（見出し語語1・・・語i・・・語k）3.6.1節の例で，「ケーキ」を「菓子」とみなすことができたのは，「ケーキ」が見出し語「菓子」のグループに含まれるためである．名詞シソーラスでは，同じ語が別のグループに出現する場合もある．例えば，「菓子」は先の例では見出し語であったが，見出し語「小売店」のグループにおいては，見出し語以外の語としても出現する．現在，名詞シソーラスのグループは331個，見出し語以外の語は延べで3,994個であり，1つのグループに平均12個の語が含まれる．2つのシソーラスによりルールで用いられた語が拡張され，ルールの適用範囲が広がる．例えば，「コンピュータの製造」と「テレビを作る」は，いずれも述語コードが「3861」で，名詞である「コンピュータ」と「テレビ」のいずれも名詞シソーラスにおける見出し語「電気機械器具」のグループに含まれるため，どちらにも＜3861，ヲ，電気機械器具＞＜634＞なるルールがマッチし，同一のSSM職業コード「634」（電気機械器具組立工）が付与される．以上に述べたルールにおけるシソーラスによる語の拡張は，産業ルールにおいても同様に適用される．</subsubsection>
  <subsubsection title="職業コードの修正">職業コーディングにおいては「仕事の内容」の記述内容が重要であるが，選択回答である「従業先の事業規模」や「地位・役職」，さらには「従業先の事業内容」の情報も用いて総合的に判断される．したがって，ルールによって付与されたコードの中で，これらの情報により影響を受けるものに対しては，ルールの適用後にチェックを行って最終的なコードを決める必要がある．このチェックのためのルールを，本稿ではルールとよぶ．ルールを必要とするコードは，管理職，自営業，建設関係に多い．以下では，SSM職業コードを区別するために，ルールによって付与されたものを「SSM職業コード（ルール）」，ルールのチェックを受け，ルールベース手法として最終的に決定されたものを「SSM職業コード（ルールベース）」とよび，「SSM職業コード」とよぶのは本システムにより最終的に決定されたものとする．SSM産業コードにおいても同様に，産業ルールにより決定されたものを「SSM産業コード（産業ルール）」とよぶが，SSM産業コードではルールに該当するものがないため，これがそのまま「SSM産業コード（ルールベース）」となる．ルールは次の形式で表現される．左辺の条件のすべてが必要ではない場合もある．ルール：＜SSM職業コード（ルール），従業上の地位・役職，従業先の事業規模，従業先の事業内容，SSM産業コード（産業ルール）＞＜SSM職業コード（ルールベース）＞ルールの適用例として，管理職（「545」〜「553」）の場合を示す．管理職は，「従業上の地位・役職が常時雇用の課長以上」かつ「従業先の事業規模が30人以上」を条件とするため，SSM職業コード（ルール）により管理職が付与されたコードに対してはルールによるチェックを行う．条件を満たさない場合は，SSM産業コードを参照して変更する．これとは逆に，ルールではコードが特定できずに「999」とされた場合に，ルールにより管理職の条件がチェックされて，該当する管理職コードが付与される場合もある．ルールは文献にしたがって人手で生成した．ルールは43個で，その内訳は，管理職14個，自営9個，建設関係7個，その他13個である．ルールの限界は，形式化できるものしか扱えないことである．実際には，コードの決定にあたっては，回答者の性別や学歴，本人の場合はこれまでの職歴，さらに父職，配偶者職などのように回答者以外の職業や産業の情報を含め，収集されたあらゆる情報を利用する場合が多く，これらをすべて反映したルールを生成することは非常に困難である．また，調査によりルールを重視する程度に違いがある場合もある．これにより，熟練コーダや調査が異なる場合は，最終的なコードを決定するためのルールに一貫性が欠如し，最終コードに揺れが生じる可能性がある．</subsubsection>
  <subsection title="ルールベース手法とSVMの組み合わせ手法">本システムにおけるルールベース手法では，自由回答の内容を格フレームで表現してコードを決定するルールが必要になるが，回答の中にはこの形式で表現できないものも存在する．例えば，「仕事の内容」に商品名や生産物のみが記述された場合，本システムでは述語として扱われるが，動作を表すものではない．また，コードの修正方法もルールとして表現することが困難な場合があった．これらはシステムの性能を低下させる要因になると考えられる．さらに，自由回答に出現する用語や変換するコードは時代とともに変化するため，ルールベース手法においては，シソーラスやルールのメンテナンスを随時行わなければならないが，これを開発者以外の人間が長期間継続することは，時間的にも労力的にも負担となることが予想される．以上の理由により，ルールベース手法以外の方法を適用する必要があると考えた．SVMを選択した理由は，文書分類において分類性能の高さで評価が高かったためである．本システムが対象とする自由回答は，文書分類が対象とする文書に比較すると非常に短いという懸念はあったが，職業・産業コーディングは調査が完了するたびに実施されてコードが決定されるため，これを正解とみなすことで，今後も訓練事例の蓄積が容易であるという利点を考慮した．なお，職業・産業コーディングは多値分類のタスクであるため，2値分類器であるSVMをone-versus-rest法により多値分類器に拡張した．SSM職業コードを対象に，SVMによる方法をルールベース手法と比較し，さらに，ルールベース手法とSVMを組み合わせた手法（ルールベース手法により得られた結果をSVMの素性として活用する方法）とも比較した結果，ルールベース手法とSVMを組み合わせた手法，SVMによる手法，ルールベース手法の順に分類精度が高かったため，本システムでもこの組み合わせ手法を適用する．SSM産業コードについては実験を行っていないが，SSM職業コードと同様の効果が得られると考え，同様の組み合わせ手法を適用する．表~にコードごとの自動化の手法とSVMで用いる素性を示す．本稿では，「仕事の内容」「従業先の事業内容」「地位・役職」を基本素性とよぶ．「仕事の内容」と「従業先の事業内容」はいずれも自由回答であるために，形態素解析により分割された形態素を素性とするが，品詞付き単語と素性番号を対にして生成した素性辞書により素性番号に変換したものを用いる．素性辞書は現在，15,069語から構成されるため，素性番号の最大値は15069である．回答に出現した単語が素性辞書に存在しない場合の素性番号は20000にする．また，素性として用いる語が「仕事の内容」と「従業先の事業内容」のどちらに出現したかを区別するために，「仕事の内容」に出現したものは素性番号をそのまま用いるが，「従業先の事業内容」に出現したものは素性番号に200,000をプラスした番号を用いる．ISCOやISICにおいて，SVMの素性として用いるSSMコードはルールベース手法とSVMの組み合わせ手法により第1位に予測されたコードである．これは，ISCOにおいてSSMコードを利用する方法として，第1位から第3位までに予測されたコードをさまざまに用いた実験を行った結果，この方法がもっとも正解率が高かったためである．ただし，前述したように，もし過去の調査等ですでに付与されたSSMコードが入力されていれば，予測されたコードではなくこのコードをSVMの素性として用いる．ISICについては実験を行っていないが，ISCOの場合と同様の効果が得られるものと考え，ISCOと同様の方法を適用する．ISCOでは，SVMの素性として「学歴」も用いる．この理由は，ISCOではコードの決定時に，職業の遂行に必要なスキルレベル（＝教育・職業資格）が用いられるが，我が国ではこれがデータとして収集されないため，スキルレベルが国際標準教育分類(ISCED)と対応することや学歴を判断基準とする点に注目し，学歴で代用可能であると判断したためである．本システムにおいて4種類のコードすべてに変換する場合は，STEP１〜STEP６の順に連続処理を行う．また，SSM職業コードのみに変換する場合はSTEP１，STEP２，STEP３，SSM産業コードのみの場合はSTEP１，STEP２，STEP５，ISCOのみの場合はSTEP１，STEP２，STEP３，STEP４，ISICのみの場合はSTEP１，STEP２，STEP５，STEP６の順に実行する．ただし，ISCO（またはISIC）のみに変換する場合に，すでに付与されたSSMコードが入力されている場合は，STEP２とSTEP３（またはSTEP２とSTEP５）は省略し，STEP４（またはSTEP６）ではこのSSMコードを用いる．=1=5zwto5zwSTEP１職業・産業データに対する形態素解析=1=5zwto5zwSTEP２ルールベース手法の適用により，SSM職業コード（ルールベース）とSSM産業コード（ルールベース）を決定=1=5zwto5zwSTEP３基本素性に，STEP２により決定されたSSM職業コード（ルールベース）を追加してSVMを適用し，SSM職業コードを第1位から第3位まで決定=1=5zwto5zwSTEP４基本素性に，学歴とSTEP３により決定されたSSM職業コード（第1位のみ）を追加してSVMを適用し，ISCOを第1位から第3位まで決定=1=5zwto5zwSTEP５基本素性に，STEP２により決定されたSSM産業コード（ルールベース）を追加してSVMを適用し，SSM産業コードを第1位から第3位まで決定=1=5zwto5zwSTEP６基本素性に，STEP５により決定されたSSM産業コード（第1位のみ）を追加してSVMを適用し，ISICを第1位から第3位まで決定</subsection>
  <subsection title="確信度の付与">SVMは，予測したコードとともにスコア（分離平面からの距離）も出力するため，これを利用して，予測したコードのクラス所属確率を推定することが可能である．そこで，この推定値を予測したコードに対する信頼度として利用することを考えた．ただし，本システムでは厳密な確率値までは必要としないため，文献における提案手法を特徴づける考え方である「複数のスコア利用」に基づく簡便な方法を提案し，3段階の確信度として付与することとした．各確信度の決定条件は次の通りである．ただし，rank1，rank2は，それぞれSVMにより第1位，第2位に予測されたコードにともなって出力されるスコアを示す．は閾値で，rank1とrank2の差を示す．を大きく設定するほど予測されたコードのクラス所属確率が高まるため，確信度Aの信頼性はを大きく設定するほど向上することになる．A：rank1&gt;0かつrank2&lt;=0，rank1-rank2&gt;B：rank1&gt;0かつrank2&lt;=0，rank1-rank2&lt;=C：A,B以外の場合2節で述べたように，確信度付与の目的は，コーディング結果のすべてに対して再チェックを行う熟練コーダの作業量を削減するためである．したがって，特に，人手によるコーディングを不要とする確信度Aに注目する必要があり，確信度Aが付与された事例のカバー率（確信度が付与された評価事例数を評価事例数で割った値）が高いことが望ましい．しかし，この場合の正解率（正解した評価事例数を評価事例数で割った値）も，熟練コーダが作業不要であることを納得する程度に高い値である必要がある．このように，確信度Aにおいては，正解率とカバー率はいずれも高い値である必要があるが，両者はトレードオフの関係がある．本システムでは，職業・産業コーディングの目的が研究のための基礎データを提供するものであることから，カバー率を考慮しながらも正解率を優先し，その値を熟練コーダの要望にしたがって95%以上とした．なお，本稿では，「正解」を最終的に決定されたコードとするため，本稿における正解率は最終コードとの一致率である．閾値を決定するために，SSM職業コードについて2005SSM調査データセット（16,083事例）を用いた3分割交差検定による実験を行った．図~は，閾値を1から4まで変化させたときの確信度Aにおける正解率とカバー率の状況を示したものである．X軸が，Y軸が正解率とカバー率を示す．図~より，正解率が95%以上であるのは，=3と=4の場合である．両者を比較すると，=4の方が正解率が97.5%と高いが，カバー率が約10%と低く，=3では，=4の場合より正解率は1.7ポイント劣るが，カバー率は18.2ポイント向上して28.9%となる．これより，本システムでは最適な閾値として=3を選択した．実際には，確信度は上記の目的だけでなく，一般コーダが自動コーディングの結果を参考にする際の判断基準としても利用されるようになったため，確信度Aだけでなく，確信度Bや確信度Cについても，妥当性を調査しておく必要が生じた．確信度を一般コーダの判断基準として用いるためには，カバー率ではなく正解率に注目する必要がある．前述の実験において閾値=3とした場合，確信度Bの正解率は71.9%（カバー率は47.8%），確信度Cの正解率は35.8%（カバー率23.3%）であった．これより，=3は，確信度B,確信度Cに対しても妥当な閾値であると判断した．</subsection>
  <section title="システムの評価">一般コーダの正解率は，コーダやデータの違いにより差があるが，記録が残されている6つの調査（SSM職業コード）においては68.8%から80.0%で，平均は約75%であった．コーダに対する有効な支援を行うにはこの値を上回る必要があるため，本システムにおける正解率の目標を，いずれのコードも80%に設定する．また，確信度ごとの正解率は，確信度Aでは95%，確信度Bでは一般コーダの平均値75%を目標とする．システムの評価実験では，まず，コードの種類ごとの正解率と確信度付与の有効性を報告した後，処理時間についても報告する（実験1）．次に，視点を変え，実際に本システムを利用する社会階層分野の研究者による評価について簡単に報告する（実験2）．</section>
  <subsection title="実験 1">実験は現実の場面を想定し，交差検定ではなく，評価事例を訓練事例より新しいデータセットや別の調査により収集されたものを用いた（表~参照）．その際，4種類のコード間における結果を比較するため，すべてのコードが付与された「本人現職」を用いた．「本人現職」は社会学においてもっともよく用いられる変数であるが，新しい仕事内容が新しい用語により表現されるケースが多いため，他の場合（「本人初職」や「父職」など）より正解率が低い傾向がある．</subsection>
  <subsubsection title="正解率">コードの種類別の正解率（第3位に予測されたコードまで含む）を表~に示す．表中，ISCO*とISIC*は，SVMの素性としてルールベース手法による結果ではなく，過去の調査等ですでに付与されたSSMコードを用いた場合を表す（以下，同様である）．SSMコードでは，2種類の評価事例のいずれにおいても，職業コードは約80%，産業コードは約90%で目標値に達しており，安定している．ISCOやISICは，SSM職業コードやSSM産業コードよりそれぞれ約8ポイント，約10ポイント低いが，ISICは目標値に達している．また，ISCOやISICにおいてすでに付与されたSSMコードを利用した場合は，いずれもこの値より約5ポイントずつ高く，付与ずみのSSMコードを利用することは有効である．ただし，ISCOはこの場合も目標値に達しておらず，SSM職業コードより約4ポイント低い．ISCOやISICの正解率ががSSMコードより低い理由としては，分類クラスの数が多く困難なタスクであることと，訓練事例として用いられるデータの蓄積が不足していることが考えられる．</subsubsection>
  <subsubsection title="確信度の有効性">表~に，確信度別の正解率とカバー率（カッコ内）をコードの種類ごとに示す．確信度は第1位に予測されたコードに対するものである．表~において，SSMコードの値は2種類の評価事例の平均である．表~より，確信度Aが付与された事例の正解率は，ISIC(94%)を除くすべてのコードで目標値(95%)を上回っているため，有効であると判断できる．特にISCOでは，第1位の正解率は60%未満で，第3位までを含めても70%（表~参照）と低いが，確信度Aが付与された事例については96%と高い値であった．一方，カバー率は，SSMコードは約30%であるのに対し，ISCOは5%，ISICも1%と非常に低く，有用性の点で問題がある．今後，ISCOとISICは訓練サイズの増大による正解率の向上が期待できるが，カバー率についても向上させる必要がある．確信度Bと確信度Cにおける正解率は，それぞれ70%から97%と28%から67%で，確信度Aに比較するといずれもバラツキが大きい．確信度Bは，国内・国際職業コードのいずれも目標値(75%)をやや下回ったが，一般コーダの正解率の範囲内である．確信度Bがもっとも高いISIC(92%)は，確信度Aがもっとも低く，両者の差が2%しかない上に，確信度Cにおける正解率も比較的高い．これはSSM産業コードにおいても同様の傾向である．職業コードでは，確信度A,確信度B,確信度Cがそれぞれ95%，70%台，30%で安定していることと対照的である．いずれにしても，すべてのコードにおいて，任意の確信度の最低値は下位の確信度の最高値より高く，3つの確信度は信頼性の程度を明確に区別する．以上より，本システムにおける確信度は，自動コーディング後の人手の要・不要の程度を表す指標として有効であるといえる．最後に，表~の状況を確信度別に調査した結果を，表~（確信度A），表~（確信度B），表~（確信度C）に示す．カッコ内の数値は全体に占める割合である．表~，表~，表~より，本システムで正解であった事例について，ルールベース手法における正解・不正解の比率を調査すると，確信度Aでは約80倍でもっとも高く，確信度Bで約2.7倍，確信度Cで約0.7倍と，確信度のレベルが下がるにつれて大きく低下した．また，ルールベース手法で正解であった事例が本システムにおいても正解となる割合を確信度別に調査すると，それぞれ約100%，98%，91%で，確信度のレベルが高いほど高かった．</subsubsection>
  <subsubsection title="処理時間">処理時間は，PCの性能や訓練事例，評価事例のサイズにより異なるが，評価事例がJGSS-2006データセットの場合，STEP１からSTEP６にそれぞれ0分，7分，34分，7分，13分，2分（計63分）を要した．1事例当たり，約1.7秒かかる計算となる．本システムで1度に処理できる事例数は最大5,000であり，これより大きなサイズのデータセットの場合は数回に分けて処理する必要がある．5,000事例の場合，1回の処理時間は約2時間半弱である．</subsubsection>
  <subsection title="実験 2">SSM調査のような大規模プロジェクトによる調査では，自動コーディングの結果が得られても，従来通り一般コーダによるコーディングを実施し，その後に熟練コーダによる再チェックを行うことが可能である．しかし，多くの調査では，コーディング作業にこのような労力や時間ををかけることは困難である．また，実際の分析においては，研究の目的に応じ，類似した性質をもつ小分類コードは大分類にまとめて扱う場合が多いため，この大分類レベルで正解であれば問題はない．例えば，本システムの利用が多い社会階層分野でも，職業威信スコアを用いる研究を除くと，大分類にまとめたものを分析する場合が多い．このため，自動コーディングの性能が高まるにつれ，この結果をそのまま利用できるのではないかと考える研究者も出てきた．そこで，本システムの利用者である社会階層分野の研究者の立場から，自動コーディングの結果をそのまま利用した場合の有効性と問題点についての検討を開始した．本稿では，SSM職業コードを対象に，第1位に予測されたコードの正解率や確信度について報告する．実験2では，実験1で用いた訓練事例（表~参照）に，JGSS-2006,JGSS-2008,JGSS-2010データセットを加えた計49,795事例を訓練事例とした．評価事例は，東京大学社会科学研究所が実施する「働き方とライフスタイルの変化に関する全国調査」（若年・壮年パネル調査；）の第1波のうち，本システムを利用するための項目を満たす3,619事例を用いた．前述したように，職業威信研究では小分類コードを用いることと，実験2における訓練事例と評価事例はいずれも実験1と異なるため，まず小分類コードの結果を報告し，次に，大分類にまとめた場合の結果を報告する．以下では，すべて第1位に予測されたコードを対象とする．</subsection>
  <subsubsection title="小分類コードにおける正解率と確信度">正解率は67.1%で，表~に示した実験1の結果(70.2%)と比較すると，訓練事例のサイズが増大したにもかかわらず約3ポイント低かった．この理由として，実験2は実験1と異なり，評価事例が訓練事例とは性質が大きく異なる調査により収集されたデータセットであることと，パネル調査のため，第2波以降に得られた情報により正解が修正された可能性があることが考えられる．ただし，第3位に予測されたコードまで含むと，正解率は79.0%となり，実験1の結果(78.8%)をやや上回っており，本システムの頑強性が確認できた．表~に，正解コードの出現度数が全体の1%（頻度35）以上であるコードのうち，正解率が50%以下のものを示す．「557」や労務が含まれる点は，実験1の結果（表~参照）と類似する．全体に及ぼす影響の大きさから，不正解の事例数が多いコードを調査した．10位までのコードを表~に示す．実験2においても実験1（表~参照）と同様，「554」や「557」を他のコードに間違う場合が多い．次に，確信度ごとの正解率とカバー率（カッコ内）を表~に示す．いずれの確信度も実験1の結果（表~参照）を上回っている．特に，確信度Aが付与された事例では正解率が97.8%に達しており，ここでも確信度Aの有効性が確認された．これより，「確信度Aが付与された場合は人手によるコーディングは不要」と主張することに一定の説得力があるといえる．ただし，確信度Aが付与された事例が全体の14%と低いことは，有効性の点からは問題である．確信度Bの正解率は76.4%で，一般コーダの平均を約1.5ポイント上回っている．このため，確信度AまたはBが付与された事例については，自動コーディングの結果をそのまま利用しても大きな支障はないと考えられる．この場合のカバー率は合計で約66%となる．確信度Cの正解率は40.2%と低いため，そのまま利用することは危険で，人手によるチェックが必要である．</subsubsection>
  <subsubsection title="大分類に合併後の正解率と確信度">国内の階層研究において実際に分析が行われる場合，表~に示す大分類が用いられることはほとんどなく，表~に示すものが用いられることが多い．また，分析の目的によっては，小分類コードを表~に示す大分類に変換し，さらに表~に近い8つのカテゴリ（「専門・技術職」「管理職」「事務職」「販売職」「サービス職」「生産現場・技能職」「運輸・保安職」「農林」）に合併することもしばしばある．このカテゴリは小分類コードと自然な対応関係にあり，両者の比較がもっとも容易に行えるため，ここでは，これを大分類として扱う．表~に，小分類コードの正解率を大分類別に平均した値と，大分類に合併したときの正解率を比較した結果を示す．表中，確信度Aのカバー率の平均とは，注目する正解コードにおいて確信度Aが付与された事例がその正解コードの全事例に占める割合を大分類別に平均した値である．大分類に合併すると，正解率の平均は67.1%から79.9%に上昇し，特に「生産現場・技能職」の上昇幅は約24ポイントと大きい．「運輸・保安職」の上昇幅は約4ポイントであるが，確信度Aのカバー率は34%と高い．逆に，「管理職」では小分類でも大分類合併後でも60%未満で低く，また確信度Aのカバー率も0%である．これより，「管理職」が付与されたコードをそのまま用いるのは危険であり，コーダも十分に注意する必要がある．ただし，管理職の出現率は0.8%で，全体に及ぼす影響は大きくない．また，「事務職」と「販売職」も小分類での正解率が70%未満と低く，大分類合併後も80%に達していない．これら3つに共通する特徴として，職務が明確に限定されていない職業を多く含むことが挙げられる．これは，資格との対応や必要な技能および職務が明確な「専門・技術職」の正解率が小分類でも高く，大分類合併後にもっとも高くなることと対照的である．表~に，大分類に合併後の正解率を確信度ごとに示す．小分類レベル（表~参照）と比較すると，大分類合併後は，いずれの確信度も正解率が上昇し，特に確信度Bでは10ポイント，確信度Cでは20ポイント以上上昇する．大分類に合併すると，確信度AまたはBが付与された事例の正解率は十分に高い値となるため，自動コーディングの結果をそのまま利用することが可能である．</subsubsection>
  <section title="システムの利用方法">最後に，本システムの利用方法について述べる．利用者は，3.3節で述べた所定の形式の入力ファイルを準備し，CSRDAのWebサイトを通じて図~に示す(1)〜(4)の手続きを行えば，自動コーディングの結果を得ることができる．図~において，［CSRDA］自動化システムによる処理とは，運用担当者が行う次の2つである．システムを稼働させて図~に示す操作画面を表示させ，図~に示すように，指定場所に置かれた入力データファイルと利用者から希望のあったコードを指定する本システムが出力した結果ファイルを指定場所に置くなお，CSRDAでは，セキュリティの点から，システム運用担当者は利用者からの入力ファイルをe-mail等では受けとらず，オンラインストレージ構築パッケージ(Proself)を介する仕組みとしている．</section>
  <section title="関連研究">ここでは，韓国と米国における自動化システムについて述べる．本システムとの大きな違いは，いずれも社会学の研究支援が目的ではなく，職業や産業コードそれ自体が分析に用いられる変数ではないこと，また，自動化のアルゴリズムに機械学習を適用していないことである．韓国では，2008年に大韓民国統計庁においてWeb-basedAIOCS(AWeb-basedAutomatedSystemforIndustryandOccupationCoding)が開発された．Web-basedAIOCSは，ISCOやISICに由来する韓国独自の職業コード（442個）や産業コード（450個）への変換を行う．自動化のアルゴリズムは，文献を参考にしながらも，処理時間の問題からSVMは用いずに，ルールベース手法，最大エントロピー法(MEM)，情報検索技術(IRT)の3種類を単独または後の2つをルールベース手法と組み合わせた計6種類が提案されている．この中で正解率が最も高いのは，ルールベース手法，MEM,IRTをこの順に実行する方法で76%である．利用方法は一問一答方式で，Webサイト上に，会社名（自由回答），ビジネスカテゴリ，部門，役職，仕事の内容（自由回答）を入力すると，同一画面に結果が表示される．Web-basedAIOCSにおける入力データは本システムと類似するが，ファイルによる入出力については不明で，利用も統計庁内部に限定され，一般に公開されていない．米国では，これまでCDC（CentersforDiseaseControlandPrevention；米国疾病予防管理センター）のWebサイト上に，単語のマッチングを主とするSOIC(StandardizedOccupation&amp;IndustryCoding)システムを公開し，利用者自身がソフトウェアをダウンロードして処理を行っていた．SOICは1990年のセンサス・コードに変換するもので，正解率は，職業コード75%，産業コード76%で，職業コードと産業コードの両方では63%であった．CDCでは，2000年以降のセンサス・コードに対応するため，2013年にSOICを含むNIOCCS(TheNIOSHIndustry&amp;OccupationComputerizedCodingSystem)を構築した．NIOCCSにおける入力データは，職業や産業を記述したテキストのみで，これは本システムにおける自由回答部分に該当する．自動化のアルゴリズムはルールベース手法で，単語だけでなく知識についてもデータベース化したものとのマッチングを行う．知識の表現形式についての説明はないが，本システムにおけるルールによる処理に該当すると考えられる．ただし，本システムではルールで決定されたコードをチェックするルールが存在するのに対し，NIOCCSにはこれに該当するものがないため，「従業上の地位」や「役職」「従業先の事業規模」も参照して総合的かつ慎重な判断を必要とする社会学研究のためには厳密さに欠ける．NIOCCSにおいても，本システムにおける確信度と同様に，自動コーディングの結果に3段階(High,Medium,Low)の信頼度を付与するが，機械学習を適用しないため，その算出方法が本システムと異なることは明らかである．NIOCCSでは一問一答方式とファイルによる入出力が可能である．SOICと異なり，利用者はシステムをダウンロードせずに，NIOCCSのアカウントを取得した上で処理を依頼する点は本システムと共通するが，マッチングを行うデータベースを2000年，2002年，2010年の中から選択できる機能は本システムにはないものである．本システムでは，同一コード体系内におけるさまざまな版（例えば，SSM職業コードにおいて700番台や800番台のコードを含む／含まないなど）に対応するルールや訓練事例を複数種類用意し，利用者の希望に応じて版を選択できる機能の追加を予定している．</section>
  <section title="おわりに">本稿では，社会学で活用されている職業・産業コーディング自動化システムについて，現在，CSRDAのWebから試行提供されているシステムを中心に，運用・利用方法も含めて述べた．本システムは，国内／国際標準の計4種類の職業・産業コードへの変換を行うが，社会学において重要な職業コードの正解率は，第3位に予測されたものまで含め，国内標準コードで約80%，国際標準では70%〜75%であり，正解率の向上が今後の大きな課題である．このため，もっとも利用の多い国内標準コードについて，誤り分析の結果に基づき，ルールベース手法におけるルールやシソーラスの見直しを行っている．また，SVMで用いられる訓練事例の正解の見直しも開始した．さらに，訓練事例のサイズを拡大するため，2015SSM調査における職業コーディングの最終結果が決定された時点で，これを正解付き事例として追加する予定である．正解率は全体では満足できる程度に高くないが，確信度Aが付与された場合は，職業・産業のすべてのコードにおいて，評価事例に関係なく94%以上（平均97%）で，確信度Aを付与する有効性が確認できた．ただし，この場合のカバー率は1%〜32%と低いため，カバー率の向上が今後の課題である．確信度Bや確信度Cが付与された場合の正解率はそれぞれ70%〜97%（平均79%），28%〜67%（平均42%）で，国内・国際に関係なく産業コードは職業コードを上回った．社会学研究者がもっともよく利用するSSM職業コードについて，実際の利用状況を想定した大分類レベルに合併すると，正解率は第1位に予測されたもので約80%となり，確信度Aが付与された場合は99%となった．また，確信度B,確信度Cが付与された場合の正解率もそれぞれ87%，62%となった．これより，確信度Cが付与されない事例は，本システムの結果をそのまま利用できる可能性がある．今後は，別の種類の大分類に合併した場合についても同様の調査を行った後，より高度な分析として多変量解析に利用された場合についても調査する予定である．国内の社会学において用いられる職業・産業コードは，今後の社会変動に伴い，さらなる改変が予想される．これは，個々のコードレベルにとどまらず，コード体系が変更される可能性もある．実際，SSM職業コードでは，すでにISCOに倣った4桁の階層的なコード体系が提案されている．また，SSM産業コードも，2015SSM調査では，ISICとの関係を重視し，これまでの大分類コードから中分類コードに変更された．さらに，ISCOについても，近い将来，本システムで用いたISCO-88（1988年版）からISCO-08（2008年版）に移行することが予想され，この動きはISICにおいても同様であると思われる．このような状況の中で，新規のコードまたはコード体系が現行のものと単純な対応関係にある場合は問題ないが，そうでない場合には次のような対応を行う予定である．まず，コード体系が変更されずに新規のコードが追加される場合は，必要に応じてコードを決定するルールや訓練事例の正解を修正する．その際，どの新規コードを用いるかが調査により異なる可能性がある場合には，さまざまな版を用意し，利用者の希望に応じて選択できる機能が必要である．本機能は，現在開発中である．次に，コード体系が新しく変更される場合は，これに対応する正解付きの事例を蓄積し，新規の訓練事例を生成する必要がある．職業・産業コーディングは，大規模調査が終了するたびに正解付きの事例が大量に得られるという利点があるため，この事例から訓練事例を容易に生成することができる機能があれば，迅速な対応が可能になる．本機能はほぼ完成しており，本システムへの追加を予定している．</section>
</root>
