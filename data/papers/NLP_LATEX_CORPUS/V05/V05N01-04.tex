



\documentstyle[graphicx,jnlpbbl]{jnlp_j_b5_2e}

\def\arraystretch{}
\setcounter{page}{59}
\setcounter{巻数}{5}
\setcounter{号数}{1}
\setcounter{年}{1998}
\setcounter{月}{1}
\受付{1997}{5}{1}
\再受付{1997}{6}{27}
\再々受付{1997}{9}{17}
\採録{1997}{10}{24}

\setcounter{secnumdepth}{2}

\title{セグメントの分割と統合による文章の構造解析}
\author{田村 直良\affiref{YNU} \and 和田 啓二\affiref{IBM}}

\headauthor{田村 直良・和田 啓二}
\headtitle{セグメントの分割と統合による文章の構造解析}

\affilabel{YNU}{横浜国立大学教育人間科学部 情報認知システム講座}
{Department of Information and Cognition Systems, Faculty of Education and Human Science, Yokohama National University}
\affilabel{IBM}{日本IBM株式会社 ネットワーク・サービス事業部}
{Network Services, IBM Japan,Ltd.}

\jabstract{
本研究では，論説文の文章構造についてモデル化し，それに基づいた文章解析手
法について論じる．
\indent
近年のインターネットや，電子媒体の発達などにより大量の電子化された文書が
個人の周囲にあふれてきているが，大量の文書を高速に処理するためには，記述
されている領域に依存した知識を前提とせず，なるべく深い意味解析に立ち入ら
ない「表層的」な処理により行なうことが求められる．
\indent
ここで提案する手法での構造化は，文末の表層的な情報によるモダリティの解析
に依る．これを基に文章の論説モデルを定義する．
\indent
文章解析のトップダウン的アプローチとしては，文章のセグメンテーションの手
法を応用し，評価関数の値の大きい箇所から分割していく．文章解析のボトムアッ
プ的アプローチとしては，修辞関係に着目したセグメント統合により隣接してい
て関係が強いところから統合していく．ここで提案する手法は，構造木の葉に近
い部分をボトムアップ的解析で，根に近い部分をトップダウン的解析で処理する
ことにより，一方の欠点を他方の利点で補う効果的なものである．
\indent
本研究のような対象においては，解析結果を正解と不正解の２値に分けてしまう
のでは評価としては不十分であり，正解に近いものはそれなりに評価してやる必
要がある．これについて，構造木の根に近い部分は形式段落の位置に基づく客観
的評価，葉に近い部分は人間が解析したものとの比較，全体的な構造に対しては
個々の解析結果を人間が検討することにより本手法の評価を行う．
}

\jkeywords{文脈解析，文章構造，セグメンテーション，修辞構造，分割，統合}

\etitle{Text Structuring by Composition\\ and Decomposition of Segments}
\eauthor{Naoyoshi Tamura \affiref{YNU} \and Keiji Wada \affiref{IBM}} 

\eabstract{
In this paper, we present a structure model for editorial texts and
discuss a text analysis method based on the model.
\indent
A large amount of digitalized documents flow through the media of the
INTERNET, CD-ROMs and so on even for personal surroundings.  In order to
proceed such documents at high speed, the process should be as
``superficial'' as possible and any specialized knowledge should be
required as little as possible.
\indent
The structuring in our method relies on the analysis of modalities which
appear superficially at the tail of Japanese sentences.  We define the
text structure model of editorials.
\indent
As a top-down approach for text analysis, we apply a text segmentation
method, in which a text is incrementally divided according to the the
evaluation function.  As a bottom-up approach, based on the rhetorical
relation between two neighboring segments, the segments are composed to
one according to the strength of the relation.  Our approach emploies
only the merits of the two, that is, the leaves of a structure tree are
analyzed in a bottom-up manner whereas nodes around the root are
decomposed in a top-down manner.
\indent
For the evaluation, we discuss our method from three points of view:
(1)objectively agreements checking between formal paragraphs and the
upper part around the root of structure trees, (2) agreements checking
of the lower part around leaves of trees between human and our method,
and (3) human checking of structures generated by our method.
}

\ekeywords{context analysis, text structure, segmentation,
rhetorical structure,\\composition, decomposition}

\begin{document}

\thispagestyle{myheadings}
\maketitle


\section{はじめに}

本研究では，論説文の文章構造についてモデル化し，それに基づいた文章解析に
ついて論じる．

近年のインターネットや，電子媒体の発達などにより大量の電子化された文書が
個人の周囲にあふれてきており，文書理解，自動要約等，これらを自動的に処理
する手法の必要性が増している．文章の構造化はそれらの処理の前提となる過程
であるが，人間がその作業を行なう場合を思えば容易に分かるように，元来非常
に知的な処理である．しかし，大量の文書を高速に処理するためには，記述され
ている領域に依存した知識を前提とせず，なるべく深い意味解析に立ち入らない
「表層的」な処理により行なうことが求められる．

文末表現から文章構造を組み立てる手法，表層的な表現から構造化する手法，ま
た，テキスト・セグメンテーションの手法もいくつか提案されているが，画一的
な観点からの文章の構造化では，大域的構造，局所的構造，両者をともに良好に
解析する手法は少ない．

我々の手法では，トップダウン的解析とボトムアップ的解析の双方の利点を活か
し，文章の木構造を根から葉の方向へ，葉から根の方向へと同時に生成していく．
これらのアルゴリズムは，相互に再帰的な二つのモジュールにより構成されてい
る．

我々の目的は，Shankらに代表されるような「深い意味解析」が必要な談話理解
過程を論じるものではない．むしろ，文章における結束関係\cite{Halliday:76}
や連接関係の理解過程のモデル化を目標としている．この分野の研究については，
たとえば\cite{Abe:94}にサーベイされている．なかでも，目的と手法が似てい
るものは，\cite{Dahlgren:88,Dahlgren:89}のCRA(coherence relation
assignment)アルゴリズムであろう．しかし，彼女らの手法は局所的構造と大域
的構造を別々に作るようである．

日本語の文章の連接関係の解析では，\cite{Fukumoto:91,Fukumoto:92}や，
\cite{Kurohashi:94}などがあり，文末の表現や表層的な情報により文章の構造
化を試みているが，局所的な解析には適した手法だが，大域的には十分な解析精
度は得にくいと思われる．

以下，第２章では前提となる文章構造のモデルを提案し，第３章ではトップダウ
ン的解析アプローチについて，第４章ではボトムアップ的解析アプローチについ
て述べ，第５章で両者を融合した解析手法について説明する．最後に第６章で実
験結果と本手法についての評価を述べる．

\section{文章の論説モデル}

\subsection{文末表現と論説文の構造}

\subsubsection{文のタイプ}

日本語の文は，客体的な出来事や事柄を表す部分と，それに対する筆者／話し手
の立場からの把握の仕方（言表事態めあてのモダリティ），発話・伝達的態度の
有り方を示す部分（発話・伝達のモダリティ）から成り立っている
\cite{Nitta:91}．我々は，モダリティが文末の述語を表層的に分類することに
よりある程度解析できることに着目し，\cite{Fukumoto:91}に基づいて分類する．
文のタイプの分類としては，福本らの分類を小分類として用いるが，さらにこれ
らを「意見」，「断定」，「叙述」の３つに大分類する．本研究ではこれを利用
することにより論説文の構造の解析を行なう．

以下に文のタイプを示す．
\begin{description}
 \item[意見] 筆者の願望や疑問などの意見が含まれる文\\
	これらは仁田\cite{Nitta:91}における発話・伝達のモダリティ
	のうち，表出，働き掛け，問い掛けにあたる．
\begin{center}
\begin{tabular}{lll}
 意見 & 問掛 & 要望 \\
 \end{tabular}
\end{center}
 \item[断定] 筆者の判断が含まれる文\\
	これらは仁田\cite{Nitta:91}における発話・伝達のモダリティのうち
	述べ立てにあたり，
	また言表事態めあてのモダリティのうち判断・推量をとる．
 \begin{center}
  \begin{tabular}{llll}
  断定 & 推量 & 理由 & 判断\\
\end{tabular}
\end{center}

 \item[叙述] 事実を述べている文\\
	これらは仁田\cite{Nitta:91}における発話・伝達のモダリティのうち，
	述べ立て（現象描写文）である．
\begin{center}
 \begin{tabular}{lllll}
  叙述 & 可能 & 伝聞 & 様態 & 存在 \\
  継続 & 状態 & 使役 & 例示 \\
  \end{tabular}
\end{center}
\end{description}

小分類個々を実際にどう分類するかについては，\cite{Fukumoto:91}を参照さ
れたい．

\subsubsection{文のタイプと論説文構造の特性}

上記の分類に基づき，文のタイプと文章中の出現位置の関係を調べた．図
\ref{bunpu}は文の位置と各文のタイプの出現頻度の関係を，304個の社説
\footnote{日本経済新聞94年1月から6月までの社説}について調べた結果である．
各文章はそれぞれ文数が異なるので，文の位置は0〜1に規格化してある．

\begin{figure}[htbp]
\begin{center}
\includegraphics{bunpu.ps}
\caption{各タイプの文の出現頻度}\label{bunpu}
\end{center}
\end{figure}

「意見」は，文章の$3/4$以降で出現頻度が増加し始めているが，それ以前では
ほとんど一定である．「叙述」は，文章の開始部で際だって頻出し，中間部では
ほぼ一定，終了部で頻度が低下している．「断定」は，文章全体に現れるが，終
了部でわずかに減少する．

これによると，論説文(新聞の社説)では，論旨の展開の構造があり，少なくとも
３つの部分に分割される．さらに，このうちの中間の部分も構造化されることが
予想される．


\subsection{論説文の修辞レベル}

本研究では，論説文の構成を図\ref{model}のように考える．この階層的な文章
構造の構築を目標に，文章の解析手法を考える．文章の修辞レベルとは，以下の
通りである．
\begin{itemize}

 \item 論証レベル：論説文章の最上位のレベルである．ここのレベルの構造は，
       固定的に「導入」，「展開」，「結論」をノードとして，これ以下の構
       造を統括する．

 \item 話題レベル：このレベルでは，名詞の分布，連鎖に着目した話題の構造，
       および議論の展開構造における一まとまりの話題を扱う．

\item 思考レベル：\hspace{2mm}\cite{Ono:89}\hspace{2mm}を参考に，思考レベル，言明レベルを導入す
      る．これらの構造は，修辞構造理論\cite{Mann:87:a}に基づいており，言
      明間の関係，およびそうして関係付けられたものの間の関係を表す．表
      \ref{rheto}に分類を表す．表中で，n，n1，n2は核(nucleus)を，sは衛星
      (satellite)を表わす．「n ← s」，「s → n」等はそれぞれ前文が核，
      後文が衛星，あるいは前文が衛星，後文が核であることを表す．

 \item 言明レベル：一つの話題，筆者の一つの言明を表現した構造で，ノード
       は，一文あるいは言明レベルの修辞関係(表\ref{rheto}参照)に対応する．
       各文は，命題とモダリティに相当する文末情報からなるとするが，本研
       究では，命題部分からは名詞の出現を，文末部分からは文のタイプのみ
       を扱う．

\end{itemize}
\begin{figure}[htbp]
\begin{center}
\includegraphics[scale=1.0,clip]{ronsi_model.eps}
\caption{論説文の修辞レベル}\label{model}
\end{center}
\end{figure}

\begin{table}[htb]
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}\hline
\multicolumn{5}{|c|}{思考レベル} &  言明レベル \\ \hline
\multicolumn{3}{|c|}{直列型} & 並列型 & 転換型 & \\ \hline
n1 → n2 & n ← s & s → n & n1 → n2 & n1 → n2 & n ← s \\ \hline
順接 & 添加 & 条件 & 並列 & 転換 & 説明 \\
逆接 &      & 結論 & 選択 &      & 強調 \\
換言 &      & 一般化 & 対比 &    & 例示 \\
     &      & 相反 &      &      & \\
     &      & 提起 &      &      & \\
     &      & 根拠 &      &      & \\
     &      & 因果 &      &      & \\  \hline
\end{tabular}
\end{center}
\caption{修辞関係の分類}\label{rheto}
\end{table}

\section{文章解析のトップダウン的アプローチ} \label{top1}

\subsection{文章のセグメンテーションの手法とトップダウン的構造化} \label{top2}

望月ら\cite{Mochiduki:96}のテキスト・セグメンテーションの手法は，
文章中のすべての文と文の境界について
種々の観点から設定したパラメタを観測し，
\begin{equation}
\hat{y} = a_o + a_1x_1 +a_2x_2 + \cdots + a_px_p \label{siki}
\end{equation}
\[ (x_i:パラメタiの点数，a_i:パラメタiの重み) \]
なる式で，閾値を越えた\hspace{-0.2mm}$\hat{y}$\hspace{-0.2mm}によりテキスト分割の可
不可を判定するもの
である．パラメタとしては，段落をはさんでの出現する傾向が強いもの／性質，
あるいは段落をまたいでは出現しそうにないもの／性質などを選ぶ（次節参照）．

まず，我々は次のように仮定する．
\begin{description}
\item{\bf 仮定}
\begin{quote}
(\ref{siki})式の評価値は，テキストの「非連続性の強さ」と相関性があ
る．
\end{quote}
\end{description}

この値の大きさをもとに次のアルゴリズムで文章のトップダウン的
構造化を行う．
\begin{description}
\item{\bf 構造化のトップダウン・アルゴリズム}
\begin{enumerate}
\item 文章中のすべての文と文の境界について(\ref{siki})式により評価値を求
      める．
\item 評価値の高い順にセグメントの分割を行い，二分木を作る．
\end{enumerate}
\end{description}

\subsection{セグメンテーションのパラメタ}

望月ら\cite{Mochiduki:96}をもとに，パラメタを以下のような観点から選択
する．パラメタの選択には，有効と思われるものをなるべく多く用意し，訓練
データに対する重回帰分析によりパラメタの重みを決める．なお，形式段落で
あるかどうかは，有力なパラメタの候補であるが，本研究では，訓練の際の正解
として用いている．

\begin{itemize}
 \item 助詞は「は」と「が」の出現 \\着目している境界の前後の文について調
       べる．これにより主題，主語の存在の影響が判定に反映される．
 \item 接続語句の有無 \\接続語句は文間の接続関係を表層的に明示している．
       これにより文間の接続関係の影響が判定に反映される．
 \item 指示語(こそあど)の有無 \\指示語の参照先は同一段落内であることが多
       い．これにより上記性質が判定に反映される．
 \item 時制の情報 \\着目している境界の前後の文の時制の変化について調べる．
       以前の調査\cite{Isoyama:94}によると，過去形となるのは叙述文のみで，
       過去形の叙述文は「導入」に用いられる，など段落に影響する場合があ
       る．
 \item 文のタイプの情報 \\例えば，段落の末尾で著者は意見や断定を行なう傾
       向があるかもしれない．このような性質が判定に反映される．
 \item 名詞の連鎖の情報 \\文章中で，ある名詞は話題に関連してある段落にか
       たよって出現するかもしれない．これにより，同義語
       \footnote{\cite{Hayashi:66}による．}も含めた名詞の連鎖やその切れ
       目の情報を判定に反映させられる．
\end{itemize}

パラメタの一覧を表\ref{juu-param}に示す．なお，「重み」欄は，次節で述
べる訓練の結果得られたパラメタの重みである．重みから接続語句の展開型，
時制，文のタイプの情報（境界の候補の前文が「意見文」であるかどうか）がセ
グメンテーションに大きく影響していることが分かる．
\begin{table}[htb]
  \begin{center}
    \begin{tabular}{|c|l|l||r|} \hline
 パラメタ & 分類	& 抽出方法 & 重み($a_i$)\\
 \hline \hline
      $x_1$ & 助詞	& 前文に「は」が出現なら，1点 & -0.078 \\
      $x_2$ & 	& 「は」が出現なら，1点 & 1.867 \\
      $x_3$ & 	& 前文に「が」が出現なら，1点 & 1.151 \\
      $x_4$ & 	& 「が」が出現なら，1点 & 0.334 \\ \hline
      $x_5$ & 接続	& 文頭に「補足」型が出現なら，1点 & -0.437 \\
      $x_6$ & 語句	& 文頭に「展開」型が出現なら，1点 & -2.039 \\
      $x_7$ & （注１）	& 文頭に「転換」型が出現なら，1点 & (注２) \\ \hline
      $x_8$ & 指示語	& 後文の文頭に「こそあど」型が出現なら，1点 & -0.091 \\ \hline
     $x_9$ & 時制	& 現在$\rightarrow$現在なら，1点 & 3.449 \\
     $x_{10}$ & 	& 現在$\rightarrow$過去なら，1点 & 4.604 \\
     $x_{11}$ & 	& 過去$\rightarrow$現在なら，1点 & 1.407 \\
     $x_{12}$ & 	& 過去$\rightarrow$過去なら，1点 & 2.862 \\ \hline
     $x_{13}$ & 文の	& 叙述$\rightarrow$叙述なら，1点 & 0.481 \\
     $x_{14}$ & タイプ	& 叙述$\rightarrow$断定なら，1点 & 0.224 \\
     $x_{15}$ & 	& 叙述$\rightarrow$意見なら，1点 & 1.643 \\
     $x_{16}$ & 	& 断定$\rightarrow$叙述なら，1点 & -0.519 \\ 
     $x_{17}$ & 	& 断定$\rightarrow$断定なら，1点 & 0.267 \\ 
     $x_{18}$ & 	& 断定$\rightarrow$意見なら，1点 & -0.987 \\ 
     $x_{19}$ & 	& 意見$\rightarrow$叙述なら，1点 & 2.220 \\ 
     $x_{20}$ & 	& 意見$\rightarrow$断定なら，1点 & 2.963 \\ 
     $x_{21}$ & 	& 意見$\rightarrow$意見なら，1点 & 2.250 \\ \hline
     $x_{22}$ & 名詞の	& 連鎖の開始なら，1点加点 & 0.236 \\
     $x_{23}$ & 連鎖	& 前文で連鎖の終了なら，1点加点 & 0.400 \\
     $x_{24}$ & 	& 前文でギャップの開始なら，1点加点 & -0.156 \\
     $x_{25}$ & 	& ギャップの終了なら，1点加点 & -0.048 \\ \hline \hline
	$a_0$ & 定数項  & & -2.522 \\ \hline
    \end{tabular}
  \end{center}
\begin{quote}
\hspace*{1mm}（注１）接続語句の分類については付録Iに示す．\\
\hspace*{1mm}（注２）実際は出現個数が少なく未使用\\
\end{quote}
  \caption {重回帰分析に使用するパラメタ}
  \label{juu-param}
\end{table}


\subsection{パラメタの訓練}

まず，パラメタの重みを決定するが，訓練の十分性をみるために，訓練とセグ
メンテーションの精度の関係を調べる．

訓練では，テキスト中のすべての文と文の境界についてパラメタを評価し，正
解としてその境界が形式段落と一致するときに$y=10$，しないとき$y=-1$を与え
る．

図\ref{kunren}に訓練データの数と，訓練データとは別な２０編の社説に対する
段落検出の精度の関係を示す．別の調査\footnote{1993年，1994年の日本経済新
聞の社説1227編から，一段落あたりの平均の文の数は$2.69$であることがわかっ
た．}から求めた段落内の文の数の平均をもとに，一定の段落の数だけ，評価値
の大きい境界から順に段落として採用する．

実験は，訓練データの数を変えていき，訓練データとは
別の２０編の評価データにより再現率，適合率
\footnote{
\[
\mbox{適合率} = \frac{\mbox{形式段落と一致した境界の数}}{\mbox{プログラムで検出された境界の数}}
\]
\[
\mbox{再現率} = \frac{\mbox{形式段落と一致した境界の数}}{\mbox{形式段落の境界の数}}
\]}
を求めたものである．

以上により訓練は，80編程で十分であることがわかった．

\begin{figure}
\begin{center}
\includegraphics[scale=0.95,clip]{nikkei_2.eps}
\caption{訓練データ数と精度}\label{kunren}
\end{center}
\end{figure}

\section{文章解析のボトムアップ的アプローチ}

\subsection{セグメント統合のアルゴリズム（ボトムアップ的構造化）}

まず，セグメントの統合について述べる．次節以降で述べる「結束性の強さ」に
基づいて，セグメントは次のように統合される．
\begin{description}
 \item {\bf セグメント統合のアルゴリズム}\\
連続する４個のセグメント\hspace{-0.2mm}$S_1$，$S_2$，$S_3$，$S_4$において，
$S_1$と$S_2$，$S_2$と$S_3$，$S_3$と$S_4$\hspace{-0.2mm}の結束性の強さを
それぞれ\hspace{-0.2mm}$R_1$，$R_2$，$R_3$\hspace{-0.2mm}とすると，
       \[
	R_1 < R_2 > R_3
       \]
の場合のみ，セグメント$S_2$と$S_3$を
統合して新しいセグメント$S_{23}$を作る(図\ref{bottomup}参照)．
\end{description}

これにより，文章のボトムアップ的構造化のアルゴリズムは次のように
表される．
\begin{description}
\item{\bf 構造化のボトムアップ・アルゴリズム}\\
文の並びから始めて，「セグメント統合のアルゴリズム」を繰り返し適用し，
セグメントを統合していく．
\end{description}

\begin{figure}[htbp]
\begin{center}
\includegraphics[scale=0.8,clip]{bottomup.ps}
\caption{セグメント統合のアルゴリズム}\label{bottomup}
\end{center}
\end{figure}

\subsection{結束性の良さの指標} \label{tuyosa}

結束関係とは，文章を構成する要素間の意味的な関係をいう\cite{Halliday:76}が，
本研究の範囲からいえば，二つのセグメント間の意味的な関係ということになる．
オリジナルの結束関係では，指示，代用，省略，接続，語彙的結束性があるが，
ここでは，修辞関係の観点から見た「接続」のみ扱う．

また，以下の規則を1から順に適用することにより，「結束性の強さ」という
尺度を導入する．
\begin{enumerate}
 \item 形式段落をまたぐ結び付きより形式段落内の結び付きの方が結束性が強い．
 \item 接続表現のあるものの間の結び付きの方がないものの間より結束性が強い．
 \item 思考レベルの修辞関係より言明レベルの修辞関係の方が結束性が強い．
 \item 思考レベルにおいては並列型，直列型，転換型の順で結束性が強い．
 \item 思考レベル，言明レベルにおいて同型同士ならば先の結合の方が結束性
       が強い．
\end{enumerate}

\subsection{セグメントの隣接関係}

構造化された隣接する二つのセグメント間の修辞関係の同定は，次のような手順
で行なう．

\begin{enumerate}
 \item 右セグメントの左端が形式段落の切れ目で接続表現があれば，それによ
       り同定する．接続表現からの修辞関係同定は，付録Iによる．
 \item セグメントが部分木に統合されている場合，評価は「核優先の仮定」を
       用いて代表する核同士を比較し，付録IIIの表により同定する（後述）．
 \item 接続表現があればそれにより同定する（付録I参照）．
 \item 左右のセグメントが両方とも一文であるならば，
       言明レベルの修辞関係を優先する．
 \item 文のタイプの比較によって同定する（後述）．
 \item デフォルトは``順接''とする．
\end{enumerate}
     
ここで，「核優先の仮定」とは以下である．
\begin{description}
\item{\bf 核優先の仮定}
\begin{quote}
セグメント間の修辞関係を評価するとき，基本的に核だけでそのセグメントの評
価ができる（表\ref{rheto}参照）．ただし，前文と後文が両方とも核になる修
辞関係では，
      \begin{itemize}
       \item 前文が主$\cdots$換言・並列・選択・対比
       \item 後文が主$\cdots$順接・逆接・転換
      \end{itemize}
とする．
\end{quote}
\end{description}

「文のタイプの比較」とは，二文（セグメントの場合は代表する文）のタイプを
比較することにより修辞関係を同定するもので，詳細を付録IIIに示す．この際，
二つのセグメントの境界が形式段落と一致している場合は「形式段落間」，２文
とも形式段落内に存在する場合は「形式段落内」の各項目を参照する．

\section{トップダウン的アプローチとボトムアップ的アプローチの融合}

\subsection{トップダウン（分割） vs. ボトムアップ（統合）}

ここで，トップダウン的なアプローチとボトムアップ的なアプローチについて
比較する．

\begin{description}
\item{\bf トップダウン的アプローチ（セグメント列の分割）}
\begin{itemize}
 \item パラメタにより，(表層的に)明確に指標が現れている箇所ほど早い段
       階で分割が行われている．
 \item 構造木の葉にあたる下部に近付くにつれ，適当でない分割が行なわれる．
       これは評価関数による判定では小さいセグメント列をさらに分割すると
       いう細かい判定まで正しく評価できないことによる．
\end{itemize}
\item{\bf ボトムアップ的アプローチ（セグメントの統合）}
\begin{itemize}
 \item 対象とする構造が小さいほど，結束性の強さや修辞関係は正しく判定さ
       れる．
 \item 反面，大きい構造（セグメント）同士の修辞関係ほど意味的な影響が強
       くなり，判定は困難である．
\end{itemize}
\end{description}

\subsection{両者を融合したアルゴリズム}

本研究で提案する解析アルゴリズムは，前節で述べたトップダウン解析とボトム
アップ解析の良いところのみを採り入れたアルゴリズムで，次の二つの手順から
なる．
\begin{description}
\item{\bf topdown}
\begin{enumerate}
\item 処理範囲が１セグメントなら終了．
\item (\ref{siki})式により，セグメント列において最大の分割箇所を求め，二
      分割する．
\item それぞれのセグメント列を{\bf bottomup} により構造化する．
\end{enumerate}
\item{\bf bottomup}
\begin{enumerate}
\item 処理範囲が１セグメントなら終了．
\item 「セグメント統合のアルゴリズム」に基づき，セグメント列上で統合でき
      るセグメントを検出し，次にそれらを統合する．統合できるセグメントが
      なければ次のステップへ．
\item 得られたセグメント列を{\bf topdown} により構造化する．
\end{enumerate}
\end{description}

解析処理の例を，図\ref{tb_model}に摸式的に示す．
\begin{figure}
\begin{center}
\includegraphics[scale=0.9,clip]{tb_model.eps}
\caption{分割と統合による構造解析}\label{tb_model}
\end{center}
\end{figure}


\section{解析システムと実験}

\subsection{構造木の生成例}

本研究のアルゴリズムに基づいて，付録に示す入力データを解析した結果を
図\ref{tree_example}に示す．
\begin{figure}[htbp]
\baselineskip=12pt
\begin{verbatim}
    [ ]
     |-[ ]
     |  |-[(1,1),順接,(1,2)]
     |  |-順接
     |  |-[ ]
     |     |-[(2,1),並列,(2,2)]
     |     |-結論
     |     |-[[(3,1),転換,(3,2)],逆接,(4,1)]
     |-転換
     |-[ ]
        |-[ ]
        |  |-[ ]
        |  |  |-[ ]
        |  |  |  |-[(5,1),順接,(5,2)]
        |  |  |  |-順接
        |  |  |  |-[(5,3),並列,(5,4)]
        |  |  |-順接
        |  |  |-[(6,1),並列,(6,2)]
        |  |-順接
        |  |-[ ]
        |     |-[ ]
        |     |  |-[(7,1),順接,(7,2)]
        |     |  |-順接
        |     |  |-[[(8,1),順接,(8,2)],順接,(8,3)]
        |     |-順接
        |     |-(9,1)
        |-転換
        |-[ ]
           |-[[(9,2),対比,(9,3)],順接,(10,1)]
           |-結論
           |-[(11,1),転換,(11,2)]
\end{verbatim}
\caption{構造木の生成例}\label{tree_example}
\end{figure}


\subsection{解析結果の評価の方針}

本研究で提案した手法の評価を試みる．評価では，生成された木構造の正確さを
評価するわけだが，正解をどのように設定するのかという点と，正解との多少の
構造のずれをどのように評価に加えるのかという問題がある．

そこで本研究での評価方法としては，
\begin{enumerate}
 \item 根の近辺のみの評価：「構造化のトップダウン・アルゴリズム」と「構
       造化のボトムアップ・アルゴリズム」について，根の近辺の分割が形式
       段落と一致しているかで判定し，両者を比較，
 \item 葉の近辺のみの評価：葉の近辺のセグメントの統合が人間の処理と一致
       しているかで判定．「構造化のトップダウン・アルゴリズム」単独で実
       行した場合とも比較する，
 \item 全体的評価：個々の木の人間による検査，
\end{enumerate}
に分けて評価を行なう．

\subsection{解析結果の評価（根の近辺）}

図\ref{eval1}において再現率(T)，適合率(T)は，「構造化のトップダウン・ア
ルゴリズム」（\ref{top2}節）で，次第に分割を進めていった時に段落の境界に
ついての精度を再現率，適合率により表示したものである\footnote{日本経済新
聞1994年1月1日から1月14日までの社説20編による．}．これによると，「構造化
のトップダウン・アルゴリズム」は，文章全体を５段落に分割するあたりまでは，
６５％以上の適合率で形式段落と一致している．形式段落と一致することが，か
ならずしも意味的なセグメンテーションの正確さを意味するものではないが，形
式段落は著者が一つの区切りとして加えたものであり，客観的な指標として意味
があると考えられる．

再現率(B)，適合率(B)は，「構造化のボトムアップ・アルゴリズム」のみにより
構造化し，根に近い部分から段落分割していったときの精度を示したものである．
一方，「構造化のボトムアップ・アルゴリズム」は，結束性の強さの判定に形式
段落の情報を用いているので，これを用いてセグメンテーションの精度を議論す
ることには問題がある．そのため，再現率(B*)，適合率(B*)は，「構造化のボト
ムアップ・アルゴリズム」で形式段落の情報を利用する部分を削除したものによ
る実験結果を示している．

再現率(B*)は，0.2近辺の値を示している．適合率(B*)は，初期の数回の分割で
は正しい(形式段落と一致した)分割を行っているものの，「構造化のボトムアッ
プ・アルゴリズム」による結果(再現率(B)，適合率(B))と比べて著しく悪い結果
である．つまり，「構造化のボトムアップ・アルゴリズム」のみによる構造化で
は，形式段落の情報がセグメンテーションに寄与してはいるものの，これを差し
引けば文章の全体的な構造化に関しては有意な効果は見られないと言える．なお，
形式段落の情報はセグメントの分割を示す情報であり，これが必ずしもセグメン
トの統合を目的とする「構造化のボトムアップ・アルゴリズム」の動作をコント
ロールしているとは言えないようである．

\begin{figure}
\begin{center}
\includegraphics[scale=0.95,clip]{nikkei_3V3.eps}
\caption{段落の分割数と精度}\label{eval1}
\end{center}
\end{figure}

\subsection{解析結果の評価（葉の近辺）} \label{sec64}

解析結果と人間により生成された構造との比較を行なった(表\ref{kabu})．被験
者７名\footnote{理系の大学４年生と大学院修士課程１年生だが，自然言語処理
に関しては専門的な教育は特に受けていない．}に，文，セグメントの意味的な
結び付きに応じて文章を木構造で表現する方法を教え，木の一段目，つまりどの
二文が一番最初にまとめられるかと，二段目，つまり一段目を含んでそれらがさ
らにどのようにまとめられるかについて，提案の手法による解析結果と比較し，
再現率，適合率を求めた．

使用した文章は，日本経済新聞の社説(1994年1月1日から連続して)３５編で，一
編につき被験者一名，ひとりの被験者が５編ずつを解析した．表中「人間(a)」
とは，３５編の社説について隣接する二文(またはセグメント)を被験者が統合し
た個数の合計を，「計算機(b)」とは，提案の手法により隣接する二文(またはセ
グメント)が統合された個数の合計を表す．また「一致(c)」とは，被験者の統合
と提案の手法による両者が一致した箇所の個数を表す．

再現率，適合率は，以下による．
\[\mbox{再現率}=\frac{(c)}{(a)},
\hspace*{3em}\mbox{適合率} =\frac{(c)}{(b)}\]

表中で，「TB」は，提案の方式によるもの，「T」は，「構造化のトップダウン・
アルゴリズム」単独で解析したものである．

\begin{table}[htb]
\begin{center}
\begin{tabular}{|c|c|r|r|r|r|r|} \hline
&	& 人間(a) & 計算機(b) & 一致(c) & 再現率(％) & 適合率(％) \\
\hline
TB & 一段目 & 306	& 294	& 160	& 52.3	& 54.4 \\
\cline{2-7}
   &  二段目	& 198	& 241	& 47	& 23.7	& 19.5 \\
\hline
T  & 一段目 &    	& 293	& 146	& 47.7	& 49.8 \\
\cline{2-7}
   &  二段目	&    	& 180	& 36	& 18.2	& 20.0 \\
\hline
\end{tabular}
\end{center}
\caption{構造木下部についての検討} \label{kabu}
\end{table}

一段目について再現率，適合率とも５０％程度だが，この実験では，被験者に全
く自由に構造を描かせ，それを本手法による解析結果と比較したものであるので，
評価基準としては厳しいものである．ある程度の許容範囲を設け，結果の特性を
含めることができるような評価手法の検討が課題となる．

「構造化のトップダウン・アルゴリズム」のみによる解析との比較では，前節の
評価結果ほど差がないにせよ，やはり，提案の手法によって精度が向上している
のが分かる．

\subsection{解析結果の評価（全体的評価）}

提案のアルゴリズムにより30編の社説\footnote{日本経済新聞94年1月の社説か
らいくつかを使用} (総段落数323，総文数899)を解析し，生成された木構造を人
間が評価した．全体的な評価は表\ref{kaiseki_kekka}のようになる．ここで，
「解析の誤り」とは，修辞関係の同定誤りとセグメント分割の間違いである．
「許容範囲外」とはセグメントの分割誤りが二つ以上あるか，またはセグメント
の分割誤りが一つで修辞関係同定誤りが一つ以上あるものとした．

人間が見て「誤りがない」とすることができたのは，30編の社説のうちの8編で
あった．これらの文章はどれも相対的に他の文章より短く，セグメントの分割が
より正確だったと考えられる．逆に許容範囲外にあるとするものも11編であった．
これらの文章は相対的に文章自体が長く，セグメントの分割誤りが目立った．

人間の判断による「解析の誤り」について，木構造が明らかに誤りであるとされ
たところが合計31箇所あった．そのうち17箇所は修辞関係の同定誤りによるもの
で，セグメント分割の間違いは14箇所であった．

この実験では，計算機が出力した構造と原文とに対して人間が評価を行なってお
り，\ref{sec64}節の実験のように計算機と人間が独立して解析を行なった後に
一致を調べるという手法とは異なる．人間の判断に明確に違反するものを除き，
人間は計算機の解析結果を見て，計算機による解析結果を許容する方向に影響さ
れ，そのため\ref{sec64}節の実験よりも良好な結果が得られてたものと思われ
る．本研究の応用を人間に代わって大量の文書処理を行なうことにあるとすると，
解析結果を人間が許容できるかどうかは重要であり，表\ref{kaiseki_kekka}の
結果についても意味があると考えられる．

\begin{table}[htb]
  \begin{center}
   \begin{tabular}{|l|r|c|} \hline
    分類     &   数 & 割合（％）\\ \hline
    誤りなし & 8 編 & 26.7 \\ \hline
    許容範囲内 & 11 編 & 36.7 \\ \hline
    許容範囲外 & 11 編 & 36.7\\
    \hline
   \end{tabular}
  \end{center}
 \caption{解析結果の全体評価}
 \label{kaiseki_kekka}
\end{table}


\section{まとめ}

本研究では，論説文の構造を階層化した文章モデルを提案し，これに基づき，テ
キストセグメンテーションの手法を応用したトップダウン構造解析アプローチ，
セグメントを統合していくボトムアップ構造解析アプローチを示した．さらに，
両者の利点を生かすことができる分割と統合による文章解析手法を提案した．ま
た，実験によりこの手法の有効性を確認した．

本手法での構造化は，文末の表層的な情報によるモダリティの解析に依るところ
が大きい．これを基に文章の論説モデルを定義した．文末に現れるモダリティ
は，文のタイプとして扱われ，トップダウン構造化にもボトムアップ構造化にも
利用されていく．

文章解析のトップダウン的アプローチとしては，文章のセグメンテーションの手
法を応用し，評価関数の値の大きい箇所から分割していく．文章解析のボトムアッ
プ的アプローチとしては，修辞関係に着目したセグメント統合により隣接してい
て関係が強いところから統合していく．葉に近い部分をボトムアップ的解析で，
根に近い部分をトップダウン的解析で処理することにより，一方の欠点を他方の
利点で補う効果的な手法となった．

本研究のような対象においては，解析結果を正解と不正解の２値に分けてしまう
のでは評価としては不十分であり，正解に近いものはそれなりに評価してやる必
要がある．これについて，解析木の根に近い部分は形式段落の位置に基づく客観
的評価，葉に近い部分は人間が解析したものとの比較，全体的な構造に対しては
個々の解析結果を人間が検討することにより評価を行った．

今後の課題としては，本手法の応用と拡張がある．どちらも他方の状況を抜きに
考えられないが，本手法の中心的なアルゴリズムは非常に単純であるため，柔軟
に拡張が可能と考えられる．

\acknowledgment

本実験で利用したコーパスは，日本経済新聞CD-ROM '93 〜 '94版から得ている．
同社，および利用に関して尽力された方々に深く感謝します．

査読者氏にはいくつかの有益なご指摘をいただきました．またこれらをきっかけ
に，著者らの気付かなかった解析プログラム中のいくつかのバグが発見されまし
た．ここに感謝します．

また，数々の実験のデータの採集を行なってくれた横浜国立大学工学研究科の
学生比留間正樹君，奈良雅雄君に感謝します．


\nocite{Wada:97}
\nocite{Hiruma:97}
\nocite{Tamura:97}
\bibliographystyle{jnlpbbl}
\bibliography{article,tamlab,book,proceedings}

\vspace{-8mm}
\begin{biography}
\biotitle{略歴}
\bioauthor{田村 直良}{
1985年東京工業大学大学院博士課程情報工学専攻修了，工学博士．
同年東京工業大学大学工学部助手．
1987年横浜国立大学工学部講師，同助教授を経て，
1995年米国オレゴン州立大学客員助教授，
1997年横浜国立大学教育人間科学部教授，現在に至る．
構文解析，文章解析，文章要約などの自然言語処理の研究に従事．
情報処理学会，人工知能学会，言語処理学会各会員
}
\bioauthor{和田 啓二}{
1995年横浜国立大学工学部電子情報工学科卒業．
1997年横浜国立大学大学院工学研究科修了，
その間自然言語処理，知識情報処理の研究に従事．
同年，日本アイ・ビー・エム入社，現在に至る．}

\bioreceived{受付}
\biorevised{再受付}
\biorerevised{再々受付}
\bioaccepted{採録}

\end{biography}

\noindent{\bf\Large 付録I（接続表現の分類）}

\vspace*{1em}
\begin{tabular}{|l|c|l|}
\hline
接続関係の性質 & 接続関係 & 接続表現の例\\
\hline \hline
補足的なもの & 例示 & たとえば, 今回は\\ \cline{2-3}
            & 換言 & いわば, つまり,すなわち\\ \cline{2-3}
            & 強調 & 言うまでもなく,  まして, なおさら\\
            &      & とくに, さらに, とりわけ\\
            &      & もちろん, ただ\\ \cline{2-3}
            & 添加 &しかも, それに, おまけに\\
            &      & なお, もっとも,その上\\ \cline{2-3}
            & 説明 & それは，なぜなら，というのは \\ \hline
展開を与えるもの &逆接 & しかし, 残念ながら, だが\\
                &      & でも, ところが , けれども\\ \cline{2-3}
                & 並列 & また, 同時に\\ \cline{2-3}
                & 選択 & もしくは\\ \cline{2-3}
                & 対比 & いっぽう, これに対し(て) \\ \cline{2-3}
                & 提起 & 問題は, 問題として\\ \cline{2-3}
                & 因果 & その結果, そのため, このため, これでは\\ \cline{2-3}
                & 結論 & したがって, だから, 結局(は)\\ \cline{2-3}
                & 順接 & そして, そこで\\ \cline{2-3}
                & 相反 & それでも, それなのに, それより, むしろ\\ \cline{2-3}
                & 一般化 & このように\\ \cline{2-3}
                & 根拠 & だからこそ, これこそ, それこそ\\ \cline{2-3}
                & 条件 & とすれば\\ \hline
転換を表すもの & 転換 & ところで, さて\\ \hline
\end{tabular}\\

\vspace*{2em}
\noindent{\bf\Large 付録II（原文章）}
{\baselineskip=15pt
\begin{verbatim}

リストラを円滑にする独禁法の運用（日本経済新聞 94年1月8日の社説）

(1,1):企業が思い切ったリストラクチャリング（事業の再構築）を推進しようという場合に，独占禁止法の運用が硬直的で実態に合っていない，という声が産業界から上がっている．
(1,2):企業の合併や，共同投資などを行うときに運用上の規制が細かく，企業の自主性が尊ばれていない，というのである．

(2,1):経団連産業政策部はこの問題を取り上げ，独禁法関連の運用面の規制緩和についての要望を会員から聞き始めた．
(2,2):また，通産省の産業構造審議会総合部会基本問題小委員会はさきにまとめた中間提言で，企業のリストラを支援する視点から独禁政策の見直しが必要だとしている．

(3,1):私たちはかねて不公正な取引やカルテル行為に対して独禁法の厳正な運用を公正取引委員会に強く望んできた．
(3,2):これらに向けた運用強化が必要なことは言うまでもない．

（途中省略）

(10,1):産業界では環境の激変から素材産業を中心に合併のうねりが高まっており，国際化のなかの構造変化への対応策としての合併・事業の再編成は今後も中期的に続きそうである．

(11,1):リストラを円滑にし，競争を促進する視点に立った独禁政策が必要だ．
(11,2):「規制緩和」というこの国の課題から公取委を外す理由は全くない．
\end{verbatim}
}

\vspace*{2em}
\noindent{\bf\Large 付録III（二文のタイプからの修辞関係の同定）}

\vspace*{1em}
\begin{tabular}{|c|c|c||c|c|c|} \hline
\multicolumn{2}{|c|}{隣接する文のタイプ} & 修辞関係 &
\multicolumn{2}{|c|}{隣接する文のタイプ} & 修辞関係 \\
\hline \hline
形 & 意見 → 断定 & 転換 &
   & 叙述 → 意見 & 結論 \\
\cline{2-3}\cline{5-6}
   & 意見 → 意見 & 転換 &
   & 断定 → 推量 & 結論 \\
\cline{2-3}\cline{5-6}
式 & 意見 → 推量 & 転換 &
形 & 断定 → 意見 & 結論 \\
\cline{2-3}\cline{5-6}
   & 意見 → 問掛 & 転換 &
   & 推量 → 意見 & 結論 \\
\cline{2-3}\cline{5-6}
段 & 推量 → 推量 & 転換 &
式 & 叙述 → 問掛 & 結論 \\
\cline{2-3}\cline{5-6}
   & 推量 → 問掛 & 転換 &
   & 叙述 → 推量 & 結論 \\
\cline{2-3}\cline{5-6}
落 & 問掛 → 問掛 & 転換 &
段 & 様態 → 意見 & 結論 \\
\cline{2-3}\cline{5-6}
   & 断定 → 問掛 & 転換 &
   & 意見 → 断定 & 説明 \\
\cline{2-3}\cline{5-6}
間 & 可能 → 叙述 & 転換 &
落 & 推量 → 断定 & 説明 \\
\cline{1-3}\cline{5-6}
\multicolumn{3}{|c||}{} &
   & 叙述 → 叙述 & 説明 \\
\cline{5-6}
\multicolumn{3}{|c||}{} &
内 & 叙述 → 断定 & 説明 \\
\cline{5-6}
\multicolumn{3}{|c||}{} &
   & 問掛 → 断定 & 説明 \\
\cline{5-6}
\multicolumn{3}{|c||}{} &
   & 問掛 → 叙述 & 説明 \\
\cline{5-6}
\multicolumn{3}{|c||}{} &
   & 断定 → 叙述 & 強調 \\
\cline{5-6}
\multicolumn{3}{|c||}{} &
   & 断定 → 伝聞 & 強調 \\
\cline{5-6}
\multicolumn{3}{|c||}{デフォルトは``順接''} &
   & 意見 → 伝聞 & 強調 \\
\hline
\end{tabular}

\end{document}
