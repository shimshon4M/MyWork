<?xml version="1.0" ?>
<root>
  <title>セグメントの分割と統合による文章の構造解析</title>
  <author>田村直良和田啓二</author>
  <jabstract>本研究では，論説文の文章構造についてモデル化し，それに基づいた文章解析手法について論じる．近年のインターネットや，電子媒体の発達などにより大量の電子化された文書が個人の周囲にあふれてきているが，大量の文書を高速に処理するためには，記述されている領域に依存した知識を前提とせず，なるべく深い意味解析に立ち入らない「表層的」な処理により行なうことが求められる．ここで提案する手法での構造化は，文末の表層的な情報によるモダリティの解析に依る．これを基に文章の論説モデルを定義する．文章解析のトップダウン的アプローチとしては，文章のセグメンテーションの手法を応用し，評価関数の値の大きい箇所から分割していく．文章解析のボトムアップ的アプローチとしては，修辞関係に着目したセグメント統合により隣接していて関係が強いところから統合していく．ここで提案する手法は，構造木の葉に近い部分をボトムアップ的解析で，根に近い部分をトップダウン的解析で処理することにより，一方の欠点を他方の利点で補う効果的なものである．本研究のような対象においては，解析結果を正解と不正解の２値に分けてしまうのでは評価としては不十分であり，正解に近いものはそれなりに評価してやる必要がある．これについて，構造木の根に近い部分は形式段落の位置に基づく客観的評価，葉に近い部分は人間が解析したものとの比較，全体的な構造に対しては個々の解析結果を人間が検討することにより本手法の評価を行う．</jabstract>
  <jkeywords>文脈解析，文章構造，セグメンテーション，修辞構造，分割，統合</jkeywords>
  <section title="はじめに">本研究では，論説文の文章構造についてモデル化し，それに基づいた文章解析について論じる．近年のインターネットや，電子媒体の発達などにより大量の電子化された文書が個人の周囲にあふれてきており，文書理解，自動要約等，これらを自動的に処理する手法の必要性が増している．文章の構造化はそれらの処理の前提となる過程であるが，人間がその作業を行なう場合を思えば容易に分かるように，元来非常に知的な処理である．しかし，大量の文書を高速に処理するためには，記述されている領域に依存した知識を前提とせず，なるべく深い意味解析に立ち入らない「表層的」な処理により行なうことが求められる．文末表現から文章構造を組み立てる手法，表層的な表現から構造化する手法，また，テキスト・セグメンテーションの手法もいくつか提案されているが，画一的な観点からの文章の構造化では，大域的構造，局所的構造，両者をともに良好に解析する手法は少ない．我々の手法では，トップダウン的解析とボトムアップ的解析の双方の利点を活かし，文章の木構造を根から葉の方向へ，葉から根の方向へと同時に生成していく．これらのアルゴリズムは，相互に再帰的な二つのモジュールにより構成されている．我々の目的は，Shankらに代表されるような「深い意味解析」が必要な談話理解過程を論じるものではない．むしろ，文章における結束関係や連接関係の理解過程のモデル化を目標としている．この分野の研究については，たとえばにサーベイされている．なかでも，目的と手法が似ているものは，のCRA(coherencerelationassignment)アルゴリズムであろう．しかし，彼女らの手法は局所的構造と大域的構造を別々に作るようである．日本語の文章の連接関係の解析では，や，などがあり，文末の表現や表層的な情報により文章の構造化を試みているが，局所的な解析には適した手法だが，大域的には十分な解析精度は得にくいと思われる．以下，第２章では前提となる文章構造のモデルを提案し，第３章ではトップダウン的解析アプローチについて，第４章ではボトムアップ的解析アプローチについて述べ，第５章で両者を融合した解析手法について説明する．最後に第６章で実験結果と本手法についての評価を述べる．</section>
  <section title="文章の論説モデル"/>
  <subsection title="文末表現と論説文の構造"/>
  <subsubsection title="文のタイプ">日本語の文は，客体的な出来事や事柄を表す部分と，それに対する筆者／話し手の立場からの把握の仕方（言表事態めあてのモダリティ），発話・伝達的態度の有り方を示す部分（発話・伝達のモダリティ）から成り立っている．我々は，モダリティが文末の述語を表層的に分類することによりある程度解析できることに着目し，に基づいて分類する．文のタイプの分類としては，福本らの分類を小分類として用いるが，さらにこれらを「意見」，「断定」，「叙述」の３つに大分類する．本研究ではこれを利用することにより論説文の構造の解析を行なう．以下に文のタイプを示す．小分類個々を実際にどう分類するかについては，を参照されたい．</subsubsection>
  <subsubsection title="文のタイプと論説文構造の特性">上記の分類に基づき，文のタイプと文章中の出現位置の関係を調べた．図は文の位置と各文のタイプの出現頻度の関係を，304個の社説について調べた結果である．各文章はそれぞれ文数が異なるので，文の位置は0〜1に規格化してある．「意見」は，文章の3/4以降で出現頻度が増加し始めているが，それ以前ではほとんど一定である．「叙述」は，文章の開始部で際だって頻出し，中間部ではほぼ一定，終了部で頻度が低下している．「断定」は，文章全体に現れるが，終了部でわずかに減少する．これによると，論説文(新聞の社説)では，論旨の展開の構造があり，少なくとも３つの部分に分割される．さらに，このうちの中間の部分も構造化されることが予想される．</subsubsection>
  <subsection title="論説文の修辞レベル">本研究では，論説文の構成を図のように考える．この階層的な文章構造の構築を目標に，文章の解析手法を考える．文章の修辞レベルとは，以下の通りである．論証レベル：論説文章の最上位のレベルである．ここのレベルの構造は，固定的に「導入」，「展開」，「結論」をノードとして，これ以下の構造を統括する．話題レベル：このレベルでは，名詞の分布，連鎖に着目した話題の構造，および議論の展開構造における一まとまりの話題を扱う．思考レベル：を参考に，思考レベル，言明レベルを導入する．これらの構造は，修辞構造理論に基づいており，言明間の関係，およびそうして関係付けられたものの間の関係を表す．表に分類を表す．表中で，n，n1，n2は核(nucleus)を，sは衛星(satellite)を表わす．「n←s」，「s→n」等はそれぞれ前文が核，後文が衛星，あるいは前文が衛星，後文が核であることを表す．言明レベル：一つの話題，筆者の一つの言明を表現した構造で，ノードは，一文あるいは言明レベルの修辞関係(表参照)に対応する．各文は，命題とモダリティに相当する文末情報からなるとするが，本研究では，命題部分からは名詞の出現を，文末部分からは文のタイプのみを扱う．</subsection>
  <section title="文章解析のトップダウン的アプローチ"/>
  <subsection title="文章のセグメンテーションの手法とトップダウン的構造化">望月らのテキスト・セグメンテーションの手法は，文章中のすべての文と文の境界について種々の観点から設定したパラメタを観測し，[(x_i:パラメタiの点数，a_i:パラメタiの重み)]なる式で，閾値を越えたyによりテキスト分割の可不可を判定するものである．パラメタとしては，段落をはさんでの出現する傾向が強いもの／性質，あるいは段落をまたいでは出現しそうにないもの／性質などを選ぶ（次節参照）．まず，我々は次のように仮定する．この値の大きさをもとに次のアルゴリズムで文章のトップダウン的構造化を行う．</subsection>
  <subsection title="セグメンテーションのパラメタ">望月らをもとに，パラメタを以下のような観点から選択する．パラメタの選択には，有効と思われるものをなるべく多く用意し，訓練データに対する重回帰分析によりパラメタの重みを決める．なお，形式段落であるかどうかは，有力なパラメタの候補であるが，本研究では，訓練の際の正解として用いている．助詞は「は」と「が」の出現着目している境界の前後の文について調べる．これにより主題，主語の存在の影響が判定に反映される．接続語句の有無接続語句は文間の接続関係を表層的に明示している．これにより文間の接続関係の影響が判定に反映される．指示語(こそあど)の有無指示語の参照先は同一段落内であることが多い．これにより上記性質が判定に反映される．時制の情報着目している境界の前後の文の時制の変化について調べる．以前の調査によると，過去形となるのは叙述文のみで，過去形の叙述文は「導入」に用いられる，など段落に影響する場合がある．文のタイプの情報例えば，段落の末尾で著者は意見や断定を行なう傾向があるかもしれない．このような性質が判定に反映される．名詞の連鎖の情報文章中で，ある名詞は話題に関連してある段落にかたよって出現するかもしれない．これにより，同義語も含めた名詞の連鎖やその切れ目の情報を判定に反映させられる．パラメタの一覧を表に示す．なお，「重み」欄は，次節で述べる訓練の結果得られたパラメタの重みである．重みから接続語句の展開型，時制，文のタイプの情報（境界の候補の前文が「意見文」であるかどうか）がセグメンテーションに大きく影響していることが分かる．</subsection>
  <subsection title="パラメタの訓練">まず，パラメタの重みを決定するが，訓練の十分性をみるために，訓練とセグメンテーションの精度の関係を調べる．訓練では，テキスト中のすべての文と文の境界についてパラメタを評価し，正解としてその境界が形式段落と一致するときにy=10，しないときy=-1を与える．図に訓練データの数と，訓練データとは別な２０編の社説に対する段落検出の精度の関係を示す．別の調査から求めた段落内の文の数の平均をもとに，一定の段落の数だけ，評価値の大きい境界から順に段落として採用する．実験は，訓練データの数を変えていき，訓練データとは別の２０編の評価データにより再現率，適合率][=]を求めたものである．以上により訓練は，80編程で十分であることがわかった．</subsection>
  <section title="文章解析のボトムアップ的アプローチ"/>
  <subsection title="セグメント統合のアルゴリズム（ボトムアップ的構造化）">まず，セグメントの統合について述べる．次節以降で述べる「結束性の強さ」に基づいて，セグメントは次のように統合される．これにより，文章のボトムアップ的構造化のアルゴリズムは次のように表される．</subsection>
  <subsection title="結束性の良さの指標">結束関係とは，文章を構成する要素間の意味的な関係をいうが，本研究の範囲からいえば，二つのセグメント間の意味的な関係ということになる．オリジナルの結束関係では，指示，代用，省略，接続，語彙的結束性があるが，ここでは，修辞関係の観点から見た「接続」のみ扱う．また，以下の規則を1から順に適用することにより，「結束性の強さ」という尺度を導入する．形式段落をまたぐ結び付きより形式段落内の結び付きの方が結束性が強い．接続表現のあるものの間の結び付きの方がないものの間より結束性が強い．思考レベルの修辞関係より言明レベルの修辞関係の方が結束性が強い．思考レベルにおいては並列型，直列型，転換型の順で結束性が強い．思考レベル，言明レベルにおいて同型同士ならば先の結合の方が結束性が強い．</subsection>
  <subsection title="セグメントの隣接関係">構造化された隣接する二つのセグメント間の修辞関係の同定は，次のような手順で行なう．右セグメントの左端が形式段落の切れ目で接続表現があれば，それにより同定する．接続表現からの修辞関係同定は，付録Iによる．セグメントが部分木に統合されている場合，評価は「核優先の仮定」を用いて代表する核同士を比較し，付録IIIの表により同定する（後述）．接続表現があればそれにより同定する（付録I参照）．左右のセグメントが両方とも一文であるならば，言明レベルの修辞関係を優先する．文のタイプの比較によって同定する（後述）．デフォルトは``順接''とする．ここで，「核優先の仮定」とは以下である．「文のタイプの比較」とは，二文（セグメントの場合は代表する文）のタイプを比較することにより修辞関係を同定するもので，詳細を付録IIIに示す．この際，二つのセグメントの境界が形式段落と一致している場合は「形式段落間」，２文とも形式段落内に存在する場合は「形式段落内」の各項目を参照する．</subsection>
  <section title="トップダウン的アプローチとボトムアップ的アプローチの融合"/>
  <subsection title="トップダウン（分割） vs. ボトムアップ（統合）">ここで，トップダウン的なアプローチとボトムアップ的なアプローチについて比較する．</subsection>
  <subsection title="両者を融合したアルゴリズム">本研究で提案する解析アルゴリズムは，前節で述べたトップダウン解析とボトムアップ解析の良いところのみを採り入れたアルゴリズムで，次の二つの手順からなる．解析処理の例を，図に摸式的に示す．</subsection>
  <section title="解析システムと実験"/>
  <subsection title="構造木の生成例">本研究のアルゴリズムに基づいて，付録に示す入力データを解析した結果を図に示す．</subsection>
  <subsection title="解析結果の評価の方針">本研究で提案した手法の評価を試みる．評価では，生成された木構造の正確さを評価するわけだが，正解をどのように設定するのかという点と，正解との多少の構造のずれをどのように評価に加えるのかという問題がある．そこで本研究での評価方法としては，根の近辺のみの評価：「構造化のトップダウン・アルゴリズム」と「構造化のボトムアップ・アルゴリズム」について，根の近辺の分割が形式段落と一致しているかで判定し，両者を比較，葉の近辺のみの評価：葉の近辺のセグメントの統合が人間の処理と一致しているかで判定．「構造化のトップダウン・アルゴリズム」単独で実行した場合とも比較する，全体的評価：個々の木の人間による検査，に分けて評価を行なう．</subsection>
  <subsection title="解析結果の評価（根の近辺）">図において再現率(T)，適合率(T)は，「構造化のトップダウン・アルゴリズム」（節）で，次第に分割を進めていった時に段落の境界についての精度を再現率，適合率により表示したものである．これによると，「構造化のトップダウン・アルゴリズム」は，文章全体を５段落に分割するあたりまでは，６５％以上の適合率で形式段落と一致している．形式段落と一致することが，かならずしも意味的なセグメンテーションの正確さを意味するものではないが，形式段落は著者が一つの区切りとして加えたものであり，客観的な指標として意味があると考えられる．再現率(B)，適合率(B)は，「構造化のボトムアップ・アルゴリズム」のみにより構造化し，根に近い部分から段落分割していったときの精度を示したものである．一方，「構造化のボトムアップ・アルゴリズム」は，結束性の強さの判定に形式段落の情報を用いているので，これを用いてセグメンテーションの精度を議論することには問題がある．そのため，再現率(B*)，適合率(B*)は，「構造化のボトムアップ・アルゴリズム」で形式段落の情報を利用する部分を削除したものによる実験結果を示している．再現率(B*)は，0.2近辺の値を示している．適合率(B*)は，初期の数回の分割では正しい(形式段落と一致した)分割を行っているものの，「構造化のボトムアップ・アルゴリズム」による結果(再現率(B)，適合率(B))と比べて著しく悪い結果である．つまり，「構造化のボトムアップ・アルゴリズム」のみによる構造化では，形式段落の情報がセグメンテーションに寄与してはいるものの，これを差し引けば文章の全体的な構造化に関しては有意な効果は見られないと言える．なお，形式段落の情報はセグメントの分割を示す情報であり，これが必ずしもセグメントの統合を目的とする「構造化のボトムアップ・アルゴリズム」の動作をコントロールしているとは言えないようである．</subsection>
  <subsection title="解析結果の評価（葉の近辺）">解析結果と人間により生成された構造との比較を行なった(表)．被験者７名に，文，セグメントの意味的な結び付きに応じて文章を木構造で表現する方法を教え，木の一段目，つまりどの二文が一番最初にまとめられるかと，二段目，つまり一段目を含んでそれらがさらにどのようにまとめられるかについて，提案の手法による解析結果と比較し，再現率，適合率を求めた．使用した文章は，日本経済新聞の社説(1994年1月1日から連続して)３５編で，一編につき被験者一名，ひとりの被験者が５編ずつを解析した．表中「人間(a)」とは，３５編の社説について隣接する二文(またはセグメント)を被験者が統合した個数の合計を，「計算機(b)」とは，提案の手法により隣接する二文(またはセグメント)が統合された個数の合計を表す．また「一致(c)」とは，被験者の統合と提案の手法による両者が一致した箇所の個数を表す．再現率，適合率は，以下による．[=(c)(a),*3em=(c)(b)]表中で，「TB」は，提案の方式によるもの，「T」は，「構造化のトップダウン・アルゴリズム」単独で解析したものである．一段目について再現率，適合率とも５０％程度だが，この実験では，被験者に全く自由に構造を描かせ，それを本手法による解析結果と比較したものであるので，評価基準としては厳しいものである．ある程度の許容範囲を設け，結果の特性を含めることができるような評価手法の検討が課題となる．「構造化のトップダウン・アルゴリズム」のみによる解析との比較では，前節の評価結果ほど差がないにせよ，やはり，提案の手法によって精度が向上しているのが分かる．</subsection>
  <subsection title="解析結果の評価（全体的評価）">提案のアルゴリズムにより30編の社説(総段落数323，総文数899)を解析し，生成された木構造を人間が評価した．全体的な評価は表のようになる．ここで，「解析の誤り」とは，修辞関係の同定誤りとセグメント分割の間違いである．「許容範囲外」とはセグメントの分割誤りが二つ以上あるか，またはセグメントの分割誤りが一つで修辞関係同定誤りが一つ以上あるものとした．人間が見て「誤りがない」とすることができたのは，30編の社説のうちの8編であった．これらの文章はどれも相対的に他の文章より短く，セグメントの分割がより正確だったと考えられる．逆に許容範囲外にあるとするものも11編であった．これらの文章は相対的に文章自体が長く，セグメントの分割誤りが目立った．人間の判断による「解析の誤り」について，木構造が明らかに誤りであるとされたところが合計31箇所あった．そのうち17箇所は修辞関係の同定誤りによるもので，セグメント分割の間違いは14箇所であった．この実験では，計算機が出力した構造と原文とに対して人間が評価を行なっており，節の実験のように計算機と人間が独立して解析を行なった後に一致を調べるという手法とは異なる．人間の判断に明確に違反するものを除き，人間は計算機の解析結果を見て，計算機による解析結果を許容する方向に影響され，そのため節の実験よりも良好な結果が得られてたものと思われる．本研究の応用を人間に代わって大量の文書処理を行なうことにあるとすると，解析結果を人間が許容できるかどうかは重要であり，表の結果についても意味があると考えられる．</subsection>
  <section title="まとめ">本研究では，論説文の構造を階層化した文章モデルを提案し，これに基づき，テキストセグメンテーションの手法を応用したトップダウン構造解析アプローチ，セグメントを統合していくボトムアップ構造解析アプローチを示した．さらに，両者の利点を生かすことができる分割と統合による文章解析手法を提案した．また，実験によりこの手法の有効性を確認した．本手法での構造化は，文末の表層的な情報によるモダリティの解析に依るところが大きい．これを基に文章の論説モデルを定義した．文末に現れるモダリティは，文のタイプとして扱われ，トップダウン構造化にもボトムアップ構造化にも利用されていく．文章解析のトップダウン的アプローチとしては，文章のセグメンテーションの手法を応用し，評価関数の値の大きい箇所から分割していく．文章解析のボトムアップ的アプローチとしては，修辞関係に着目したセグメント統合により隣接していて関係が強いところから統合していく．葉に近い部分をボトムアップ的解析で，根に近い部分をトップダウン的解析で処理することにより，一方の欠点を他方の利点で補う効果的な手法となった．本研究のような対象においては，解析結果を正解と不正解の２値に分けてしまうのでは評価としては不十分であり，正解に近いものはそれなりに評価してやる必要がある．これについて，解析木の根に近い部分は形式段落の位置に基づく客観的評価，葉に近い部分は人間が解析したものとの比較，全体的な構造に対しては個々の解析結果を人間が検討することにより評価を行った．今後の課題としては，本手法の応用と拡張がある．どちらも他方の状況を抜きに考えられないが，本手法の中心的なアルゴリズムは非常に単純であるため，柔軟に拡張が可能と考えられる．</section>
</root>
