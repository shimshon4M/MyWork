<?xml version="1.0" ?>
<root>
  <jtitle>話し言葉における引用節・挿入節の自動認定および	係り受け解析への応用</jtitle>
  <jauthor>浜辺良二内元清貴河原達也井佐原均</jauthor>
  <jabstract>話し言葉の係り受け解析を行なう際の最大の問題は，文境界や引用節・挿入節などの境界が明示されていないことである．本論文では，話し言葉に対して，引用節・挿入節を自動認定するための手法，および自動認定した引用節・挿入節の情報を用いて係り受け解析を改善するための手法を提案する．形態素やポーズの情報などをもとに，SVMを用いたテキストチャンキングによって，引用節・挿入節の始端と終端を決定する．始端を決定する際には，自動推定した係り受けの情報をあわせて利用する．日本語話し言葉コーパス(CSJ)を用いた評価実験により，自動認定した引用節・挿入節の情報を利用することで係り受け解析精度が77.7%から78.7%に改善されることを確認し，本手法の有効性を示した．</jabstract>
  <jkeywords>話し言葉，係り受け解析，節境界，引用節，挿入節，機械学習</jkeywords>
  <section title="はじめに">係り受け解析は日本語解析の重要な基本技術の一つとして認識されており，これまでに様々な手法が提案されてきた．しかし，そのほとんどは書き言葉を対象としたものであった．これに対し，本研究では，話し言葉，特に『日本語話し言葉コーパス(CSJ)』のような長い独話を対象とする．ここでCSJとは，主に学会講演や模擬講演などの独話を対象に，約660時間（約750万語）の自発音声を収録した世界最大規模の話し言葉コーパスのことである．このコーパスには音声データだけでなく書き起こしも含まれており，コアと呼ばれる一部の書き起こしには，人手により形態素・係り受け・節境界・引用節・挿入節・談話構造など様々な情報が付与されている．一般に，話し言葉には特有の現象が見られるため，書き言葉と比べて話し言葉の係り受け解析は難しい．例えば，CSJを用いた実験によると，話し言葉特有の現象の影響をなくした場合とそうでない場合で，係り受け解析精度に大きな差があることが報告されている．特に，引用節・挿入節などの境界が認識されていない場合に係り受け解析精度の低下が著しい．そこで本論文では，引用節・挿入節を自動認定する方法，および，自動認定した引用節・挿入節の情報を係り受け解析に利用する方法を提案し，提案手法により係り受け解析精度が有意に向上することを定量的に示す．</section>
  <section title="話し言葉に特有の現象と係り受け構造">話し言葉には，書き言葉にはない特有の現象が見られる．そして，その話し言葉特有の現象が係り受け解析精度の低下を招くことが多い．本研究では，その中でも節境界が曖昧であるという現象に着目する．そして，本論文では，係り受け解析精度に及ぼす影響の大きさを考慮し，節の中でも，特に，引用節・挿入節と係り受け構造との関係を取り上げる．ここで，節および係り受け構造の定義はCSJに従うものとする．以下，節では，話し言葉における節境界と係り受け構造の定義，および，引用節と挿入節との関係について述べる．次に，節では，話し言葉特有の現象，特に，節境界が曖昧であるという現象が係り受け解析に及ぼす影響について言及する．そして，節では，その他の話し言葉特有の現象に関して，本研究での係り受け解析時の扱いについて述べる．</section>
  <subsection title="節境界と係り受け構造の定義および引用節・挿入節との関係">一般に，書き言葉においては，係り受け構造などを付与する単位として，いわゆる「文」を用いることが多い．しかし，自発的な話し言葉を対象とする場合，文は必ずしも自明な単位ではない．そこでCSJでは，より適切な分割単位として，「節」に基づく文の単位が定義されている．節境界としては，次の3種類が定義されている．絶対境界：いわゆる文末表現で，述語の終止形・終助詞・「と文末」など．強境界：並列節「ケレドモ」「ガ」「シ」・「ましテ」節・「でしテ」節など．弱境界：理由節「カラ」「ノデ」・連用節・引用節・条件節「タラ」「ト」	「ナラ」「レバ」など．そして，これらの節境界を表層表現などに基づいて自動検出した後，文節係り受けを考慮して人手により文境界を特定する．上の3種類の境界のうち，絶対境界と強境界は基本的に文境界となり，弱境界は機能的に区切れていると判断される箇所のみが文境界となる．引用節と挿入節についてもこのときに認定され，基本的に，引用節の終端は弱境界，挿入節の終端は強境界となる．CSJにおける係り受け構造は，原則として「京大コーパス」の付与基準に準拠して付与されており，話し言葉特有の現象に対しては新たな基準が設けられている．係り受けは文内で閉じており，引用節・挿入節の内部でも同様に係り受けが閉じている．したがって，文境界が特定されれば，引用節と挿入節の始端は係り受け構造に基づいて特定できる．すなわち，直前の文節が終端より後方に係る文節のうち，最も終端に近いものが引用節の始端となる．そのような文節がない場合は，文頭の文節が始端となる．話し言葉，特にCSJのような長い独話における引用節・挿入節の特徴は次の通りである．以下では，引用節・挿入節と係り受け構造との関係の例も示す．</subsection>
  <subsection title="節境界の曖昧さが係り受け解析に及ぼす影響">従来研究では，話し言葉において節境界の曖昧さが係り受け解析に及ぼす影響については，ほとんど考慮されていなかった．下岡らは，話し言葉では文境界が曖昧であることが係り受け解析に与える影響が最も大きいことを指摘し，その影響を定量的に示した．彼らは，正しい文境界の情報を与えることにより，文境界を自動推定した場合に比べて約3%高い係り受け解析精度が得られると報告している．また，文境界を推定する方法および文境界の自動推定結果を係り受け解析に利用する方法を提案し，その有効性も示した．しかし，その他の節境界については，係り受け解析に及ぼす影響は明らかではなかった．大野らは，文を節境界で分割して得られる節境界単位を基本として，節境界単位内の係り受けと節境界単位間の係り受けを別々に解析する方法を提案し，その有効性を示している．しかし，節境界単位は節とは異なるため，本来は節を超える係り受けを正しく推定することができない．例えば，の例文や例文では，節の始端は節境界ではないため，「昔から」と「思っていたところです」，「早速」と「チェックしました」は節境界単位をまたぐ係り受けとみなされ，正しく推定することができない．内元らは文境界，言い直しの存在，挿入節・引用節などの境界の曖昧さ，係り先のない文節に着目し，正しい文境界の情報を与えた場合，さらに言い直し関係のうち係り元の文節を削除した場合，さらに挿入節・引用節の境界の情報を与えた場合，さらに係り先のない文節を削除した場合のそれぞれについて，係り受けモデルを学習しテストした場合に得られる係り受け解析精度を調べた．その結果，挿入節・引用節の境界の情報を与えた場合に約2%高い精度が得られたと報告している．これは，話し言葉においては引用節や挿入節を含む文は節構造が複雑で，引用節あるいは挿入節の内部と外部とを結んでしまう係り受け解析誤りが多くなるためであると考えられる．逆に，引用節・挿入節の範囲を取得することができれば，係り受け解析精度の向上が期待できるが，そこまでは明らかにはされていない．そこで，本論文では，引用節・挿入節を自動認定する手法，および，その結果を利用して係り受け解析を行なう手法を提案し，引用節・挿入節を自動認定した結果を用いることで係り受け解析精度が有意に向上することを示す．手法については，章で詳しく述べる．</subsection>
  <subsection title="係り受け解析におけるその他の話し言葉特有の現象の扱い">その他の話し言葉特有の現象および本研究における係り受け解析時の扱いについては次の通りである．なお，上記の対処法については(2)以外は下岡らの手法に従っている．</subsection>
  <section title="係り受け解析と引用節・挿入節の自動認定のアプローチ"/>
  <subsection title="係り受け解析と境界推定の相互処理">図に本手法で提案する処理の概要を示す．処理の流れは下記の通りである．入力は，形態素および文節の情報が付与されたテキストであり，CSJを対象とする場合，一講演のテキストおよび形態素，文節の情報が入力となる．図およびその説明において，文境界と引用節・挿入節の境界をまとめて境界と表現している．境界推定（1回目）入力テキストに対し，まず，節で述べる手法により，表層表現・品詞・活用形，ポーズ長の情報などを素性として用いて，文境界，引用節，挿入節の境界を推定する．このとき，引用節・挿入節および文境界の3つの境界の推定は同時に行なう．係り受け解析（1回目）次に，境界推定（1回目）で推定された文境界によりテキストを文に分割し，各文について，節で述べる手法により係り受け解析を行なう．このとき，素性としては表層表現・品詞・活用形，文節間距離などを用いる．境界推定（1回目）で得られた情報のうち，引用節・挿入節の境界に関する情報はここでは用いない．境界推定（2回目）さらに，元の入力テキストに対し，文境界，引用節，挿入節の境界を再推定する．このとき，係り受け解析（1回目）で得られた係り受けの確率の情報も素性として用いる．この素性は境界の情報により場合分けされており，その場合分けには，境界推定（1回目）で得られた引用節・挿入節の境界のうち，終端の情報を用いる．係り受け解析（2回目）最後に，境界推定（2回目）で得られた文境界により元の入力テキストを文に分割し，各文について，節で述べる手法により係り受けの再解析を行なう．このとき，境界推定（2回目）で得られた引用節・挿入節の境界の情報も素性として用いる．以上の処理により，入力テキストに対し，文境界，引用節，挿入節の境界情報，および，各文内について文節係り受けの情報が得られる．以下では，係り受け解析および引用節・挿入節の自動認定の手順についてそれぞれ説明する．</subsection>
  <subsection title="係り受け解析">本研究では，内元らの手法に基づき，係り受け解析モデルを統計的に学習する．統計的係り受け解析では，文中の各文節がどの文節に係りやすいかを確率値で表わし，それらを要素とした係り受け行列を作成する．そして，一文全体が最適な係り受け関係になるように，それぞれの係り受けを決定する．ここで，2つの文節間の関係を「間」「係る」「越える」の3カテゴリとして学習することにより，着目している2文節の間にある文節や，それらより後方にある文節との関係も考慮して確率値を計算できる．この係り受け解析モデルは最大エントロピー(ME)モデルとして実装され，素性には，単語の表層表現・品詞・活用形・文節間距離など，およびそれらの組合せが利用されている．本研究ではさらに，着目している2文節の係り受けを仮定した場合に，その係り受けが引用節・挿入節の境界と交差するかどうかを素性に加える．より具体的には次の通りである．仮定した係り受けと引用節・挿入節の境界との関係は下記の3つの場合に分類できる．そして，引用節と挿入節のそれぞれについて，2文節の関係が下記の分類のうちどれに属するかを素性値として与える．仮定した係り受けと引用節・挿入節の境界とが交差する場合交差が発生するのは，以下の2通りの場合である．このとき，2文節が実際に係り受け関係を持つことはない．ただし，対象の2文節のうち係り文節が引用節あるいは挿入節の終端となっている場合はこの分類に含めない．2文節の一方のみが引用節・挿入節の内部に含まれる2文節の双方が異なる引用節・挿入節の内部に含まれる仮定した係り受けと引用節・挿入節の境界とが交差しない場合交差が発生しないのは，以下の2通りの場合である．2文節がともに引用節・挿入節の内部に含まれない2文節がともに同一の引用節・挿入節の内部に含まれる2文節のうち係り文節が引用節・挿入節の終端となっている場合この場合には，節で述べたように，節の外部と内部との係り受けが例外的に結ばれるので，別の分類とする．ただし，引用節・挿入節の境界が適切に推定されていることが望ましいため，この素性は図の係り受け解析（2回目）のみに用いる．この素性を用いることにより，2文節間に仮定した係り受けと引用節・挿入節の境界とが交差する場合には，この2文節が実際に係り受け関係を持つ確率は低く推定される．</subsection>
  <subsection title="引用節・挿入節の自動認定">本研究では，下岡らが提案した機械学習による文境界推定法に基づき，引用節・挿入節の自動認定をテキストチャンキングの問題として扱う．これにより，引用節・挿入節の自動認定と文境界推定を同時に行なうことが可能となり，これらを別々に行なう場合に比べて，文境界推定の誤りに対しても頑健に動作することが期待できる．テキストチャンカには，SVM(SupportVectorMachines)に基づくYamChaを用いる．YamChaでは，カーネル関数として多項式カーネルを用いることにより，複数の素性の組合せを考慮した学習が可能である．また，推定により得られた前後のチャンクラベルを動的素性として用いることができる．本手法では，チャンクラベルは文節ごとに付与する．ラベルには，文境界に関するタグ（E:文末，I:文末以外）と，引用節および挿入節に関するタグ（表）の3つ組を用いる．以下の例文~にラベル付与の例を示す．ラベル内のタグは，順に（文境界に関するタグ，引用節に関するタグ，挿入節に関するタグ）を表わしている．例えば「予算の」に付与されているラベル(I,B,B)は，この文節が文末の文節ではなく，引用節・挿入節の始端となっていることを示す．3つのタグは同時に推定されるため，このモデルでは文境界・引用節・挿入節の関係が考慮されている．例えば，引用節・挿入節の範囲が文境界を越えることはないので，(E,I,O)などというラベルが推定されることはない．（例文）[0.5zw]YamChaの多項式カーネル次数は3，解析方向はRighttoLeftとし，後方3文節の動的素性を利用する．SVMに与える素性としては，以下のものを用いる．引用節・挿入節の終端を推定する際には単語情報が大きな手がかりとなるが，以上の素性はすべて局所的な情報であり，これらだけから始端も同時に推定するのは困難である．例えば，以下の例文では，「この辺りは父から聞いた話なんですけど」の部分だけを見た場合，「（他に自分が体験したことを話している途中で）この辺り（の話）は父から聞いた話なんですけど」という意味でも解釈できるため，「父から」が引用節の始端であるとは決定できない．この場合，「この辺りは父から聞いた話なんですけど」の全体が挿入節に含まれる可能性もある．（例文）[0.5zw]このように，引用節・挿入節の始端を決定するためには，大域的な情報も必要となる．そこで，始端を決定する際には，自動推定した係り受けの情報をあわせて利用する．引用節・挿入節の終端が既に得られている場合，節および節で述べたような引用節・挿入節と係り受け構造との関係により，始端より前の文節の係り受けには図のような制約が成り立つ．本手法ではこの制約を利用し，チャンキングを2回にわたって行なう．1回目のチャンキング（図の境界推定（1回目））では，上述の素性のみを用いて文境界および引用節・挿入節を自動認定する．そして，ここで得られた文ごとに係り受け解析（図の係り受け解析（1回目））を行ない，1回目のチャンキングで自動認定された引用節・挿入節の終端の情報をもとに，以下の係り受けの確率を素性に加えて，2回目のチャンキング（図の境界推定（2回目））を行なう．学習データに対する係り受け確率は，学習データ内で10-foldcrossvalidationによって係り受け解析を行なうことで求める．a)着目している文節より前方にある文節が，着目している文節と終端の間の文節に係る確率\\(b)着目している文節の直前の文節が，終端より後方の文節に係る確率\\図から，例えば，(a)の確率が小さく(b)の確率が大きければ，その文節は始端になりやすいと推測される．先の例文では，「辺りは」「聞いた」「話なんですけど」は前方の文節が着目している文節に係るため，(a)の確率が大きくなる．また「父から」については，直前の文節「辺りは」が挿入節の終端「話なんですけど」より後方に係るため，(b)の確率が大きくなる．これより，「父から」が挿入節の始端であると推定できることが期待される．</subsection>
  <section title="評価実験">引用節・挿入節の自動認定および係り受け解析の評価実験を行なった．実験に用いたコーパスはCSJのコア188講演（模擬講演111講演と学会講演77講演）の書き起こしである．この中には6,148個の引用節と818個の挿入節が含まれている．このうち168講演を学習データ，20講演（模擬講演11講演と学会講演9講演）をテストデータとして用いた．まず，下岡らの手法に従い，単語情報とポーズ長を用いて文境界を推定した後で，得られた文ごとに係り受け解析を行ない，ベースライン精度を求めた．文境界推定のF値は85.6で，係り受け解析精度は，openテストで77.7%,closedテストで86.6%であった．closedテストでは，188講演のすべてを学習に利用している．</section>
  <subsection title="引用節・挿入節の自動認定結果">節で述べた手法を用いて，引用節・挿入節の自動認定を行った．その結果を表に示す．表には以下の5種類の実験結果を示している．係り受けを用いない場合（1回目のチャンキング：図の境界推定（1回目））の認定精度openテストで得られた係り受けを用いた場合（2回目のチャンキング：図の境界推定（2回目））の認定精度closedテストで得られた係り受けを用いた場合（2回目のチャンキング：図の境界推定（2回目）の認定精度正解の係り受けを用いた場合（2回目のチャンキング：図の境界推定（2回目））の認定精度（係り受け確率はすべて1.0とする）1回目のチャンキング（図の境界推定（1回目））における終端のみについての認定精度表によると，引用節の終端のおよそ9割は正しく検出できている．検出できなかったものの中には「〜と」で終わる文末や，「〜っちゅう」「〜みたいな」など，使われる頻度が比較的少ない表層表現があった．始端とともに正解した精度は，openテストで自動推定された係り受けを利用することによって向上した．個々の文節における引用節のチャンクタグの推定結果についてマクネマー検定を行なったところ，p&lt;0.01で有意な改善が得られていることが分かった．これは，本手法で素性として利用した係り受け情報が有効に作用したことを表わしている．例えば，以下の例文では，1回目のチャンキングでは「多分私が飼っていたさくらの方だった」の部分が引用節だと誤って自動認定されたものの，2回目のチャンキングで係り受けを利用することにより，「逃げたのは多分私が飼っていたさくらの方だった」の範囲が引用節であると正しく自動認定されるようになった．（例文）[0.5zw]さらに，closedテストで得られた係り受けや正解の係り受けを用いた場合は，引用節の認定精度は大きく向上している．このことから，係り受け解析精度が改善されるのに伴って，引用節の認定精度も向上することが分かる．一方，挿入節については，係り受けを利用してもほとんど検出できず，挿入節の終端の大半は文境界であると推定されていた．挿入節は，文末表現としてもよく用いられる「〜けれども」「〜ですが」の形で終わるものが多く，文境界との区別が難しいことが原因であると考えられる．これらの区別は，本手法で用いた素性だけでは困難である．そこで，節に述べるように，フィラーの有無や話速，韻律情報などを素性として用いてみたが，有意な精度向上は見られなかった．今後，より広範な素性を検討する必要があると考える．</subsection>
  <subsection title="節の自動認定結果を用いた係り受け解析結果">次に，自動認定された引用節・挿入節を用いて，節の手法で係り受け解析（図の係り受け解析（2回目））を行なったところ，表に示す結果となった．ここで用いる引用節・挿入節の自動認定結果は，表においてopenテストで得られた係り受けを利用したものである．学習データにおいても同様に，2-foldcrossvalidationによって引用節・挿入節の自動認定を行なった．引用節・挿入節の自動認定結果を利用することで，openテストにおける係り受け解析精度は1.0%向上した．マクネマー検定を行なったところ，本手法を用いた係り受け解析精度はベースラインの精度よりp&lt;0.01で有意に上回っていることがわかった．この結果は，引用節・挿入節の推定に誤りがある場合でも，係り受け解析モデルが頑健に作用したことを示唆している．そこで次に，引用節・挿入節を含む文の係り受け解析における解析誤りの数の変化について考察した．表に，引用節・挿入節の内部と外部を結ぶ誤った係り受けが推定された数を示す．このような係り受け解析誤りの数は，引用節・挿入節の推定結果を利用することで，639個から572個に削減された．特に，引用節の内部から外部へと係る解析誤りの数が，217個から128個へと大きく削減された．その理由は次のように考えられる．一般に，引用節や挿入節がある場合は，その前方にある文節は引用節や挿入節を越えて遠くの文節に係ることが多い．その結果，従来の係り受けモデルでは，遠くに係る係り受けが誤って優先され，引用節・挿入節の内部から終端を越えて節の後方に係るような係り受け解析の誤りが多く発生していた．しかし，本手法によって，引用節については，認定精度の高かった終端の情報を活用することで，このような解析誤りを削減することができるようになったと考えられる．例えば，以下の例文では，引用節・挿入節の情報を利用せずに係り受け解析を行なった場合には，「挟んで」（引用節内部）が「覚えてきて」（引用節外部）に係ると誤って推定されていたものの，「顔挟んで外に出てしまう」の部分を引用節として自動認定できたことにより，「挟んで」（引用節内部）が「出てしまうという」（引用節内部）に係るように修正された．（例文）[0.5zw]また，表には，引用節・挿入節の正解を与えた場合，すなわち認定精度が100%だったと仮定した場合の係り受け解析の結果も示す．この場合，係り受け解析精度はさらに改善されており，引用節・挿入節の認定精度の向上に伴って係り受け解析精度も改善されることが分かる．</subsection>
  <subsection title="節の自動認定と係り受け解析の相互作用に関する考察">上述の実験結果から，引用節・挿入節の自動認定および係り受け解析の精度は，相互の情報を利用することにより高精度化されることが確認できた．単純には，同様のサイクルを繰り返すことにより，さらなる精度向上が期待される．そこで，引用節・挿入節の自動認定結果と係り受け解析の結果を再度相互に利用して，それぞれの精度がさらに改善されるかどうか調べた．しかしながら，引用節の認定精度および係り受け解析精度に有意な変化は見られなかった．これは，一度引用節・挿入節の情報を利用して推定した係り受けは，現在得られている節の認定範囲に対して最適な状態になっており，その結果を用いても始端の位置はほとんど修正できないためと考えられる．逆に，再度相互に推定結果を利用することで，引用節の外部から内部へと係る解析誤りがわずかに増加する結果となった．これは，2回目のチャンキングで引用節の始端を再推定する際に，誤った係り受けの情報が優先され，始端の位置が誤って文頭側にずれたことが原因と推測される．今後の課題として，特に引用節の始端付近について係り受けの傾向を詳細に分析し，より適切な係り受けの利用法を検討したい．</subsection>
  <subsection title="文境界が既知の場合の実験結果">次に，文境界推定の誤りの影響を調べるために，正解の文境界を与えて，引用節・挿入節の自動認定および係り受け解析を行なった．評価結果を表表に示す．結果として，文境界を与えることにより，引用節・挿入節の認定精度，係り受け解析精度ともに大きく上昇した．表からは，引用節だけでなく挿入節についても係り受けを利用することで認定精度が向上すること，表からは，引用節・挿入節の自動認定結果を用いることでopenテストでの係り受け解析精度が0.6%向上することなどが分かる．また，引用節・挿入節の正解を与えた場合，係り受け解析精度はさらに改善されることも分かる．これらの結果は，文境界推定の誤りの影響がいかに大きいかを示している．しかしながら，話し言葉において曖昧となる引用節・挿入節および文境界の情報をすべて与えても，書き言葉における係り受け解析精度と比べると依然として大きな差がみられる．話し言葉における係り受け解析精度をさらに向上させるためには，話し言葉特有の問題点について，さらに調査を行なう必要がある．これは今後の課題である．</subsection>
  <subsection title="その他の素性を追加した場合の実験結果">節で述べた素性(1)と(2)に下記の素性を加え，それぞれの素性の組み合わせを用いて節や節と同様の実験を行なった．それぞれの素性の組み合わせに対し，個々のチャンクラベルの推定結果についてマクネマー検定を行なったところ，単語情報とポーズ長以外の素性，すなわち，フィラーの有無・話速・基本周波数・韻律ラベルを用いても，有意水準p=0.01とした場合，有意な改善は得られなかった．これは，話速・基本周波数・韻律ラベルといった音響的特徴の現れ方が，引用節・挿入節において不安定であることや，上記の素性から得られる情報がすでに単語情報やポーズ長から得られていることなどが原因と考えられる．</subsection>
  <section title="おわりに">本論文では，CSJを対象として，引用節・挿入節を自動認定し，その自動認定結果を係り受け解析に適用する手法について述べた．評価実験により，自動認定した引用節・挿入節の情報を係り受け解析に利用することで，係り受け解析精度が改善されることを示した．特に，引用節の終端は高い精度で推定することができたため，その情報を利用することで，引用節の内部から終端を越えて外部に係る解析誤りを削減することができた．今後の課題としては，実験の考察を踏まえ，より広範な素性の考慮，より適切な係り受けの利用法の検討などにより，さらなる精度の改善を図ることや，音声認識結果に誤りがある場合の頑健性について検討することなどが挙げられる．また，係り受け解析における話し言葉特有の問題点についてもさらなる調査を行ないたい．document</section>
</root>
