<?xml version="1.0" ?>
<root>
  <section title="Introduction">TheadventoftheInternethasbroughtmanynewopportunitiesfortheuseoftechnologyinlearning.InrecentyearstherehasbeenalargefocusonusingtheInternetforcollaborativelearning.However,theaccesstothemassamountofinformationthattheInternetprovideshasbeenignoredbymany.ThetaskoffindingqualityinformationisprobablythelargestfactorthatpreventsmanyfromusingtheInternetasalinguisticresource.Asstates,``quantityofinformationonlinegreatlysurpassesitsoverallquality''and``onlinedocumentsgenerallyseemtoconsistmoreofaccumulationsoffragments,stockphrasesandbulletedliststhanoforiginalextendedtext.''Eventhoughthereareissuesthatmustberesolvedaboutthequalityofinformation,becausetheInternetisconstantlybeingupdateditcontainscurrentusageofthetargetlanguagemakingitveryappealingforuseduringlanguageinstruction.InordertosupporttheutilizationofthelargeamountofinformationontheInternetaswellascontentfromothermediaforlanguageinstruction,wehavebegundevelopingane-learningsystemthatcanusebothonlineandofflinecorporatoconstructexercises.Inthispaper,wepresenttheinitialversionofthise-learningsystemthatassistsEnglish-speakinglearnersofJapanesewiththeirstudiesofvocabularyandkanjifortheJapaneseLanguageProficiencyTest(JLPT).TheJLPTwasselectedbecauseitisthemostwidelyrecognizedJapaneselanguagetestintheworld.InpreparationfortheJLPT,learnersofJapanesemuststudymanyvocabularywordsaswellasthecharactersusedtowritethem.TherearethreetypesofcharactersinwrittenJapanese:hiragana,katakana,andkanji.Hiraganaandkatakanaaresyllabarieswhereeachcharacterhasauniquereading(orpronunciation).LearnersofJapaneselearnallofthehiraganaandkatakanacharactersattheverybeginningoftheirstudies.Ontheotherhand,kanjiislogographiccharactersthatrepresentwords.Asinglekanjicharactercanbeusedformanydifferentwordsandcanhavemultiplereadings.TherearethousandsofkanjicharacterssoittakeslearnersofJapaneseaverylongtimetolearnthem.Japanesewordsarealsooftenwritteninaromanizedforminbooksandsoftwaretargetedatbeginninglearners.TherehasbeenmuchdebateastowhetherromancharactersshouldbeusedwhenteachingJapaneseattheentrylevel.However,astudyconductedbywithEnglish-speakinglearnersofentry-levelJapanese,foundthatthepresenceofromancharactersinacomputer-assistedlanguagelearningprogramdidnotfacilitatetheirvocabularyintake.Basedontheresultsofthatstudy,wehavedecidedtonotuseanyromancharacterswhendisplayingvocabularywordsinthepresente-learningsystem.WhenstudyingavocabularywordfortheJLPT,alearnermuststudythemeaning,reading,andwrittenformoftheword.Theexercisesusedinthise-learningsystemhavebeendevelopedtofacilitatethelearningprocessofthesethreeelementsofeachvocabularyword.Themaintypeofexerciseusedinthise-learningsystemiscalledacontext-basedexercise.Inthistypeofexercise,learnersareabletoobservethevocabularywordsandthekanjithattheyarestudyinginsentences.Thistypeofexercisegivesthelearnermoreopportunitiestoreadandseethewordthattheyarestudyingincontext,whichisveryimportantwhenlearningvocabulary.Duringtheseexercises,learnersalsohaveaccesstoglossesofeachwordinthesentence.Theglosseswereincludedbecauseithasbeenfoundthattheyhaveapositiveeffectwhenstudentsarelearningnewvocabulary.Thesentencesusedinthecontext-basedexercisesaretakenfromeitheranonlineorofflinecorpus.Thesecorporaoftencontainsentencesthatarenotconducivetolearners'vocabularystudiesbecausetheyareexcessivelylongandusemanypropernounsortechnicalterminology.Inordertopreventthesystemfromusingthesetypesofsentences,weproposetheuseofareadabilityformulatodeterminewhichsentenceshouldbeselectedforaparticularexercise.Useofthereadabilityformulaallowsthesystemtoselectshortersentenceswitheasyvocabularytouseinexerciseswherethelearnerisfirststartingtostudyaword.Longersentenceswithmoredifficultvocabularyareusedonlyafterthelearnerhascorrectlyrecalledthetargetwordinexerciseswithshortersentences.</section>
  <section title="Related work">Thissectiondescribesotherresearchbeingdoneinsubjectsrelatingtoe-learningsystemsforJapanese,readabilityformula,andlinguisticresources.</section>
  <subsection title="E-learning systems for Japanese">Manyothere-learningsystemshavebeendevelopedfortheJapaneselanguage.However,thesesystemsoftenusepre-createdcontentwhichlimitstheamountofexercisesthatthelearnercanperform.Whilewewereunabletofindanothere-learningsystemforJapanesethatcreatesexercisesfromsentencesineitheronlineorofflinecorpora,wefoundatoolthathelpedlearnersselectexamplesentencesfromcorporacalledtheNAISTLanguageTutor.Thistooltakesasentenceoralistofvocabularywordsasinputandreturnsalistofexamplesentencesthatusetheinputtedwordssortedbydifficulty.Theusercanalsospecifyrangesforhowlongtheywouldliketheexamplesentencetobe,aswellastheword,kanji,andgrammarlevelthattheywant.Likethee-learningsystempresentedinthispaper,thistoolalsousestheJLPTlevelstocategorizevocabularywordsandkanjibydifficulty.Todeterminethedifficultyofeachexamplesentencetheydevelopedaformulathattakesintoaccountsentencelength,wordlevel,kanjilevel,andgrammarlevel.TheexamplesentencesusedinthistoolweretakenfromnewspapersandtheInternet.Currently,noevaluationresultsofthistoolhavebeenpublished.Thedifferencesofthistool'smethodforrankingsentencesandoure-learningsystem'smethodarediscussedfurtherinsection4.1.1.</subsection>
  <subsection title="Readability formula">Inthise-learningsystem,asimplereadabilityformulaisusedtopreventthesystemfromusingsentencesthatarenotconducivetolearners'vocabularystudies.SeveraldifferentmethodshavebeendevelopedtomeasurethereadabilityofJapanesetexts.presentedamethodthatusesalanguagemodelingapproach.AtextbookcorpusisusedalongwithacharacterunigrammodelthatconsidersthethreetypesofcharactersinJapanese(hiragana,katakana,andkanji).Thetextbookcorpusspansacross12grades(elementaryschooltohighschool)withanadditionalgradebeingaddedfortextsthatareabovehighschoollevel.Usingtheirlanguagemodeltheyareabletocategorizeagiventextintooneofthe13grades.Evaluationindicatesthattheirmethodperformsverywellwithlongtextsachievingahighcorrelationcoefficient(above0.9).Italsoperformswellwithshortstexts,achievingacorrelationcoefficientof0.83.Thismethodofmeasuringreadabilitywasdevelopedtomeasurethereadabilityofwebsitesintermsofaschoolgradelevelinordertohelpimproveaccessibility.Thismethodofmeasuringreadabilitywasnotusedinthise-learningsystembecauseitwasdevelopedforadifferentpurposewhichdoesnotmeettheobjectivesofthise-learningsystem.AnothermethodformeasuringthereadabilityofJapanesetextswaspresentedby.Theypresentedareadabilityformuladerivedbyanalyzingdatafrom77documentsusingprincipalcomponentanalysis.Thefirstequationtheyderivedusestenfactorstoevaluatereadability.Theyfurthersimplifythisequationsothatonlysixfactorsareused.Thesimplifiedversionoftheformulaisasfollows:whereRSisthereadabilityscore,lsistheaveragenumberofcharacterspersentence,la,lh,lc,andlkaretheaveragenumberofromanletters/symbols,hiraganacharacters,kanjicharacters,andkatakanacharactersperrun,andcpistheratioofcommastoperiods.Inthiscase,arunisdefinedasastringthatconsistsofonlyonetypeofcharacter.Evaluationofthisreadabilityformulaincludedanexperimentwheretheexamineeswereaskedtofillinoneblankedoutwordinatext.Examineestooklesstimetofill-intheblankontextswithahigherRSscorethantextswithalowerRSscore.Thisreadabilityformulawasnotusedinthise-learningsystembecauseitdoesnottakeintoaccountJLPTvocabularyorkanji.VocabularyandkanjilistsfromtheJLPTarealreadybeingusedinotherpartsofthee-learningsystemsowewantthereadabilityformulatotakeadvantageoftheselists.</subsection>
  <subsection title="Linguistic resources">Large-scalecorpora,likethoseusedinthise-learningsystem,areaveryimportantlinguisticresourcethatprovidesawealthofinformationtobothresearchersandlearners.Inthise-learningsystem,learnersareabletoreadsentencesfromthesecorporawhileperformingexercisestostudyvocabulary.Whilereadingthesesentences,learnerscandiscovercertainlexicalrelationshipsbetweenwords,liketheadjective冷たい(cold)isoftenusedwiththenoun水(water).Lexicalrelationshipsareoftenobservedfromthesecommonlyoccurringsequencesofwordscalledcollocations.However,arguedthatinadditiontocollocationsfoundinlargecorpora,wordassociationnormsalsocontainsomeuniquelexicalrelationships.TheycomparedlexicalrelationshipsfoundinJapanesecollocationdataandawordassociationdatabase.Theircomparisonsindicatedthatsomelexicalrelationshipswerefoundinonlyoneoftheresources.Thisledtheauthorstoconcludethatbothtypesofresourcesareimportantinordertocoverthewidevarietyoflexicalrelationships.</subsection>
  <section title="System overview">Thissectiondescribestheoveralldesignandoperationofthee-learningsystem.</section>
  <subsection title="System architecture">Thearchitectureofthee-learningsystemisbrokendownintotwoparts,theclientandserver,inordertosupportbothonlineandofflinecorpora.Theclientprogramisinstalledonthelearner'scomputerandisusedbythelearnertopracticevocabularyandkanji.TheserverprogramisinstalledonasinglecomputerandcontinuallycollectsnewtextualdatafromtheInternettobeaddedtotheonlinecorpus.Whenthesystemisusinganonlinecorpustherearedatabasesonboththeclientandserverthatcontainthecorpus.ThedatabaseontheserveriscontinuallyupdatedwithnewtextsthathavebeenminedfromtheInternetwhilethedatabaseontheclientwillonlybeupdatedwhenthelearnerinitiatesanupdateprocess.Duringthisupdateprocess,textsthatarerelevanttothelearner'sstudiesaredownloadedfromtheserverandputintotheclient'sdatabase.Thisgivesthelearneraccesstoalargeamountoftextsbutalsominimizestheamountthattheyhavetostoreontheirlocalcomputer.Inthecaseinwhichthesystemisonlyusinganofflinecorpus,theserverisnotusedbecausetheentirecorpusisincludedwiththeclientprogram.ThedatabasesonboththeclientandserverprogramsalsocontainaJapanese-EnglishdictionarycalledEDICTjwb/edict.html,thesystem'smaindictionary,alongwithalistofJLPTvocabularywordsandkanji.</subsection>
  <subsection title="Client program">Theclientprogramprovidesthemaininterfacethatlearnersusetostudyvocabularyandkanji.Thisprogramisseparatedintothreemainsectionscalled:exercises,vocabulary,andprofile.Theexercisessectioniswherethelearnerselectsthetypeofexercisethattheywishtoperform,aswellasthevocabularylistthatcontainsthewordsthattheywishtostudy.Thevocabularysectioniswherethelearnerscancreate,edit,andremovevocabularylistsandtheprofilesectioniswherelearnerscanviewtheresultsofpastexercises.Thegeneraluseoftheclientprogram'svarioussectionsbythelearnerisoutlinedinthestepsbelow:Thelearnerfirstlogsintotheprogrambyselectingorcreatingaprofile.WhencreatinganewprofilethelearnermustinputtheirnameandJLPTlevel.Afterloggingin,thelearnermustfirstcreatevocabularylistsofwordsthattheywanttopractice.Ifthelearnerhaspreviouslycreatedoneormorevocabularyliststhentheycanjumptostep4.Creationofavocabularylistisperformedinthevocabularysectionoftheprogram.Onceinthatsection,thelearnercreatesanewemptyvocabularylist,andtheninputsawordthattheywanttopracticeintothesystem.Thesystemthenshowsalistofwordsfromitsdictionarythatmatchtheinputtedword.Thelearnerthenselectsthewordthattheywanttopracticefromthelistandaddsittothenewvocabularylist.Thelearnercanrepeatthisprocessandaddasmanywordsastheywanttothevocabularylist.Theonlyconstraintisthatthesystemdoesnotallowwordsthatdonotexistinthedictionarytobeaddedtoavocabularylist.Whenthesystemisbeingusedwithanonlinecorpus,thelearnerhastheoptionofupdatingtheprogram'sdatabaseaftertheyhavecreatedanewvocabularylist.Iftheyinitiatethisprocess,newsentencesfromtheserverwillbedownloadedtothelearner'scomputer.Nextthelearnermovestotheexercisesectionoftheprogram.Inthatsectiontheywillselectthevocabularylistthatcontainsthewordsthattheywishtopracticeandthetypeofexercisethattheywishtoperform.Oncethelearnerhasselectedatypeofexerciseandvocabularylist,thesystemwillbegindisplayingexercisesforeachvocabularyword.Whenthelearnerisfinishedwithalloftheexercisestheresultswillbedisplayed.Thelearnercanthenreturntostep4andperformanotherexerciseorviewtheiroverallresultsdisplayedintheprofilesection.Eachsectionoftheclientprogramwasdesignedtobeasuser-friendlyaspossibletoensurethatlearnerswouldbeabletoquicklyunderstandhowtousetheprogram.Furthermore,theprogramwasdevelopedusingPythonandthecross-platformGUIlibrarywxWidgets,enablingittobeusedonanyofthemajorcomputingplatforms.</subsection>
  <subsubsection title="Types of exercises">Theclientprogramprovidestwotypesofexercises:context-basedandflashcards.Inthispaper,wefocusmainlyonthecontext-basedexercise.Acontext-basedexerciseiswherethelearnerisgivenanexamplesentencethatcontainsoneofthewordsthattheyarestudying.Thelearnerisaskedtoreadthesentenceandinputthereadingofthewordbeingstudied,inhiragana,intoaninputboxthatisdisplayedabovetheword.Iftheyinputthecorrectreading,theinputboxwillturngreenandtheywillbeabletoadvancetothenextproblem.Otherwise,thecorrectreadingwillbedisplayedtothemandthentheywillbeallowedtoadvancetothenextproblem.Acontext-basedexerciseisshowninFig.~.Inthecontext-basedexercises,thesystemalsoprovidesaglossforeachwordthatcanbeaccessedbyclickingontheword.Thisfeatureallowslearnerstoquicklylook-upwordsthattheyhavenotlearnedorareunabletorecallthemeaningof.TheuseoftheglossfeatureisshowninFig.~.Somewordsinthecontext-basedexercisesalsohavetheirreadingdisplayedinhiraganaabovethem.Whenawordinasentenceisatorabovethelearner'sJLPTlevelanddoesnotexistinoneofthelearner'svocabularylists,areadinginhiraganaisdisplayed.Thisistohelpthelearnerreadhardervocabularythattheymightnotknow.Italsoforcesthelearnertorecallthereadingofvocabularywordsthattheyhavealreadystudied.Whenthereadingisnotdisplayed,itisputintotheglossofthatwordsothatifthelearnerisunabletorecallittheycaneasilylookitup.</subsubsection>
  <subsubsection title="Repetition of exercise questions">Whenpracticingasetofvocabularywordsthelearnercanselectarepetition/ordermode.Therepetition/ordermodesdictateinwhatorderthequestionsineachrespectiveexercisetypewillbegivenaswellashowmanytimestheywillbedisplayed.Iftherandommodeisselectedtheneachquestionwillbeaskedonceinrandomorder.Iftheadaptivemodeisselectedthenamethoddevelopedbyisused.Inthissystem'simplementationofthemethod,thequestionsarerepeatedlyaskedtothelearnerwiththeorderbeingshuffledforeachiteration.Whenthelearnerhasansweredaquestioncorrectlyfivetimesinarowthequestionwillnolongerbeasked.</subsubsection>
  <subsubsection title="Exercise scoring">Scoringoftheexercisesdependsonwhatrepetition/ordermodewasselected.Ifrandomisselecteditsimplyrecordswhichexercisesareansweredcorrectlyandwhichexercisesareansweredincorrectly.Ifadaptiveisselected,itmarksexercisesascorrectonlyoncetheyhavebeenrepeatedfiveorsixtimes(i.e.thelearneralwaysansweredtheexercisecorrectlyoronlymadeamistakeonthefirsttime),otherwiseitmarksthemasincorrect.</subsubsection>
  <subsection title="Server program">TheserveriscomposedofseveralprogramswritteninbothPythonandPHPwhichmanipulatetextualdatastoredinanSQLitedatabase.Themaincomponentoftheserverisawebcrawler,writteninPython,thatcrawlstheInternetandfetchesnewtextualdata.TheothercomponentisasetofPHPscriptsthattransferdatatotheclientprogramandmanagetheserver-sidedata.ThesePHPscriptsrunonanApachewebserverandareaccessedbytheclientprogramwhenthelearnerupdatestheirclientprogram'sdatabase.</subsection>
  <section title="System Components"/>
  <subsection title="Exercise generation">Thissectionexplainshowthesystemgeneratesacontext-basedexercise.AnoutlineofthegenerationprocessisillustratedinFig.~.</subsection>
  <subsubsection title="Selecting a sentence for the exercise">Whenanexerciseisstartedbythelearner,thesystemwillreceivethevocabularylistthathe/sheselected.Foreachwordinthelist,thesystemselectsallsentencescontainingthatwordfromthedatabase.Next,thesystemcalculatesthereadabilityscoresforalloftheretrievedsentencesusingthefollowingreadabilityformulathatwedeveloped:WhereSisthereadabilityscore,vgisthesentence'svocabularyJLPTlevel,kgisthesentence'skanjiJLPTlevel,slisthesentencelength,andw_1andw_2areadjustableweights.Usingthisformula,easysentenceswillreceivehighscores.Inthisformula,asentence'svocabularylevelrangesbetween0-4with1-4beingtherespectiveJLPTlevelsand0beingthelevelusedforwordsthatdonotexistintheJLPT.Asentence'svocabularyleveliscalculatedbyfirstcreatingalistofwordsthatareusedineachsentenceretrievedfromthedatabase.Thesewordsarethenlookedupinthesystem'sdictionarywheretheJLPTlevelisalsostored.Thenumberofwordsineachleveliscountedandthelevelwiththehighestamountisassignedtovginthereadabilityformula.Thesentence'skanjileveliscalculatedinthesamewayasthesentence'svocabularylevel.However,thekanjilevelrangesfrom0-5,with1-4beingtherespectiveJLPTlevelsand0assignedtokanjithatdonotexistintheJLPT,and5beingthelevelusedforwhenthesentencecontainsnokanji.Theweights(w_1andw_2)intheformulacanbeadjustedbythelearnerfromwithintheclientprogram.Thisallowsthelearnertoadjusthowthesystemconsidersvocabularywordlevelandkanjilevelwhenselectingsentencesfortheexercises.Thisformulausessomeofthesamefactorsastheformulathatpresented.However,wedividetheweightedsumofthevocabularywordlevelandkanjilevelbythesentencelength,whereasadoptedtheweightedsumofallthefactors.Wefoundthattakingadifferentapproachtosentencelengthperformedwellduringourtests.Theformulathatpresentedalsoconsidersgrammarasoneofitsfactors.Whilegrammarisaveryimportantfactorinunderstandingasentence,wedidnotincludeitintheformulaforthefirstversionofthise-learningsystembecauseitwasnotrequiredtomeetourobjective.Themainpurposeforusingthisformulaistopreventtheuseofexcessivelylongsentenceswithdifficultvocabularyinexerciseswhenalearnerisbeginningtostudyanewword.Thecurrentversionoftheformulaisabletoassignlowscorestothesetypesofsentences,preventingthemfrombeingusedbeforeshortersentenceswitheasiervocabulary(thatreceivehighscores).Therefore,thisformulaisabletosatisfyourmainobjectivewithoutconsideringgrammar.Afterreadabilityscoresarecalculatedforallofthesentencesretrievedfromthedatabase,arankedlistiscreatedbysortingthesentencesbytheirscoreindescendingorder.Next,thesystemselectswhichsentencetouseintheexercise.ThisselectionprocessisillustratedinFig.~.Tomakethisselection,thesystemusesinformationstoredinthelearner'sprofile,whichincludedahistoryofcompletedexercises.Inthishistory,sentencesthatwereusedinexercisesansweredcorrectlybythelearnerforeachpreviouslystudiedwordarerecorded.Thesystemstartsatthetopoftherankedlistandcheckseachonetoseeifitisalreadyinthelearner'shistory.Thefirstsentencethatisnotinthelearner'shistoryisselectedforuseintheexercise.Ifallofthesentencesarealreadyinthelearner'shistory(i.e.thelearnerhasansweredallofthepossibleexercisescorrectly),arandomsentenceisselectedfromtherankedlist.Thisselectionprocessenablesthesystemtodisplayshortsentencesthatusesimplevocabularywhenthelearnerisfirststartingtostudyaword.Thisisimportantbecausethelearnercouldquicklybecomefrustratedifthesystemdisplaysalongsentencewithdifficultvocabularywhentheyarefirststudyinganewword.Theselectionprocessalsoenablesthesystemtointroducethelearnertoawidevarietyofusagesofthewordthattheyarestudying.Aslongasthelearnerkeepsrecallingthewordandansweringtheexercisescorrectly,adifferentsentencewillbedisplayedeverytimeallowingthelearnertoobservethewordinmorecontexts.</subsubsection>
  <subsubsection title="Customizing the exercise for the learner">Afterasentenceisselected,thesystemdetermineshowtheselectedsentencewillbedisplayedintheexercise.First,usingtheJapanesemorphologicalanalyzertoolcalledMecab,thesentenceisbrokendownintowordsegments.Next,thewordthatthelearnerispracticingisfoundinthesentenceandmarkedsothatlatertheprogramcandisplayaninputboxaboveit.Ifthewordappearsinitshiraganaform,itisreplacedbyitskanjiform.Afterthetargetwordisfound,thesystemattachesreadingstowordsthathaveJLPTlevelsatorbelowthelearner'sJLPTlevel.Finally,aglossisattachedtoeachwordinthesentence.Thisglossisretrievedfromthesystem'sdictionary.Whenmultipledefinitionsofawordexist,alldefinitionsareincludedinthegloss.ExamplesofexercisesthatthesystemgeneratedusingbothonlineandofflinecorporaareshowninTable5and6intheappendixes.Theseexercisesweregeneratedwhentheword行く(meaning:togo)wasinputintothesystem.AJLPTlevel2learnerprofilewasusedinordertodemonstratehowthesystemdisplaysreadingsaccordingtolearnerlevel.Thereadabilityscoreisalsodisplayedbesideeachexercisetoindicatehowthesystemactuallyrankedeachsentence.</subsubsection>
  <subsubsection title="Performance">Thetimetakentogenerateanexerciselargelydependsonhowmanywordsareinthevocabularylist.DuringourtestsonacomputerwithanIntelCoreDuo1.83~GHzCPUand1~GBofRAM,ittookthesystemabout2secondsperwordintheselectedvocabularylisttogeneratetheexercises.Thisisthetimetakenforthefirsttimethatexercisesaregeneratedforavocabularylist.Subsequenttimesarealmostinstantaneousbecausethedatabaseiscached.Whilethisisacceptableperformanceforthefirstversionofthise-learningsystem,inthefutureweplantolookintowaysofoptimizingthisprocesssothatexercisescanbegeneratedfaster.</subsubsection>
  <subsection title="Web crawler">Thissectiondescribesthepartoftheservercalledthewebcrawler.TheoperationsofthewebcrawlerareillustratedinFig.~.ThewebcrawlerisfirstgivenasetofseedURLsfromwhereitbeginslookingfortexts.WebsitesoutsideofthedomainnamesoftheseseedURLsarenotcrawled.Oncethewebcrawlerisstarteditusesaseriesoftemplatesandrulestoextractsentencesfromwebsites.ItfirsttakestheHTMLtextofawebsiteandsplitsitupaccordingtosentenceendingpunctuationmarks.Sentenceendingpunctuationmarksaredefinedasoneofthefollowingcharacters:（。），（！），or（？）．ThecommonlyusedperiodpunctuationmarkinJapanesediffersfromthedotusedforadecimalpointsoitcanbeusedtoreliablydetermineanendingofasentence.Thesepiecesoftextarethenputthroughseveralfilterstodetermineiftheyareasuitablesentenceornot.First,anytextthatcontainHTMLtagsorothercodeareimmediatelydisregarded.Next,anytextcontainingpunctuationthatdenotedquotationisremoved.Anytextcontainingsymbolsornumberingisalsoremoved.Finally,ifapieceoftextonlycontainsnounsorverbsitisalsoremoved.Piecesoftextthatmakeitthroughallofthefiltersarefinallyjudgedtobeasentenceandstoredinthedatabase.Atthispoint,theserverusesMecabtoperformmorphologicalanalysisonthesentence.TheoutputofMecabisusedtocreatealistofwordsthatappearinthatsentence.Theserverremovesanynumbers,punctuationmarks,andparticlesfromthelistandthenstoresitinthedatabase.TheoperationsofthewebcrawlerarefullyautomatedmeaningthattheinstructororlearneronlyneedstoprovideaURLofthewebsitethattheywanttoextracttextsfrom.Thewebcrawlerwillthenperiodicallycrawlthatwebsiteandextractanynewtextsthatarefound.Thisallowstheinstructororlearnertoeasilyandquicklyaddnewsourcesoftextswithouthavingtoworryaboutactuallybuildingandmaintainingacorpus.Thetypesofwebsitesthatthewebcrawleriscurrentlytargetedatarewebsitescontainingprofessionallevelwriting.ThesewebsiteshavethemostsuitablematerialforlearnersofJapanesebecausetheycontainhighqualitytextsthatareleastlikelytohaveerrors.Theuniformusageofsentencepunctuationtypesonthesewebsitesalsoensuresthatthewebcrawlerwillbeabletosuccessfullyextractsentences.Thiswebcrawlerisnotmeanttobeusedonpersonalblogsorbulletinboardswherethewritingstylemaynotbeappropriateforlearnersandirregularusageofpunctuationcouldpreventthewebcrawlerfromextractingusefulsentences.</subsection>
  <subsection title="Corpora">Thissectiondescribesthecorporathatwereusedwiththesystemforthispaper.Oneonlineandofflinecorpuseachwereselectedandusedwiththesystem.TheonlinecorpusisacollectionoftextstakenfromwebsitesontheInternet.Thistypeofcorpusisusuallycollectedautomaticallyandcanalwaysbeupdatedbecausemanywebsitesareupdatedwithnewcontenteveryday.Fortheonlinecorpususedinthispaper,wecollectedtextsfromwebsitescontainingprofessionallevelwritinginordertoensurethatonlyhighqualitytextsweremined.Thesewebsitesincludednewspaperwebsites,technology-relatednewswebsites,andwebsitestargetedatchildren.WerefertothisonlinecorpussimplyastheWebcorpus.Asofwritingthispaper,thewebcorpuscontains150,000sentences.Incontrasttoanonlinecorpus,anofflinecorpusisusuallyconstructedfromacollectionofpublications,suchasbooksornewspapers,andisreleasedinonepackagethatcannotbeupdatedlikeanonlinecorpus.TheofflinecorpususedinthispaperwastherecentlyreleasedsampleoftheBalancedCorpusofContemporaryWrittenJapanese(BCCWJ).Itcontainstextsfromwhitepapers,recordingsoftheNationalDiet,andmanydifferenttypesofpublicationslikebooksandnewspapers.ItalsocontainstextsfromawebsitecalledYahoo!Chiebukuro,acommunity-drivenquestionandanswerwebsitewhereuserscanbothsubmitquestionsandanswerquestionsaskedbyothers.WhiletheBCCWJdoescontainsometextsfromtheInternet,itistreatedasanofflinecorpusinthispaperbecauseitcannotbeupdated.ThesamemethodandfiltersforthewebcorpuswasusedtoinsertsentencesfromtheBCCWJintothesystem'sdatabase.Intotal,around668,000sentenceswereinsertedintothedatabase.ThesetwocorporawereselectedinordertoenablethesystemtocoverthewiderangeofvocabularyandkanjithatareintheJLPTandallowmanydifferenttypesoflearnerstousethesystem.However,thesystemcanalsousemuchmorespecializedcorporathatwouldsupportalearner'sspecificneeds.Theuseofthesetypesofcorporaisdiscussedinthenextsection.</subsection>
  <section title="System use scenarios">Thissectionpresentssomeusagescenariosofthee-learningsystem.Thesectionissplitintotwoparts,onefocusingonbeginninglearnersandtheotherfocusingonadvancedlearners.</section>
  <subsection title="Beginning learners">LearnersofJapanesestudyingatthebeginninglevelarelearningbasicvocabulary,grammarpatterns,andrelativelyfewkanji.Thesetypesoflearnersarestudyingunderlevels3and4oftheJLPT.Asaminimumrequirementforusingthecontext-basedexercisesinthesystem,alearnermustbeabletoreadhiraganaandinputitintoacomputer.Inordertousethecurrentsystemeffectively,itisnecessaryforbeginninglearnerstousethesysteminconjunctionwithaJapanesecourse.Thecourseinstructorcancreateacorpusofsentencestheyhaveeitherwrittenortakenfrommaterialsusedinthecourse.Instructorsdonotneedtoprovidethedefinitionsorkanjireadingsforthewordsusedinthesentencesbecausethesystemprovidesthemautomatically.Learnerswillthenbeabletoeasilyreviewandpracticetheirvocabularythattheyarestudyingoutsideoftheclassroom.</subsection>
  <subsection title="Advanced learners">LearnersofJapanesestudyingatanadvancedlevelhavealreadylearnedallofthebasicvocabulary,kanji,andgrammarpatterns.Suchlearnersstudyatlevel1or2oftheJLPT.Thecurrentversionofthise-learningsystemismosteffectiveforlearnersstudyingintheseadvancedlevels.LearnersintheadvancedlevelsoftentakeJapaneseclassesthatarecomprisedofreadingexercises.Insuchclasses,thelearnersaretypicallygivenanarticle(oftentakenfromamagazineornewspaper)alongwithalistofvocabularyandgrammarinthatarticle.Thelearnerswillthenreadanddiscussthearticletogetherinclass.Theinstructorwillexplainthegrammarandsomeofthemoredifficulttounderstandvocabulary.However,itisoftenuptothelearnerstostudyandmemorizethevocabularyandkanjibythemselves,outsideoftheclassroom.Thisiswherethise-learningsystemcanbemostbeneficialtothelearner.Whenthelearnerisawayfromtheclassroom,theycaninputthevocabularyonthelistintothesystem.Theywillthenbeabletostudyandmemorizetheword'sreadingaswellasdiscovernewwaystousethewordthattheycouldnothavefoundjustbyreadingthearticlefromclass.Thesystemcanalsobeusedbyadvancedlearnersthatarenottakingaclassbutstudyingbythemselves.Learnersusingtextbooksorbooksdesignedforself-studycaninputvocabularyintroducedineachsectionintothesystem.LearnersusingwebsitesontheInternetthatteachJapanesewillalsohavenoproblemusingthesystembecausethosewebsitesoftentakethevocabularyandkanjidirectlyfromtheJLPTlists.Advancedlearnersalsohavemanyoptionswhenchoosingthekindofcorpustousewiththesystem.However,usinganonlinecorpusiswherethelearnerisabletocustomizethesystemtotheirownspecificinterests.Forexample,learnerswhoareinterestedintechnologycanprovidethesystem'swebcrawlertheURLsoftheirfavoriteJapanesetechnologywebsites.Textsfromthesewebsiteswillthenbecollectedbythewebcrawlerandusedinthecontext-basedexerciseswhenthelearnerstudiesvocabulary.Thisallowsthelearnertostudytheusageoftheirvocabularywithinthecontextofafieldthattheyareinterestedinaswellasgainexposuretonewvocabularyusedinthatfield.</subsection>
  <section title="Corpus analysis">ThissectiondescribestheanalysisperformedtocomparethewebcorpuswiththeBCCWJ.Thetwoaspectsonwhichthetwocorporawerecomparedwerewordcoverageandsentencewordleveldistributions.</section>
  <subsection title="Word coverage">Thefirstwayinwhichthetwocorporawerecomparedwasintermsofwordcoverage.ThewordcoverageofthecorporaismeasuredbycountingthenumberofwordsintheJLPTliststhatwereusedinsentencesinthetwocorpora.Table1showsthenumberofwordsfoundineachcorpusforeachJLPTlevel.AsTable1shows,thelargerBCCWJdoeshavebetterwordcoveragethanthewebcorpus.SomeexamplesofwheretheBCCWJprovedbetterthanthewebcorpusarewordsthatcanbewritteninseveraldifferentwayslike明るい（明るいvs.明い）or落とす（落とすvs.落す）．BothversionsofthesewordswerefoundintheBCCWJbutonlythemorecommonversionwasfoundinourwebcorpus.Whilethesetypesofomissionsinthecorpuswillnotentirelypreventthelearnerfromstudyingoneofthesewords,itwillpreventthesystemfrombeingabletoshowthelearnersentenceswithbothversions.AnotherfactorthatwasmeasuredwasthenumberofJLPTwordsusedinusefulsentencesinthecorpora.Ausefulsentenceisdefinedtobeasentencewithawordlevelthatisthesameorlowerthanthelevelofthetargetword.Inthesystem,theeasiestsentencecontainingthetargetwordisalwaysselectedfromthedatabase.Inthebestcase,thesystemwillselectasentencewithalevel4wordlevelforalevel4vocabularyword.Foralevel2vocabularyword,thesystemwillselectasentencewithawordlevelof4,3,or2.Ifthelearnerwasstudyingalevel4vocabularywordandthesystempresentedthemwithasentencewithwordlevelof2,thereisagoodchancethattheleanerwouldnotunderstandanyofthevocabularyinthatsentence.SoitisimportantthatthecorpuscontainsusefulsentencesfortheJLPTwordsthatcanbeusedinthesystem.Table2showsthenumberofthewordsineachJLPTlevelthathaveusefulsentencesforeachcorpus.WhileTable2indicatesthattheBCCWJprovidesmorewordswithusefulsentences,thewebcorpusstillprovidesamajorityofthewordswithusefulsentenceseventhoughitislessthanone-quartersizeoftheBCCWJ.TheanalysisofboththewebcorpusandtheBCCWJshowsthatwhiletheBCCWJhasoverallbetterwordcoverage,thewebcorpus,despiteitssmallersize,canstillcoverthemajorityoftheJLPTwords.Asaresult,webelievethatitisacceptabletousethiswebcorpusforthecurrentversionofoure-learningsystem.</subsection>
  <subsection title="Sentence word level distribution">Theamountofsentencesateachwordlevelinacorpusisalsoanimportantfactorbecausetheremustbeabalancebetweeneasyanddifficultsentences.Fig.~presentsthepercentageofsentencesateachwordlevelforeachcorpus.InthegraphinFig.~,the0levelisthelevelusedforasentencethatmostlycontainswordsthatarenotintheJLPTlists.Thisgraphshowsthat,especiallyforthewebcorpus,thereisalargeamountofsentenceswhichcontaintheseunlistedwords.Webelievethatonereasonwhysuchsentencesaresonumerousinthewebcorpusisthatwehaveincludedalotoftextsfromtechnology-relatedwebsites.ThesetextswillhavemoretechnicaltermsinthemthatmightnotbeintheJLPTlists.Thegraphalsoshowsthattherearesignificantlylesssentencesatlevel3thanatlevel2.Thereasonforthisisthatwordsinlevel3oftenappeartogetherwithmanylevel4wordsinsimplesentences.Sincethereadabilityformulacurrentlyassignsasentence'swordleveltothelevelwithhighestwordcount,manysentenceswithlevel3wordswillbeassignedawordlevel4becausetheycontainmorelevel4words.ThegraphinFig.~alsoshowsthatbothofthecorporahavethelargestamountofsentencesatlevel2and4.Itisgoodtoseethatneithercorpusisoverlybiasedtowardseithereasyorhardwords.However,thewebcorpusdoeshavelesslevel4sentencesthantheBCCWJ.Inthefuturewewouldliketotrytobalancethewebcorpussothatithasanequalamountofsentenceswitheasyandhardwordsaswellaslookintomethodsofdealingwithalloftheunlistedwords.</subsection>
  <section title="Experiments">Thissectiondescribesthethreeexperimentsperformedtoevaluatethesystem.Thefirsttwoexperimentswereperformedtoempiricallyevaluatethereadabilityformulathatwasdevelopedforthise-learningsystem.Thefinalexperimentwasconductedtoevaluatetheusabilityofthee-learningsystem.Duringallexperimentationdefaultweights(w_1=0.5andw_2=0.3)wereusedforformulawhencalculatingthereadabilityscore.Resultsandanexplanationofeachexperimentarefirstgivenfollowedbyadiscussionofalltheresultsattheendofthesection.</section>
  <subsection title="Experiment 1">ThisexperimentevaluatedtheabilityofthereadabilityformulatocorrectlyranksentencesthatcontainedvocabularyandkanjifromtheJLPT.50sentencesfromlevels4,3,2,and1respectivelywereselectedfrompastJLPTs.Thesesentenceswerethensplitupinto50groups,eachgroupcontainingonesentencefromthelevel4,3,2,and1tests.Then,theproposedreadabilityformulawasusedtorankeachgroupofsentences.Asentencetakenfromthelevel4testshouldberankedastheeasiestwiththesentencesfromlevels3,2,and1followingrespectively.Thecorrelationcoefficient(r)wascalculatedbetweenthecorrectrankingandtherankingobtainedbytheproposedreadabilityformula.Topreventorderingofthesentencesfromaffectingtheresults,correlationcoefficientsweretakenforeverypossibleorderingofthesentences.Thefinalresultwasobtainedbyselectingthemedianofthesecorrelationcoefficients.Theproposedreadabilityformulaobtainedacorrelationcoefficientofr=0.95.</subsection>
  <subsection title="Experiment 2">ThisexperimentevaluatedtheabilityoftheproposedreadabilityformulatocorrectlyranksentencescontainedinbothourwebcorpusandtheBCCWJwasevaluated.AgroupofnativespeakersofJapaneseeitherselectedseveralvocabularywordsorwordswerechosenatrandomforthem.ThensentencesthatcontainedthesewordswereretrievedfromboththewebcorpusandtheBCCWJ.Thesentencesforeachwordwererankedbydifficultyusingtheproposedreadabilityformula.Thetop(easiest),bottom(hardest)andmiddlesentenceswereselectedfromtherankedlistofeachwordanddisplayedtothestudent.ThenativeJapanesespeakerparticipantwasfirstaskedtorankthesentencesfromthewebcorpusforeachword.ThentheywereaskedtorankthesentencesfromtheBCCWJforeachword.Theparticipant'sresponsesweretakentobethetruerankingandwerecomparedwiththerankingobtainedusingtheproposedreadabilityformula.Intotal,40vocabularywordswereusedtorank120sentences.Oncealloftherankingswerecollected,thecorrelationcoefficient(r)wascalculatedbetweenthecorrectrankingandtherankingobtainedbytheproposedreadabilityformula.ThecorrelationcoefficientsforbothareshowninTable3.</subsection>
  <subsection title="Experiment 3">Thisexperimentevaluatedtheusabilityofthesystem.NinelearnersofJapaneseofalllevelswereaskedtousethesystemwithafocusbeingputonthecontext-basedexercises.Theywerethenaskedtocompleteashortsurveywheretheywereaskedseveralquestionsandthenwereabletowritedowntheirimpressionsofthee-learningsystem.ThisexperimentwasperformedusingtheversionofthesystemthatusesthewebcorpusandnottheBCCWJ.TheresultsofthesurveyareshowninTable4.WhilethecurrentversionofthesystemcanberegardedasbeingmoreeffectiveforadvancedlearnersofJapanese,wedecidedtoincludelearnersofalllevelsinthisexperimentbecausethefinalobjectiveofdevelopingthise-learningsystemistosupportalllevelsoflearners.Therefore,byincludinglearnersfromalllevelsinthisexperimentweareabletonotonlyevaluatetheusabilityofthecurrentversionofthesystem,butalsoreceivevaluablefeedbackthatwillhelpshapethefuturedevelopmentofthesystem.</subsection>
  <subsection title="Discussion of results">Inthefirstexperiment,theproposedreadabilityformulaperformedverywell.Theseresultsindicatethattheproposedreadabilityformulaperformsverywellforsentencesthatcontainthesystem'stargetvocabularyandkanji.InthesecondexperimenttheproposedreadabilityformulayieldedafaircorrelationcoefficientwhenusedwithboththewebcorpusandtheBCCWJ.Theresultsofthatexperimentshowedadecreaseinperformancecomparedtothefirstexperiment.WebelievethemainreasonforthisisthatsentencesfrombothcorporaoftencontainwordsthatdonotexistintheJLPT.ThereadabilityformulaperformsslightlybetterwhenusedwiththewebcorpusratherthantheBCCWJinthesecondexperiment.Oneproblemthatwaspointedouttousbyastudentduringthesecondexperimentwasthatoneofthesentencesusedanobsoletehiraganacharacter（ゐ）whichcausedthemtorankthesentenceasbeingdifficult.ThistypeofcharacterisnotintheJLPTsoourreadabilityformulaisnotabletocorrectlyrankasentencethatcontainsthem.Inthethirdexperiment,thelearners'opinionsofthesystemwerepositiveoverall.Allofthelearnersthoughtthattheprogramwasatleastfairlyeasytouse.Duringtheentireexperimenttherewasonlyonewordthatalearnercouldnotstudywiththesystem.Thiswordwasnotparsedcorrectlybythemorphologicalanalyzertoolusedinthesystemsonosentenceswiththatwordcouldbefound.Halfofthelearnersfeltthatthesentencesusedinthee-learningsystemwereatleastfairlyhardtounderstand.ThreeoutofthefouroftheselearnershadonlybeenstudyingJapaneseforayearorless.Thishighlightstheneedforthesystemtobeabletoprovideexercisesthatevenlearnerswithalowproficiencylevelcancomplete.However,eventhoughsomelearnersfeltthatsentencesbeingusedwereabovetheirlevel,almostallofthemsaidthattheywouldliketousethiskindofsystemtostudyvocabularywords.Thisisaveryencouragingresultbecauseitsuggeststheselearnersenjoyedusingthistypeofsystemforstudyingvocabulary.Commentsreceivedfromthelearnersweremostlyaboutspecificpartsoftheinterfacethattheywouldlikechangedorpartsoftheinterfacethatdidnotworkhowtheyweresupposeto.Alloftheseissueswillbeaddressedduringthedevelopmentofthenextversionofthissystem.Onelearnercommentedthatthesystemwasgoodforvocabulary,butthattheremightbesomegrammarthattheydidnotunderstandinthesentences.Thishighlightstheneedforthesystemtoprovidesupportforgrammaraswellasvocabulary.Methodsofsupportinggrammararebeinginvestigatedforthenextversionofthesystem.</subsection>
  <section title="Future work">Researchanddevelopmentforthenextversionofthesystemwilllargelyfocusonimprovingthewaythatthesystemselectssentences.Muchtimewillbededicatedtoinvestigatingotherfactorsthatfacilitatetheselectionofmoreappropriatesentences,andalsofilteroutsentencesthatdonotsupportlearning.Furthermore,newkindsofexercisesusefultobothbeginningandadvancedlearnersofJapanesewillalsobedevelopedinordertoallowlearnersofalllevelstosuccessfullystudyJapanesevocabularyusingthissystem.</section>
  <section title="Conclusion">Inthispaperthefirstversionofane-learningsystemthatusesacorpustogeneratecontext-basedexerciseswaspresented.Theobjectiveofdevelopingthise-learningsystemistoassistEnglish-speakinglearnersofJapanesewiththeirstudiesofvocabularyandkanjifortheJLPT.Thedifferentcomponentsofthee-learningsystemwereexplainedandareadabilityformulawasproposedasawaytoselectappropriatesentencesforuseinthecontext-basedexercises.Usescenariosofthee-learningsystemwerealsodescribedforbothbeginningandadvancedlearnerswiththesystembeingmosteffectiveforadvancedlearners.AwebcorpuswascomparedwiththeBCCWJandwhilethelargerBCCWJprovidedbetterwordcoverage,thewebcorpuscoversamajorityofthetargetwordsevenwithitsrelativelysmallsize.Wearguethatthelevelofcoveragerealizedwiththewebcorpusisacceptableforuseinthecurrentversionofthee-learningsystem.Threeexperimentswereperformedfortheevaluationofthee-learningsystem.ThefirstexperimentusingdatafromtheJLPTyieldedagoodperformancewithahighcorrelationcoefficient(r=0.95)whilethesecondexperimentusingdatafromboththewebcorpusandtheBCCWJresultedinfairperformancewithcorrelationcoefficientsofr=0.775andr=0.700respectively.Inthelastexperiment,resultsofasurveyofninelearnersofJapanesewerepositiveoverallwithmostofthelearnerssayingthattheywouldusethesystemtostudyvocabulary.Developmentofthenextversionofthise-learningsystemwillconcentrateonimprovingthesystem'sabilitytoselectappropriatesentencesforuseinthecontext-basedexercisesaswellasdevelopingnewexercisesthatcanaccommodatelearnerswithalowproficiencylevel.wouldliketothankallofthestudentswhotookthetimetoparticipateintheevaluationofthise-learningsystem.Theircommentswereinvaluableinhelpingshapefuturedevelopmentofthesystem.Wewouldalsoliketothankthereviewersforprovidingvaluablefeedbackduringthewritingofthispaper.Finally,wewouldliketothanktheNationalInstituteforJapaneseLanguageforlettingususetheBCCWJ.</section>
  <section title="Sample exercises using the web corpus">[1]8@Sampleexerciseswhenstudyingtheword行くwiththewebcorpus</section>
  <section title="Sample exercises using the BCCWJ">Sampleexerciseswhenstudyingtheword行くwiththeBCCWJdocument</section>
</root>
