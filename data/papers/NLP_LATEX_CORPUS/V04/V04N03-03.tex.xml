<?xml version="1.0" ?>
<root>
  <title>意味的類似性と多義解消を用いた文書検索手法</title>
  <author>大井耕三隅田英一郎飯田仁</author>
  <jabstract>単語間の意味的類似性に基づく検索(以下，類似検索と呼ぶ)は文書検索技術において，重要な課題の一つである．類似性に関する従来研究では，階層構造が平衡しているシソーラスを使った単語間の類似度が提案され，言語翻訳，文書検索などの応用における有効性が示されている．本論文では，階層構造が平衡していないシソーラスにも適用できる，より一般的な単語間の意味的類似度を提案する．本提案では各単語が担う概念間の最下位共通上位概念が有する下位概念の総数が少ないほど，単語間の類似度が大きくなる．筆者らは，この意味的類似度と大規模シソーラスの一つであるEDRシソーラスを使って，類似検索システムを実装した．さらに，精度を向上させるために，単語の多義解消手法をこの検索システムに導入した．本類似検索システムは，単語間の物理的近さと単語の重要度を用いた拡張論理型の従来システムに基づいている．この従来システムとの比較実験を行ない，意味的類似性と多義解消を用いた提案の類似検索手法によって再現率・適合率が向上したことを確認した．</jabstract>
  <jkeywords>意味的類似度，多義解消，文書検索，シソーラス，EDR辞書</jkeywords>
  <section title="はじめに">近年，膨大な電子化された情報の中から必要な情報を検索する技術の必要性が高まっている．インターネットの爆発的な普及に伴って，ユーザが求める情報を持つwwwサーバを検索するシステムが，実際，数多く出現してきている．しかし，これらの検索システムのほとんどは，ユーザが入力した検索キーワードそのものを含むテキスト(に対応したwwwサーバ)を検索するシステムである．検索キーワードに意味的に類似している単語まで考慮した検索(以下，類似検索と呼ぶ)は出来ない．一方，シソーラスに基づく意味的類似性を使った，翻訳，解析，文書検索などの研究が行なわれてきている．ただ，これらの先行研究には(1)シソーラスの階層構造が平衡していると仮定しているという問題と(2)単語の多義性の解消を行なっていないという問題があった．本論文では，階層構造が平衡していないシソーラスにも適用できる，より一般的な単語間の意味的類似度を提案する．本提案では各単語が担う概念間の最下位共通上位概念が有する下位概念の総数が少ないほど，単語間の類似度が大きくなる．筆者らは，この意味的類似度と大規模シソーラスの一つであるEDRシソーラスを使って，類似検索システムを実装した．さらに，精度を向上させるために，単語の多義解消手法をこの検索システムに導入した．本類似検索システムは，単語間の物理的近さと単語の重要度を用いた拡張論理型の従来システムに基づいている．この従来システムとの比較実験を行ない，意味的類似性と多義解消を用いた提案の類似検索手法によって再現率・適合率が向上したことを確認した．以下，節で，提案した意味的類似度，採用した多義解消手法，それらを用いた類似検索，ベースとなる拡張論理型検索について示し，節で前節で述べた類似検索手法による適合率・再現率の改善及び多義解消手法の比較について示し，節でまとめる．</section>
  <section title="類似検索">提案する文書検索手法は，各文書に対して質問との関連度を求め，関連度の大きい順に文書を整列させる．先ず，意味的類似度計算法と多義解消法について述べ，さらに，これらを組み込むベースとなる従来システムの関連度及び検索手順について説明する．</section>
  <subsection title="意味的類似度">単語間の意味的類似度は，単語に付与されている概念間の関係に基づいて計算する．まず，オンラインのシソーラスを概観し，次に，概念間・単語間の類似度について説明する．</subsection>
  <subsubsection title="シソーラス">オンラインのシソーラスには，分類語彙表，角川類語新辞典，Rogetシソーラス，WordNet，EDR電子化辞書の概念辞書(以下，EDRシソーラスと称する)などがあり，いずれも概念を上位・下位の関係で階層的に構成している．これらのシソーラスの特徴を表に示す．WordNetとEDRシソーラスは比較的規模が大きい．また，EDRシソーラスは，概念の階層関係が，日本語・英語共通となっており両言語で利用できる．また，シソーラスはその階層構造によって2種類に分けることができる．分類語彙表,角川類語新辞典,Rogetシソーラスのように，ルート概念から末端概念までの階層の深さがほぼ一定である．WordNet，EDRシソーラスのように，階層の深さが一定でない．本論文ではそれぞれ「平衡シソーラス」，「非平衡シソーラス」と呼ぶことにする．</subsubsection>
  <subsubsection title="概念間の類似度">先行研究では「平衡シソーラス」を扱っている．例えば，隅田らは，平衡シソーラス上での概念間の類似度を用例に基づく翻訳に応用している．そこでは，階層の深さが一定であることを利用して，最下位の共通上位概念の位置に基づいて類似度を決定している．本論文では，EDRシソーラスのような「非平衡シソーラス」にも適用可能な概念間の類似度を定義する．各概念に対して，その概念の具体度を割り当てる(詳細は後述)．具体度は，0からNL-1までのNL個の値の中で，下位になるほど大きな値をとる．図にNLが9の場合を示す．概念A,Bの間の類似度Simは，AとBの相対的な位置関係(3種類)に応じて，具体度を使って次のように定義する．A,Bの最下位共通上位概念をCとし，そのCの具体度をLCとする．AとBが同じ場合(C=A=B)，Sim=1.0．CがAでもBでもない場合，Sim=LC/NL．AがBの上位概念の場合(C=A)またはその逆の場合(C=B)，Sim=(LC+1)/NL．従って，類似度Simは，0,1/NL,2/NL,,(NL-1)/NL,1の離散値をとり，0は最も似ていないことを意味し，1は最も似ていることを意味する．具体度の割り当て「下位概念(末端までの概念すべて)の総数が少ない概念ほど，概念の具体度が高い」という考えで具体度を割り当てる．深さがNL-1(ルート概念の深さを0とする)で，各概念から下位概念への分岐数が一定で，概念数が原非平衡シソーラスに近い仮想の平衡シソーラスを想定する．各概念の具体度の割り当て手順を次に示す．原非平衡シソーラスの概念数TCを求める(但し，TCは2以上とする)．直上位の概念を複数持つ概念は，その数だけ別個の概念が存在していると考えて，概念数を求める．NL(2)を任意に決める．各概念から下位概念への分岐数NBを，次式を満たす最小の自然数とする．TC_k=0^NL-1NB^keqnarray*階層の深さがNL-1(ルート概念の深さを0とする)で，各概念から下位概念への分岐数NBである平衡シソーラスを想定する．平衡シソーラスにおいて，深さがdの概念の下位概念の総数TLD(d)は次式となる．TLD(d)=.eqnarray*原非平衡シソーラスの各概念に対して，その概念の下位概念総数TLCを求める．TLCTLD(d)である最小のdをその概念に具体度として割り当てる．概念数TCが45万であるEDRの非平衡シソーラスに対して，実験では，具体度の数NLを9に，NBは5とした．図に，この時の仮想平衡シソーラスにおける深さdと下位概念総数TLCの関係を示す．</subsubsection>
  <subsubsection title="単語間の類似度">単語w1,w2間の類似度Sim(w1,w2)は次のように求める．単語(見出しと品詞)一致の場合，類似度は(NL+1)/NLとする．単語一致以外の場合，類似度は，2単語の概念のすべての組合せに対する2概念間の類似度の最大値とする．</subsubsection>
  <subsection title="多義解消手法">多くの単語は多義である．すなわち，複数の概念を持っている．節で述べたように，単語間の類似度は，概念のすべての組合せにおける類似度の最大値としている．この場合，実際にその文書で用いられている概念と異なった概念に基づく類似度が高くなることにより，誤って関連文書として検索されてしまうことがある．実際に文書中で使われている概念を同定することができれば，検索の精度は向上できる．そこで，単語の多義を解消する手法を導入することにした．多義解消の手法は多数提案されているが，本論文では，(1)情報検索に適用され逆効果であったと報告されているVoorheesの手法と(2)典型的な少数の多義語に関して高精度な結果が報告されてはいるが，情報検索といった実際的な応用における効果が検証されていないYarowskyの手法を取り上げる．両手法は他の多くの手法とは違って正解データを仮定しないという点で，大規模な制限のないテキストを扱う情報検索に向いた手法である．</subsection>
  <subsubsection title="Voorheesの手法">*-1mmVoorheesは，次に述べる多義解消法を提案し，文書検索の実験を行なっている．文書D中の単語dtの各概念に対して，hood(その概念を含み，単語dtの他の概念を含まない最も上位の概念)を求めた後，式()で定義される差異を求め，差異が正(の最大)すれば，副作用少なく「尤もらしくない」概念の数を減らすことは出来る．今回の実験で正解を含む率では，前者は後者の1/2から1/3と著しく悪かった．また，本類似検索法のように多義性を許容する場合には，この程度の性能でも情報検索の検索精度を向上できる．である概念を単語dtの概念として選択する．差異&amp;=&amp;hood下の概念を持つ単語の文書D内出現数文書Dの延べ語数[1ex]&amp;-&amp;hood下の概念を持つ単語の全文書内出現数全文書の延べ語数eqnarray</subsubsection>
  <subsubsection title="Yarowskyの手法">*-1mmYarowskyは，Rogetシソーラスと大量のコーパスを用いて多義解消の実験を行なっている．文書中の単語dtの多義解消手法の概要は次のとおりである．コーパス中の各単語に対して，前後W語ずつ合計2W語(文脈と呼ぶ)を抽出し，単語dtが属するシソーラス中の概念C毎に，単語dtの文脈中の単語のうち式()があるしきい値Y以上の単語ctに対して，式()のScoreを求め，Scoreが正(の最大)した．となる概念を単語dtの概念としている速度Yarowskyの手続きは文脈幅に依存して大変な処理時間がかかるので，W=4で本実験を行なった．今回の実験で多義解消に要した時間はDECAlphaStation6005/333上で約330時間(2週間)である．Yarowskyの実験が広い文脈幅で実施出来たのは，特定の単語だけを扱っているからである．一方本実験は文書数約3,000の中に含まれる全て多義語を対象としている．．Score&amp;=&amp;_ctPr(ct|C)Pr(ct)[1ex]&amp;&amp;Cに属する単語の文脈中の[0zh]Pr(ct|C)Pr(ct)&amp;=&amp;単語ctの出現確率単語ctの全文脈中の出現確率eqnarray</subsubsection>
  <subsubsection title="多義解消の例">Voorheesの多義解消の例として，後述のベンチマークテスト中の文書番号1719の文書(図)中の単語``evaluating''の結果を表に，Yarowskyの多義解消の例として，同テスト中の文書番号1411の文書(図)中の単語``formulas''の結果を表に示す．表中，「概念」の欄に示している文字列は，EDRシソーラスに記述されている概念説明である．「文書(または文脈)内貢献語」は，Voorheesの手法ではhood下の概念をもつ文書内の単語を，Yarowskyの手法では文脈中の単語のうち節の式()のしきい値Yが2.0以上の単語を示す．</subsubsection>
  <subsection title="拡張論理型検索">本論文では，前節までに説明した意味的類似度計算法と多義解消法の有効性を検証するため，その手法を従来の拡張論理型検索システムに組み込む．拡張論理型検索システムは論理型の質問を受理し，この質問と文書間の関連度によって文書を整列させて出力する．関連度は以下に述べる「物理的な近さ」と「単語の重要度」と前節までの「意味的類似度」とから計算される．</subsection>
  <subsubsection title="単語間の物理的近さ">質問中に複合語が指定された場合は，その複合語中の各単語(または最も類似している単語)の文書中の物理的近さを，質問・文書間の関連度に反映させる．物理的近さは，例えば，複合語が``parallelalgorithm''の場合，``parallel''と``algorithm''それぞれに類似した単語が文書中に出現しているとき，その類似した単語間の物理的距離が近いほど大きい値になるよう定義する．この尺度は，質問中の複合語と文書間の関連度の乗数(節参照)として用いる．物理的近さPNの定義式を次に示す．PN&amp;=&amp;c_11c_1-1c_2(Dis+1-N)+1eqnarrayここで，</subsubsection>
  <subsubsection title="単語の文書毎の重要度">単語の重要度に関しては様々な尺度が提案されている．本実験では，単語の文書内の出現頻度と全文書中の出現文書数に基づいた重要度を使う．文書D内の単語dtの重要度wは，次のように定義される．w&amp;=&amp;tfmax_tfNDfNDeqnarrayここで，</subsubsection>
  <subsubsection title="質問・文書間の関連度">質問本手法では，次に示すような論理型質問Qを受理する．Q&amp;=&amp;q_1|q_2||q_K[0.5ex]q&amp;=&amp;qt_11,,qt_1N_1_&amp;&amp;qt_M1,,qt_MN_M_[-1.5ex]&amp;&amp;*1.3zw質問語~qc_1*6zw質問語~qc_Meqnarrayここで，`|'と`&amp;'はそれぞれ`OR'と`AND'のオペレーションを表す．この形式は，K個のqが`OR'オペレーションで結合され，各qはM個の質問語qc(単語または複合語)が`AND'オペレーションで結合され，各質問語qc_iはN_i個の単語qtから成っている．*-1mm関連度*-1mm質問Qと文書Dとの間の関連度Rel(Q,D)は次式のように定義する．Rel(Q,D)&amp;=&amp;maxRel(q_1,D),Rel(q_2,D),,Rel(q_K,D)[1ex]Rel(q,D)&amp;=&amp;_i=1^M_j=1^N_iRel(qt_ij,D)PN(qc_i,D)^2_i=1^M_j=1^N_iRel(qt_ij,D)PN(qc_i,D)[1ex]Rel(qt,D)&amp;=&amp;max(w_1,w_2,,w_L)maxSim(qt,dt)eqnarrayここで，Rel(Q,D)の計算は，q_1,q_2,,q_Kのうち，少なくとも1つのqに含まれる単語それぞれに対して類似している単語が出現している文書に対してのみ行なう．「類似している単語」とは，あらかじめ指定されたしきい値Tに対してSim(qt,dt)Tである単語dtを意味する．Rel(q,D)は，単にq中の単語qt_ijすべてに対するRel(qt_ij,D)PN(qc_i,D)の値の平均とするよりも，Rel(qt_ij,D)PN(qc_i,D)が大きい値ほどその値の重要度が大きくなるようになっている．</subsubsection>
  <subsubsection title="検索手順">実際の検索処理に先だって，(a)質問中の単語への概念の付与，(b)全文書に対するインデックスファイル(各文書の見出し語・品詞からなる各ペアに対して，文書番号，重要度，出現位置が付与されたファイル)の作成を行なった．インデックスファイルの作成手順は次のようになる．文書の中から，ストップリスト(冠詞や前置詞など文書検索にとって重要と考えられない単語のリスト)に属する単語を除き，すべてのアルファベットを小文字化する．形態素解析により，各単語に対して，見出し語・品詞の可能なペア，出現位置の情報を付与する．類似検索の場合は，ここで，見出し語・品詞の各ペアに対してシソーラスに従って，取りうる概念を付与する．この概念集合に対して，多義解消を行なう．節の式()に従って，各文書の見出し語・品詞の各ペア対して，重要度を計算し付与する．質問に対する検索処理手順は次のとおり．質問を節の式(),()の形に変換する．式()の少なくとも1つのq中の単語qtそれぞれに対して，Sim(qt,dt)T(しきい値)を満たす単語dtが出現している文書を検索する．検索された文書毎に，質問・文書間の関連度Rel(Q,D)を節の式()から求める．検索された文書を関連度順に整列させる．</subsubsection>
  <section title="実験">ここでは，非平衡シソーラスにも適用できる意味的類似度と単語の多義解消を組み合わせた提案の類似検索手法を従来の検索法と比較し，適合率・再現率の向上を確認する．また，適合率向上に貢献した多義解消法の精度に関する実験結果について示す．</section>
  <subsection title="ベンチマークテスト">情報検索システム評価用ベンチマークテストの1つにFoxのVirginiaDiskがある．実験では，その中のCACMと呼ばれるセットを使った．CACMには，コンピュータサイエンスに関する3,204の文書(タイトルとアブストラクト，1文書当たり約125語)，3種類の質問セット(自然言語文からなるNLQ,ブーリアン形式のBLQ1,BLQ2)，質問ごとの関連文書の文書番号が含まれている．各質問セットには64個の質問が含まれている．NLQはオリジナルの質問セットで，BLQ1,BLQ2はNLQを基にして作られている．実験では，NLQの質問文中の単語が比較的多く使われているBLQ2の中で，NOTオペレーションを含むものと正解の関連文書がないものを除く47個の質問に複合語を指定する変更を加えたもの(以下では，変更版BLQ2と呼ぶ)を用いた．NLQ,BLQ2,変更版BLQ2の質問番号35の質問内容を下に示す．変更版BLQ2において，シングルクウォート(')で囲まれた部分が1つの質問語を表している．=0mm[NLQ]Probabilisticalgorithmsespeciallythosedealingwithalgebraicandsymbolicmanipulation.Someexamples:Rabiin,&quot;Probabilisticalgorithmonfinitefield&quot;,SIAM.Waztch,&quot;Probabilistictestingofpolynomialidentities&quot;,SIAM.verbatim[BLQ2]#q35=#and('probabilistic','algorithm',#or('algebraic','symbolic'),'manipulation');verbatim[変更版BLQ2]#q35=#and('probabilisticalgorithm',#or('algebraicmanipulation','symbolicmanipulation'));verbatim</subsection>
  <subsection title="評価方法および実験条件">評価は，情報検索の分野で一般的に使われている再現率と適合率を用いた．再現率および適合率は次式で定義される．再現率&amp;=&amp;ランクN位までの検索文書中の関連文書数関連文書数[1ex]適合率&amp;=&amp;ランクN位までの検索文書中の関連文書数ランクN位までの検索文書数eqnarray再現率・適合率グラフは次に示す手順で作成した．式(),()の値Nを任意に複数個決める．質問ごとに，式(),()によりNにおける再現率と適合率を求める．Nにおける再現率と適合率の全質問に対する平均を求め，プロットする．次節の結果では，Nを10,20,30,,200に設定した．表に示した条件設定の元で，表に示す4種類の手法WM,AM,DM(Voo),DM(Yar)を比較し，非平衡シソーラスにも適用できる意味的類似度と単語の多義解消を組み合わせた提案の類似検索手法DM(Voo)及びDM(Yar)の有効性を確認する．</subsection>
  <subsection title="実験結果">ここでは多義解消を伴った類似検索の有効性と多義解消法の比較について述べる．</subsection>
  <subsubsection title="文書検索の比較">図--は，検索時にシステムが許容する単語間の類似度を制御するためのしきい値T(，節参照)が，高い方から順に，9/9,8/9,7/9,6/9の場合の再現率・適合率グラフである．*-1mmいずれのしきい値Tにおいても，AMは，WMと比べて，適合率は減少しているが再現率は向上している．適合率減少の原因の1つに単語の多義性がある．単語間の類似度を求める際にすべての概念を考慮しているので，実際に文書中で使われている概念とは異なる概念に起因して多くの非関連文書が検索されてしまうのである．多義解消手法を導入したDMをAMと比べた場合，概ね，再現率は若干減少しながらも適合率が改善している．これは，AMで検索されていた非関連文書がDMでは多義解消の効果により検索されなくなったためである．但し，T=7/9(図),T=6/9(図)では，多義解消の失敗の影響で再現率が減少しているのが目立つ．DMをWMと比べると，ある程度しきい値$T$が大きい場合には，大略，再現率・適合率ともに向上している．</subsubsection>
  <subsubsection title="多義解消法の比較">Voorheesの多義解消の文書検索における有効性に関しては，Voorheesの報告とは逆に，Voorheesの手法を若干変更し，類似検索に適用して，その有効性を確認できた．また，Yarowskyの手法も，同程度の有効性が確認できた．但し，しきい値Tが9/9の時にはDM(Voo)の方が性能が良く，しきい値Tが8/9以下ではDM(Yar)の方が性能が良く，しきい値Tが小さくなればなるほど両者とも性能が悪くなる．次に，多義解消手法単独の精度について述べる．図に対応するT=9/9と図に対応するT=6/9の条件を代表として取り上げ，質問中の単語と類似している関連文書内の単語(延べ数は前者が59，後者が105である)の多義解消の結果を調べた(表,)．選択単語は1つ以上の概念を選択できた単語である．選択率は多義解消手続きの汎用性を示す．成功単語は選択した概念の中に正解概念(文書中で使われている概念)が含まれている単語である．成功率は多義解消が働いた場合の精度を示す．本実験ではスコアが正である概念を選択しているので，選択され排除されない概念数が多ければ成功率も高くなりうるので，多義解消手続きで選択され排除されない概念の割合も考えなくてはならない．これを多義圧縮率と呼ぶことにする．いずれのしきい値の場合でも，選択率，成功率ともに，Voorheesの手法，DA(Voo)が優っており，逆に，多義圧縮率はYarowskyの手法，DA(Yar)が優っている．選択率と成功率が同じなら，多義圧縮率によって検索への効果が決まるが，それ以外は単純に比較できない．多義解消法の性能が必ずしも高くなくても，検索性能は上げられることがわかったが，両者の関係は必ずしも単純ではなく，今後さらに検討を続ける必要がある．</subsubsection>
  <section title="おわりに">本論文では，シソーラスが平衡または非平衡，どちらの場合にも適用できる意味的類似度を提案した．本提案では各単語が担う概念間の最下位共通上位概念が有する下位概念の総数が少ないほど，大きくなるように単語間の類似度を決定する．さらに，この類似度と多義解消を用いた類似検索手法を提案した．比較実験により，本類似検索手法は従来の検索手法に比べて，適合率・再現率ともに改善していることを確認した．今後の研究課題としては，本手法で用いたパラメータの最適化，応用や言語やシソーラスを変えた場合の有効性の検証，多義解消アルゴリズムの高精度化・高速化，未知語対策または応用への適用を目指したシソーラスの拡張・修正・生成手法などがある．</section>
</root>
