<?xml version="1.0" ?>
<root>
  <title>チャット対話における発言間の継続関係と応答関係の同定</title>
  <author>徳永泰浩乾健太郎松本裕治</author>
  <jabstract>本論文では，チャット対話の対話構造を解析する手法を提案し，その実現可能性について論じる．まず，発言間の二項関係である継続関係と応答関係に対話構造を分解し形式化する．継続関係とは，質問やそれに対する応答を構成する同一話者による発言間の関係である(例えば，1つの質問を構成する2つの発言「あなたは」と「学生ですか？」の関係，あるいは1つの応答を構成する2つの発言「はい」と「そうです」の関係)．応答関係とは，質問と応答のような異なる話者による発言間の関係である．これらの関係に基き、発言をまとめあげることで対話構造を解析する．本研究では，この問題をある発言とそれに先行する発言との間に継続関係または応答関係があるか否かの2値分類問題に分解し，コーパスベースの教師あり機械学習を試みた．解析対象は，対話構造を付与したコーパスである(2人対話と3人対話の合計69対話，11905発言)．本手法による対話構造全体の正解との一致率は，2人対話87.4%，3人対話84.6%であった．</jabstract>
  <jkeywords>チャット，対話理解，対話構造解析</jkeywords>
  <section title="はじめに">省略補完や代用表現の解釈といった対話理解のための対話構造のモデル化と解析は，音声対話を対象にした機械翻訳の分野で特に重要とされている．これに対し，チャット対話を対象とした対話構造のモデル化と解析は，情報抽出やコミュニケーション支援といったチャット対話を言語資源として利用する研究分野においても重要とされている．このような分野では，「現在話されている話題は何か」「誰がどの話題について情報をもっているか」といった情報を獲得することが必要であり，各発言の相互の関係を示す対話構造を同定する必要がある．チャット対話では，表のようにメッセージを送受信することで対話が進む．対話は文字データとして記録されるため，そのまま言語資源として利用できる．しかし，チャット対話はその独特の特徴のため，音声対話を対象とした既存の対話構造モデルをそのまま適用することは難しい．まず，表の25と27の発言のように，質問と応答のような意味的につながりを持つ発言が隣接しない場合がある．また，質問や応答を構成する発言自体も31と32，33の発言のように区切って送信(区切り送信)される場合がある．このように，チャット対話の基本単位は音声対話のそれとは異なる．本論文の目的は，チャット対話の発言間の二項関係である継続関係と応答関係を同定する処理を自動化して対話構造を解析する手法を提案し，その実現可能性について論じることである．2節で詳述するように同一話者による発言のまとまりをムーブと呼ぶ．このとき，チャット対話の対話構造を解析する作業は，次の２つの処理に分解できる．具体的には，表の発言31から33までからなるムーブを構成する発言間の二項関係(例えば，発言31と32及び発言32と33)を継続関係，質問と応答のような異なる話者のムーブ間の二項関係(例えば，発言31から33までからなるムーブと発言34からなるムーブ)を応答関係と定義し，これらの関係に基づいて，発言をまとめあげることで対話構造を解析する．本研究では，この問題をある発言とそれに先行する発言との間に継続関係があるか否か，または応答関係があるか否かの2値分類問題に分解し，コーパスベースの教師あり機械学習を試みた．解析対象はオフラインのチャット対話ログである．</section>
  <section title="対話構造のモデル">我々は，Sinclairらの対話構造モデルを拡張し，チャット対話に適用した．表のチャット対話例にこのモデルを適用した結果を図に示す．Sinclairらは対話構造を，複数の階層から構成される対話のやりとりの構造としてモデル化している．まず，対話中の発言を相互行為上の機能(真偽を確かめる質問や確認など)によって定義される単位であるアクトと見なす．次に，.同.一.話.者による複数のアクトを，質問や応答などの対話の局所構造の中での機能を表現するムーブにまとめる．さらに，.異.な.る.話.者によるムーブの間の関係(例えば，話者Aの質問に対する話者Bの応答)を考え，こうした関係にある複数のムーブのまとまりをエクスチェンジとする．Sinclairらのモデルは，対話の発言間の関係を捉える道具立てとしてチャット対話の構造解析にも有用であると考えられる．しかし，チャット対話にこのモデルをそのまま適用することは2つの理由で難しい．1つ目の理由は，処理の基本単位の違いである．Sinclairらの対話構造モデルでは，区切り送信によって生じた表の31のような未完結な発言を想定しておらず，そうした発言の扱いが明らかでない．2つ目の理由は，ムーブ間の応答関係の交差の問題である．チャット対話では，表1の対話例の発言24と26のように，応答関係にあるムーブ同士が必ずしも隣接しない．Sinclairらのモデルはこの例のようにムーブ間の応答関係が交差する可能性を想定していない．我々は，Sinclairらのモデルを以下のように拡張する．区切り送信は発言権を相手に渡さないために起こるとされている．我々は，このような発言を発言権の保持を意図するアクトと見なし，モデルの基本単位を区切り送信によって区切られた個々の発言に変更する．また，ムーブ間の応答関係が交差する現象を表現できるよう，交差を許すモデルに拡張する．これらの拡張により，チャット対話特有の現象を含めて対話構造を表現することができるようになり，対話構造解析アルゴリズムの議論が可能になる．また，Sinclairらのモデルは，どのような発言(アクト)同士が継続関係をなしてムーブを構成するか，あるいはどのようなムーブ同士が応答関係をなしてエクスチェンジを構成するかに関する具体的な規定が示されておらず，この点も問題である．4節に詳述するように，本論文で提案する解析手法には，教師データとして対話構造を付与した信頼性の高いコーパスが必要である．このため，対話構造モデルをチャット対話データに適用するための具体的な指針が必要である．以下2.1節及び2.2節では，発言間の継続関係およびムーブ間の応答関係を新しく規定し，指針を示す．この結果，3節で述べるように，タグ付け作業者間の判断のゆれが少ない，信頼性の高い注釈つきコーパスを構築することができた．</section>
  <subsection title="継続関係の定義">ムーブを構成する同一話者による発言(アクト)間の関係を継続関係と呼ぶ．表の例で言うと，発言31から33までの同一話者による一連の発言のまとまりがムーブであり，発言31と32の関係及び32と33の関係をそれぞれ継続関係と言う．一方，発言28と30は同一話者による発言であるが，それぞれ異なるムーブの構成素であり，この発言間には継続関係はないと考える．上で論じたように，本モデルでは区切り送信で区切られた発言を基本単位に変更したので，どのような発言同士が継続関係をなしてムーブを構成するかを新しく規定する必要がある．以下，継続関係にある発言(例えば発言27と28)において，前の発言(例えば発言27)を先行発言，後の発言(例えば発言28)を後続発言と呼ぶ．継続関係の定義は，人間が判断しやすいもので，かつ同定の自動化も容易なものでなければならない．本論文では新たに，統語的手がかりに基づいて，継続関係を助詞類型，接続詞類型，特殊表記型，名詞類型，倒置型，挿入節型の6つの型に分けて定義する．以下に示す継続関係の例では，統語的手がかりに下線をひく．</subsection>
  <subsection title="応答関係の定義">エクスチェンジを構成する異なる話者によるムーブ間の関係を応答関係と呼ぶ．表の例で言うと，発言31から33までのムーブAとそれと異なる話者による発言34からなるムーブBが応答関係にある．一方，発言30からなるムーブCとムーブAは発話者は異なるが，応答関係にはなく，異なるエクスチェンジに属する．本論文では，エクスチェンジの一般形にしたがってムーブの機能を働きかけ，応答，補足，応答/働きかけの4つに分類し，ムーブ間の応答関係を規定する．エクスチェンジの構成規則は以下のように一般化されている．*は0回以上の繰り返しを表す．この構成規則から，応答関係にあるムーブの機能の組合せとしては，[働きかけ]→[応答]，[応答]→[補足]，[補足]→[補足]の3通りが可能である．さらに我々は以下に述べるように，各ムーブを構成する発言の種類に基づいて，ムーブ間の応答関係をより詳細に制限する．まず，発言をアクトと呼ばれる下位分類に分類する．アクトの分類方法についてはすでにいくつかの提案がある．本研究では発話行為タグを参考に表に示す20種類のアクトを定義した．ただし，アクトが区切り送信によって複数の発言に分割されている場合は，それら複数の発言をまとめたものにアクトを与える．次に，どのようなムーブ同士が応答関係を構成し得るかに関する制約をムーブに含まれるアクトに基づいて表のように与える．例(8)は，発言(a)と(b)からなるムーブAと発言(c)と(d)からなるムーブBとの応答関係である．発言(a)と(b)のアクトは区切り送信によって複数の発言に分割された真偽情報要求アクトである．一方，発言(c)は否定・拒否アクト，発言(d)は情報伝達アクトであり，ムーブBは2つのアクトからなる．表から，真偽情報要求アクトを含むムーブと応答関係を構成し得るのは，肯定アクトあるいは否定・拒否アクト，不明な応答アクトを含むムーブである．Aさん：ベロンって				[真偽情報要求]Aさん：まだラツィオにいるんだっけ？		[(区切り送信)]Bさん：いや					[否定・拒否]Bさん：彼はマンチェスターにいます。		[情報伝達]</subsection>
  <section title="実験用コーパス">本研究では，教師付き機械学習を利用し，チャット対話の対話構造解析を行なう．そのために，訓練データとして対話構造を付与したコーパスが必要になる．しかし，これまでの研究では主に人手で作った規則を用いて解析する手法をとっていたため，訓練データとして使える大規模な対話構造付きコーパスは存在しない．そこで我々は，対話構造を付与したコーパスを作成した．</section>
  <subsection title="コーパスの元にしたデータ">本研究で使用するコーパスは，IRC(InternetRelayChat)で公開されているチャット対話データを独自に収集し，それを元に作成したものである．使用したチャットシステムは，CHOCOAである．CHOCOAでは，分単位の受信時刻，送信者名，送信内容の3つ組が一度に送受信できる．本研究では，これを入力対話の基本単位とした．対話参加者の入退出の通知などチャットシステム自体が通知する発言は分析対象から除外した．収集した対話データは，2人対話34対話(5769発言中システム発言を除外した5180発言)と3人対話35対話(7439発言中システム発言を除外した6725発言)の合計69対話(13208発言中システム発言を除外した11905発言)である．発言者の異なりは27名であり，多くの話題は進路，サッカー，テレビゲームについてである．収録期間は約4カ月である．全発言に占める関係先を持つ発言数は表の通りである．</subsection>
  <subsection title="対話構造の表現方法">2節で提示した対話構造モデルをチャット対話データに付与したコーパスの一部を表に示す．コーパスの各項目について説明する．発言IDは各発言固有のIDである．関係先は，発言と関係を持つ発言のIDである．関係先の発言が複数考えられる場合(例えば，発言45，46，47のように，2つの質問発言に対して1発言で答えるもの)は両方の発言を関係先とする．関係名は，継続関係，応答関係のいずれかであり，関係先を持たない場合は空欄にする．継続型は2.1節の継続関係のタイプ，アクトは2.2節の表で示したアクトを表す．発言31，32，33のように，区切り送信によって一つのアクトが複数の発言に分割されたと考えられる場合は，先頭の発言(例えば，発言31)にアクトを付与する．受信時刻は発言を受信した時間，送信者は発言者名，送信内容は発言内容を指す．コーパスの信頼性をタグ(関係先ID及び関係名)の一致率で評価した．評価尺度としてκ値(KappaStatistics)を採用した．コーパスから取り出した3人対話837発言について2人の作業者がそれぞれタグを付与し，κ値を求めた結果は0.762であった．この結果から，2節で論じた継続関係，応答関係の基準によって，比較的信頼性の高い注釈付きコーパスが構築できたと言える．得られたデータは提案手法の評価対象としても信頼に足るものであると判断した．</subsection>
  <section title="提案手法"/>
  <subsection title="対話構造解析アルゴリズム">入力対話に対し，対話の先頭の発言から最末の発言にかけて順番に解析する．提案した対話構造の階層モデルに従い，まず継続関係の同定を入力対話全てに対して試み，発言をムーブにまとめあげる．その後，ムーブ間の応答関係を同定し，ムーブをエクスチェンジにまとめあげる．本手法では，ムーブ間の応答関係を同定する際には，ムーブを構成する全ての発言を素性の抽出対象とするため，ボトムアップに対話構造を解析する手法を用いた．</subsection>
  <subsubsection title="継続関係の同定">入力対話に対し，対話の先頭の発言から最末の発言までを走査しながら，その位置での発言(以下，対象発言と呼ぶ)ごとに次のステップに従って処理を進める．表の対話を例に継続関係の同定手順を図に示す．図は対象発言が28，先行発言の参照数nが4の場合を表している．まず，対象発言と同一話者による発言である24と27の発言とのペアを候補ペアとして抽出し，分類する．分類後，発言24と28及び27と28のペアと複数のペアが関係ありと分類されるが，スコアを比較した結果，27と28のペアが継続関係となる．</subsubsection>
  <subsubsection title="応答関係の同定">入力対話に対し，対話の先頭のムーブから最末のムーブまでを走査しながら，その位置でのムーブ(以下，対象ムーブと呼ぶ)ごとに次のステップに従って処理が進む．表の対話を例に応答関係の同定手順を図に示す．図は対象ムーブが34(この事例では，発言34のみがムーブを構成する発言)，先行発言の参照数nが7の場合を表している．対象ムーブと異なる話者によるムーブ(27，30，31の発言が各ムーブを構成する発言の中で，先頭の発言)のペアを候補ペアとして抽出し，分類する．結果，31と34の発言を含むムーブのペアが応答関係となる．</subsubsection>
  <subsection title="分類器">本手法では，素性として複数の発言の形態素情報の2つ組の組合せを全て考えるため，素性の異なりは数万となり分類器への入力ベクトルは高次元になる．そこで，分類器には，素性集合の冗長性に対して比較的頑健な性質を持つサポートベクタマシンを利用した．スコア(確信度)としては分離平面からの距離を用いた．訓練時には，継続関係及び応答関係の同定処理のステップ1と同じ処理を行ない獲得した各ペアから表に示す素性集合を抽出し，各訓練事例とする．素性集合は継続関係及び応答関係で異なる．</subsection>
  <subsection title="素性">表に示す素性について説明する．表中及び文中の略表記はそれぞれ，CRRuは対象発言．CRRmは対象ムーブ．PREuは先行発言．PREmは先行ムーブ．NANu_sは対象発言と先行発言の間にある対象発言に最寄りの同一話者の発言．NANm_sは対象ムーブと先行ムーブの間にある対象ムーブに最寄り同一話者のムーブ．NANm_dは対象ムーブと先行ムーブの間にある最寄りの対象ムーブと異なる話者のムーブ．NBNu_sは対象発言の発言時間から1分以内に発言された最寄りの対象発言と同一話者の発言．を表す．</subsection>
  <section title="評価実験"/>
  <subsection title="実験環境">実験には，本研究で作成したチャット対話コーパス(2節で述べた対話構造モデル及び指針作成，アクト辞書作成で分析対象とした837事例を除いた計11028事例)を用いた．事前にすべての発言に対して茶筌を利用し形態素解析を行なった．結果の妥当性・再現性を高めるために5分割交差検定を行なった．素性の組合せも同定規則として採り入れるため，分類器(サポートベクタマシン)のカーネル関数として2次の多項式カーネルを用いた．参照する先行発言数は解析時及び訓練時共に，継続関係で7，応答関係で8発言とした．これはコーパスにある発言から最も遠い関係先までの発言数である．解析時に対象発言からいくつ先の発言までとのペアを考えるかという参照先数のパラメタ最適化の問題があるが，今回は扱わなかった．</subsection>
  <subsection title="調査項目">本手法及びベースラインの手法による対話構造の解析精度について調査した．2.1節及び2.2節で詳述した継続型や，ムーブに含まれるアクトまでは同定しない．この分類は，3節で詳述したコーパス作成の指針，4.3節で詳述したアクト辞書の作成時，および実験結果の分析作業で利用した．ベースラインの手法では，入力対話の先頭から最末の発言までを走査しながら，(ステップ1)対象発言と対象発言に最寄りの同一話者による先行発言が継続関係にあるとみなし，(ステップ2)正しい継続関係先を与えた状態で，対象ムーブとそれに最寄りの異なる話者の先行ムーブが応答関係にあるとみなし，対話構造を解析する．継続関係と応答関係の同定実験の結果は，精度及び再現率，F値で評価した．対話構造全体の解析結果は一致率で評価した．関係先が複数ある発言では，いずれかひとつと一致した場合を正解とした．精度&amp;=&amp;eqnarray*再現率&amp;=&amp;eqnarray*一致率&amp;=&amp;eqnarray*</subsection>
  <subsection title="実験結果">本手法とベースラインの手法による対話構造の解析結果を比較することにより，本手法の有効性を評価した．対話構造全体の解析結果を表に示す．BL2p及びBL3pは2人対話及び3人対話データにベースラインの手法を適用した結果，提案2p及び提案3pは2人対話及び3人対話データに本手法を適用した結果である．一致率は，2人対話及び3人対話それぞれにおいて，本手法がベースラインの手法を上回っている．継続関係及び応答関係の同定結果を表に示す．継続関係にある発言の多くは隣接しているため，BL2p，BL3pの再現率は高い．しかし，互いに隣接する発言でも実際には継続関係を持たない場合もあるため，精度は低い．これに対し本手法では，継続関係を持たない発言間の関係も同定しているため，精度も高くなっている．応答関係の同定における再現率は，継続関係のものと比べて低い．5.4節で詳述するように，特に情報伝達や真偽情報要求，未知情報要求アクトを含むムーブとの応答関係同定の失敗が再現率を大きく下げる原因となっている．しかしながら，精度については，BL2p，BL3pに比べ本手法が大きく上回った．アクト辞書を用いてムーブに含まれるアクトを推定することで，適切な応答関係を同定できたと言える．アクト辞書によるアクト推定を行なわなかった場合の精度，再現率，F値はそれぞれ2人対話で0.633，0.169，0.266，3人対話で0.690，0.117，0.200であった．ここで，2人対話と3人対話それぞれの同定精度がほぼ同程度であったことは興味深い．この理由としては，3人対話において2人の情報交換が支配的であったことが関係していると考えられる．このような現象は音声対話においても報告されている．以上の結果から，本タスクは単純な方法で解けるほど簡単な問題ではないが，アルゴリズムを工夫すれば自動化の実現性が十分にある問題であることが分かる．こうした問題に取り組みその実現可能性を実証した例は我々の知る限り過去にない．</subsection>
  <subsection title="結果に対する考察"/>
  <subsubsection title="継続関係の同定性能">[tbt]table*継続関係の同定における継続型毎の再現率を表に示す．今回の実験では，継続型までは同定していないため，精度，及びF値を求めることはできなかった．表に示すとおり，特殊表記型と倒置型，挿入型の再現率が他の型に比べて低い．このうち，倒置型と挿入型の誤りは頻度も少なくなく，無視できない．</subsubsection>
  <subsubsection title="応答関係の同定性能">応答関係については，再現率，精度とも継続関係に比べて劣っている．これについては，まずタスク自身の難しさが理由の一つとして考えられる．3.2節で述べたように，本研究ではコーパスに付与したタグの信頼性を2人の作業者の一致率で評価したが，もう少し詳しく見ると，継続関係のκ値0.825に対し，応答関係のκ値は0.634であり，継続関係と比べると応答関係の同定は人間にとっても難しい作業であることがわかる．つぎに，ムーブに含まれるアクト毎の応答関係の再現率を表，表に示す．横軸はデータセットを表し，縦軸はムーブに含まれるアクト毎の応答関係を表す．縦軸で，ブラケットで囲まれた2つの部分のうち，左の部分は，先行ムーブに含まれるアクトであり，右は後続ムーブに含まれるアクトである．表のブラケットの中の”all”は，表で示した全てのアクトを意味する．表は，表のうち事例の多かった情報伝達および真偽情報要求，未知情報要求アクトを先行ムーブに含む場合の再現率をさらに詳しく分析したものである．ムーブに複数のアクトが含まれる場合は，ムーブを構成する先頭の発言のアクトのみをカウントした．表，表に示すとおり，全体的な再現率は高くはない．このうち，情報伝達と真偽情報要求，未知情報要求アクトを先行ムーブに含む応答関係は頻度も少なくなく，無視できない．</subsubsection>
  <subsection title="各素性の有効性について">4.3節で詳述した素性全てを使用して作成した解析器を用いた同定結果と1つの素性を省いた残りの素性を用いた同定結果とを比較し，省いた素性が関係同定にどの程度有効かを考察する．表は，解析器作成で使用した素性の組み合わせ毎の継続関係の同定精度，再現率，F値を表している．素性を削除して精度等が下がる場合は，削除した素性は関係同定に有効であると考えられる．表中の略表記の意味は4.3節及び表を参照されたい．precは精度．recは再現率．fはF値を表す．なお，全ての素性の組み合わせc0は，本手法で使用した素性の組み合わせである．表から，全ての素性を用いた組み合わせc0を用いた場合のF値が2人対話，3人対話共に一番高いことがわかる．また，ほぼ素性crr_o，pre_o，nbn_oの順に関係同定に寄与していることがわかる．表からは，各素性がどの種類の関係同定に寄与しているかを見ることができる．なお，3人対話の結果は，2人対話と傾向が似ていたため割愛する．crr_oは，特殊表記型，倒置型および挿入節型で特に効果がある．2.1節の事例からもわかるように，対象発言の先頭と末尾の形態素情報といった統語的手がかりが関係同定に有用であったと考えられる．pre_oは助詞類型，接続詞類型で特に効果がある．2.1節の事例からもわかるように，先行発言の末尾の形態素情報といった統語的手がかりが関係同定に有用であったと考えられる．しかし一方で，倒置型の同定には悪影響を及ぼしている．例(15)，(16)のように，先行発言の末尾の形態素情報が同じ発言でも継続関係を持つ場合と持たない場合が本コーパス中には多い．このため，訓練事例中に正例と負例が混在し，関係同定に教師あり学習器を利用した本手法ではうまく扱えず，再現率を下げたと考えられる．Aさん：出来る面子じゃありませんよAさん：バルセロナは[関係先：(a)，関係名：継続（倒置型）]Aさん：そうは思いませんAさん：ベッカムはAさん：移籍しますよ[関係先：(b)，関係名：継続（助詞型）]nbn_oは倒置型の同定に効果がある．例(17)のようにNBNu_sの先頭の形態素がムーブの先頭を表す接続詞類と考えられるものであった場合，対象発言と先行発言が継続関係にあるという判断に効果があったと考えられる．Aさん：ポジションチェンジなんですよねAさん：向こうのオーバーラップは[関係先：(a)，関係名：継続（倒置型）]Aさん：ところで、次に，応答関係の場合について述べる．表は，解析器作成で使用した素性の組み合わせ毎の応答関係の同定精度，再現率，F値を表している．表中の略表記の意味は4.3節及び表を参照されたい．なお，全ての素性の組み合わせr0は，本手法で使用した素性の組み合わせである．表から，全ての素性を用いた組み合わせr0を用いた場合のF値が3人対話で一番高いが，2人対話では，r6およびr7の素性の組み合わせを用いたF値がr0よりも若干高く，一番高い．また，素性crr_aおよび素性lwが他の素性に比べて大きく関係同定に寄与していることがわかる．表からは，各素性がどの種類の応答関係同定に寄与しているかを見ることができる．なお，3人対話の結果は，2人対話と傾向が似ていたため割愛する．crr_aは，確認アクトおよび情報伝達アクトを含むムーブとの関係同定で特に効果がある．これは，対象ムーブのアクトを推定することで表で示した制約が利用できたためと考えられる．lwは真偽情報要求アクトおよび未知情報要求アクトを含むムーブとの関係同定で特に効果がある．これらのアクトを含むムーブの多くは末尾にクエスチョンマークを持つため，末尾の表層表現がクエスチョンマークであるか否かという情報が関係同定に有用であったと考えられる．</subsection>
  <section title="関連研究"/>
  <subsection title="チャット対話を対象とした対話構造解析研究との関係">Khanらは，チャット対話から話題や参加者の興味等を抽出することを目的として，本論文で言う応答関係の同定を試みた．具体的には，質問とそれに対する応答のまとまりからなるスレッドという単位を定義し，スレッドの始まりの発言を同定する実験を行なった．スレッドの始まりとそうではない発言の特徴を分析し，人手でルールを作成した．ルールは表層表現と発言内の単語数の組合せである．実験対象は，チャットアプリケーションAOLInstantMessenger(AIM)を利用して収集した約1500発言で，対話の参加人数の異なりは12名である．小倉らは，本論文で言う応答関係の同定を目的とし，チャット対話特有の表現等を手がかりとした同定実験を行なった．具体的には，引用記号を使用した次話者の指定表現「＞Aさん」や，関連する発言を明示する表現「ほんとに？＞りんごと蜂蜜」等の表層表現だけで判断できる5種類の同定要素を組合せたルールを用いて，関係同定のためのにどのような表層表現が有効かを調査した．実験対象は，独自に作成したチャット対話データであり，参加者の異なりは16名，2人対話と3人対話合わせて870発言である．これらの先行研究は，本論文では応答関係と定義した関係の同定に必要な手がかりに焦点を当てたものであり，対話構造の解析及び継続関係の同定には踏み込んでいない．ルールベースの関係同定手法は，チャット特有の言語表現が発言中に存在するもののみを主な対象としたものであり，定量的な性能比較は難しい．しかし，我々のアプローチには，こうした既知の知見を素性としてモデルに組み込める柔軟性を持っているという利点がある．実際，小倉らの知見は，4.3節で述べたムーブの末尾の表層表現などの素性としてモデルに反映させてある．小林は，多人数が参加するチャット会議のログからの議事録自動生成を目的とし，本論文で言う継続関係及び応答関係の同定を試みた．発話文という単位を処理の基本単位とし，それらの間の関係を同定した．具体的には，基点となる発話文の前後の発話文を探索し関係先候補を複数抽出する．その後，発話文内の表層情報と品詞情報を手がかりとして関係先を決定する．発話文を可能な限りつなげていくことで，ある話題に対する継続した対話部分を抽出する．関係先の決定には，関係先の候補発話文にヒューリスティックを用いてポイントを与える．ポイントの計算は指定した表層表現や品詞の有無で加算される．実験対象は，会議の進行役のいるチャット会議ログであり，関係先を同定するためのヒューリスティクスもこの対話スタイルに特化したものになっている．彼らは，ある発話文と二項関係にある発話文を特定する際に，その2つの発話文の素性のみを利用している．本手法では，発言間の二項関係同定のために，関係を同定したい発言とそのまわりの発言の素性も利用した．継続関係について触れられているが，その同定方法については説明されていない．このため，本論文の解析手法と比較することはできなかった．</subsection>
  <subsection title="音声対話を対象とした対話構造解析研究との関係">質問とそれに対する応答のような対話構造をある種の文法規則によって捉えようとする考えとして談話分析がある．Groszらは，談話中の発話の処理を記述するための枠組となる理論を提示している．この理論では，談話の構造は，相互に関係する3種の要素，言語構造(linguisticstructure)，意図構造(intentionalstructure)，注視状況(attentionalstructure)から構成される．この理論に基づく談話単位は，一貫したゴールを持つ部分を1つの単位としている．しかし，本研究で求めようとしている対話構造の単位は，質問と応答のようなまとまりからなる単位であり，より小さな単位となる．Sinclairらは，より局所的な視点から対話構造の階層モデル提案している．これは，Hallidayのランク尺度の考え方に基づいている．彼らは，談話に対して相互作用，交渉，エクスチェンジ，ムーブ，アクトの5つのランクからなるランク尺度を定義し，それに基づいた対話構造のモデルを提案している．本研究で対象としたチャット対話は，質問とそれに対する応答のような意味的につながりを持つ発言が必ずしも隣接しない．また，質問とそれに対する応答を構成する発言自体も区切り送信される場合があり，対話構造を構成する基本単位が異なる．このような特徴ため，既存の対話構造モデルをそのままチャット対話に適用することはできない．我々は，対話構造の基本単位をチャット対話の基本単位に変更し，意味的につながりを持つ発言が隣接しない現象を表現できるよう，交差を許すモデルに拡張した．厳寺らは，Sinclairらのモデルを参考にして対話構造の形成を試みた．彼らは，2人対話を対象とし，発言がなされる毎に漸次的に対話構造を認識する手法を提案している．具体的には，文末表現等から構成される表層表現パタンと対話特有の現象である話者交替に関する情報を用い，現在処理している発言のアクトを同定する．アクト情報を基に，直前の発言との関係を同定し，ムーブ，エクスチェンジまで発言をまとめあげて対話構造を構築する．彼らは，音声対話の書き起こしテキストを実験対象とし，対話構造の同定の際に現在処理している発言とその直前の発言との関係だけを利用した．高梨らは，独話を対象に話し言葉の処理の基本単位を節と定義し，節の同定を試みた．節の同定には，発言に含まれる形態素といった局所的な情報を利用している．局所的な情報だけでは節の同定が難しい倒置のような表現は同定対象としていない．本研究では，意味的につながりを持つ発言が必ずしも隣接しないという特徴を持つチャット対話を対象としている．このため，現在処理している発言の直前の発言だけでなく，それよりも前の発言との関連も調べる解析手法を提案した．また，倒置等の局所的な情報だけでは判断できない関係の同定も対象とした．</subsection>
  <section title="おわりに">本研究では，チャット対話を対象として対話構造解析を行なった．本研究の成果は以下の通りである．既存の対話構造モデルの拡張とコーパス構築における指針の提案：対話構造解析アルゴリズムの適用を可能とするため，Sinclairらの対話構造モデルをチャット対話に適用できるよう拡張したモデルを提示した．このモデルは，継続関係と応答関係という発言間の二項関係から成る．さらに，どのような発言(アクト)同士が継続関係をなしてムーブを構成するか，あるいはどのようなムーブ同士が応答関係をなしてエクスチェンジを構成するかを新しく規定し，分析作業及び教師あり機械学習に利用できる大規模なコーパス作成のための指針を提案した．この指針に基づく対話構造を付与したコーパスを作成し，2人の作業者同士のタグ付けの一致度を調査したところ，κ値0.762という結果が得られた．この結果から，提案したタグ付けの指針が人間の判断のゆれに比較的強い基準になっていることが経験的に確かめられた．チャット対話の対話構造解析：対話構造全体の一致率は2人対話87.4%，3人対話84.6%であり，ベースラインの手法を上回っている．この結果は，発言間の二項関係を同定する計算モデルが，少なくとも教師データがあれば，教師あり機械学習によって構築可能であることを経験的に示した．本タスクは単純な方法で解けるほど簡単な問題ではないが，アルゴリズムを工夫すれば自動化の実現性が十分にある問題であることが分かる．こうした問題に取り組みその実現可能性を実証した例は過去にない．</section>
  <section title="発言間の結束度">本研究で言う結束度は，発言同士のムーブ単位へのまとまりやすさを表す．対象発言(以下CRRu)と先行発言(以下PREu)間及びCRRuとCRRuの発言時刻から1分以内に発言された最寄りのCRRuと同一話者の発言(以下NBNu_s)間の結束度を計り，どちらのペアの結束度が強いかの2値を素性とする．なお今回は，動詞を持たないCRRuに対象を制限した．結束度の強さは，PREu及びNBNu_sに出現する全ての動詞及びCRRuに出現する全ての名詞と名詞に連接する助詞を組合せた3つ組n(名詞)，rel(助詞)，v(動詞)の共起確率P(n，rel，v)を求め，3つ組の数で正規化することで計る．例(11)の発言(a)がPREuで(b)がCRRu，(c)がNBNu_sである場合，P(宛，で，来る)とP(宛，で，直す)を比較する．Aさん：メール来ちゃったAさん：個人宛でAさん：前の文章を直すP(n，rel，v)を推定する手法としては，単語の共起を潜在的な意味からの同時発生とみなすProbabilisticLatentSemanticIndexing(PLSI)を使用し，共起確率モデルを作成した．発言間の共起確率モデルは任意の入力n，rel，vに対して，共起確率を出力する．n，rel，vをrel，vとnの共起とみなすと，PLSIにおける共起確率P(n，rel，v)は次式で与えられる．P(n,rel,v)&amp;=&amp;_zZP(rel,v|z)P(n|z)P(z).eqnarray*ここで，zは共起の潜在的な意味クラス(隠れクラス)を指す．式中の確率的パラメタP(rel，v|z)，p(n|z)，p(z)は，EMアルゴリズムによって推定できる．モデルの訓練の手順を以下に示す．新聞記事19年分(毎日新聞9年分，日経新聞10年分)のべ25,061,504文をCaboChataku/software/cabocha/で係り受け解析し，動詞とそれに係かる名詞と助詞の3つ組n，rel，vを抽出した．モデルの訓練事例として，チャット対話コーパスではなく新聞記事コーパスを利用した．これは，新聞記事コーパスから獲得できる共起用例は大規模であることと，チャット対話コーパスは，関連する発言が必ずしも隣接しないという特徴のため正しい共起用例を自動的に抽出することが難しいことがその理由である．今回は，のべ2回以上出現した名詞，動詞を採用した．助詞は，格助詞は``が''，``を''，``に''，``で''，``へ''，``から''，``より''の7つに``は''，``も''を加えた9つとした．2.で得た3つ組をPLSI学習パッケージtaku/software/plsi/に入力し，確率的パラメタを推定した．隠れ変数の個数|Z|は1000とした．document</section>
</root>
