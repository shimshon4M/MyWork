



\documentstyle[epsf,jnlpbbl]{jnlp_j}

\setcounter{page}{3}
\setcounter{巻数}{2}
\setcounter{号数}{3}
\setcounter{年}{1995}
\setcounter{月}{7}
\受付{1995}{5}{6}
\再受付{1995}{7}{8}
\採録{1995}{9}{10}

\setcounter{secnumdepth}{2}

\title{連想メカニズムを用いた時間判断手法の提案}
\author{土屋 誠司\affiref{doshisha}\affiref{Sanyo} \and 奥村 紀之\affiref{doshisha} \and 渡部 広一\affiref{doshisha} \and 河岡 司\affiref{doshisha}}

\headauthor{土屋 誠司・奥村 紀之・渡部 広一・河岡 司}
\headtitle{連想メカニズムを用いた時間判断手法の提案}

\affilabel{doshisha}{同志社大学大学院工学研究科}
{Graduate School of Engineering, Doshisha University}
\affilabel{Sanyo}{三洋電機株式会社研究開発本部ヒューマンエコロジー研究所}
{Human Ecology Research Center, R\&D H.Q., Sanyo Electric Co,. Ltd.}

\jabstract{
我々は，人間と自然な会話を行うことができる知的ロボットの開発を目標に研究を行っている．人間は会話をする際に意識的または無意識のうちに，様々な常識的な概念をもって会話を展開している．このように会話文章から常識的な判断を行い，適切に応答するためには，ある語から概念を想起し，さらに，その概念に関係のある様々な概念を連想できる能力が重要な役割を果たす．本稿では，ある概念から様々な概念を連想できるメカニズムを基に，人間が行う常識的な判断の一つである時間に関する判断を実現する方法について提案している．日常的な時間表現に着目し，基本的な常識知識を事前に与え，知識として持っていない多くの未知の表現にも対応できる柔軟なメカニズムの構築を実現している．結果としては，時間判断システムの正答率が約69.4\%，精度が約81.6\%の割合で人が行う判断結果と一致しており，二段階未知語処理手法を用いた時間判断システムは有効なシステムであるといえる．
}

\jkeywords{時間判断，未知語処理，概念ベース，関連度}

\etitle{The Method of The Time Judgment Based on \\
An Association Mechanism}
\eauthor{} 

\eabstract{
A human-like common sense and judgment is necessary to materialize a computer that can take communication with human. Because, when people talk to each other, we have the concept of time in our mind consciously or unconsciously. In the case, the ability to call concept in mind and to associate with many referred concepts will be an important matter. This paper will propose the method to systemize judgment concerning time, based on the mechanism to associate concept with many other referred concepts. In this research, the aim is rather for daily time-expression and an adaptable mechanism that can even deal with unknown expression. The feature of this paper is, using the knowledge in various ways by the viewpoint of time, from a small amount of given knowledge.  As a result, the percentage of correct answers of the time judgment system is approximately 69.4\%, and the precision is approximately 81.6\%. Therefore, the time judgment system using the technique proposed in this paper is an effective system.
}

\ekeywords{time judgment, unknown word processing, concept base, degree of association}

\begin{document}
\maketitle


\section{はじめに}
我々は，人間と自然な会話を行うことができる知的ロボットの開発を目標に研究を行っている．ここで述べている「知的」とは，人間と同じように常識的に物事を理解・判断し，応答・行動できることであるとしている．人間は会話をする際に意識的または無意識のうちに，様々な常識的な概念（場所，感覚，知覚，感情など）を会話文章から判断し，適切な応答を実現しコミュニケーションをとっている．本論文では，それらの常識的な判断のうち，時間の表現に着目し研究を行っている．

例えば，「もうすっかり葉が散ってしまいましたね」という表現に対して，人間であれば「秋も終わって冬になろうとしている」ことを理解し，「もう少ししたら雪が降りますね」などのように，自然なコミュニケーションとなる返答をする．しかし，これまでの会話・対話の研究においては「おうむ返し」が一般的であり，この場合「どうして葉が散ってしまったのですか」や「どのように葉が散ってしまったのですか」などのように，自然な会話が成立しているとはいえない返答をする．このように，人間と同じように自然な会話を実現するためには，語や語句から時間を連想する機能・システムは必要不可欠であると考える．

このようなことを実現するためには，ある語から概念を想起し，さらに，その概念に関係のある様々な概念を連想できる能力が重要な役割を果たす．これまで，ある概念から様々な概念を連想できるメカニズムを，概念ベース\cite{hirose:02,kojima:02}と関連度計算法\cite{watabe:01}により構成し実現する方法が提案されている．また，この連想メカニズムを利用し，ある名詞から人間が想起する感覚を常識的に判断するシステム\cite{horiguchi:02,watabe:04}について提案されている．そこで本稿では，連想メカニズムを基に，人間が日常生活で使用する時間に関する表現を理解し，適切な判断を実現する方法について提案する．

これまでにも，コンピュータに時間を理解させる方法が研究されている．\cite{allen:84}や\cite{mcdermott:82}の時間論理を基に，時間的な関係や因果関係などについての推論，プランニングなどが行われている．また，\cite{tamano:96}では，事象の時間的構造に関する記述形式について提案がなされている．\cite{mizobuchi:99}では，時間表現を意味解釈するために，意味解釈を時点，時点区間などの概念に分類し，これらの分類に対して時間表現に対応する形式表現が定義されている．さらに，形態素列からなる時間表現を形式表現に変換するアルゴリズムが提案されている．このように，これまでの研究は，時間表現の記述形式に着目したものであり，様々な時間表現をある定義に沿って変換し，整理するものである．

本研究では，時間表現の変換ではなく，語句からある時間を表現する語を連想することを特徴としている．具体的には，日常的な時間表現に着目し，知識として持っていない未知の表現にも対応できる柔軟なメカニズムの構築を実現している．さらに体言と用言の組合せパターンを一切持たずに語句から時間を推測するなど，時間の観点から，少ない知識を如何に多様に使用するかが本研究の特徴である．


\section{時間判断システム}\label{time}

\begin{figure}[b]
\caption{時間判断システムの構成}
\label{time-judgment-system}
\end{figure}

時間判断システムの構成を図\ref{time-judgment-system}に示す．時間判断システムは，時間を表現する語（以下，時語と呼ぶ）を収録した知識ベース（以下，時間判断知識ベースと呼ぶ）と，時間判断知識ベースに存在しない未知の語（以下，未知語と呼ぶ）を扱うために，時間判断知識ベースに存在する既知の語（以下，既知語と呼ぶ）に関連付け，未知語を既知語と見なして扱うための未知語処理手法により構成されている．また，未知語処理においては，複数の電子化辞書等から機械的に自動構築された大規模なデータベースである概念ベース\cite{hirose:02,kojima:02}と，語と語の間にある関連性を評価する関連度計算法\cite{watabe:01}（以下，これらを合わせて連想メカニズムと呼ぶ）を用いることにより，語の連想を実現し処理を行っている．

本研究では，時間に関する表現として，

\begin{itemize}
\item 体言，または体言の組み合わせによる語句\\
（ex.:朝，明日の朝）

\item 体言と用言の組み合わせによる語句\\
（ex.:日が昇る，葉が赤い）
\end{itemize}
について，一つの語句のみから人間が時間を判断できるものを扱う．上記の例では，「日が昇る」から「朝」，「葉が赤い」から「紅葉」を想起し「秋」であると判断できる．つまり，「物価が上がる」のように人間でも時間を判断できないものや，「事件の当日」のようにこの語句のみからでは時間を判断できないものについては扱わないものとする．

なお，時間判断とは，ある語句に対してそれが時間に関する語句であるか否かの判断ができ，さらに，時間に関する語句であった場合には，その語句から想起される時間を提示できることであると定義する．

判断結果として提示する時間は，「日」の中の時刻・時間帯，「年」の中の日付や季節である．表現方法としては，具体的な数値（ex:クリスマス＝12月25日，午後＝12:00〜23:59）または，\ref{time_judgment_knowledge_base}章で述べる時間判断知識ベースの明示的時語である絶対時語として登録されている「春」，「梅雨」，「夏」，「秋」，「冬」，「朝」，「昼」，「夕方」，「夜」の9語とする．なお，これらの9語を以下代表時語と呼び，日常生活でよく使用し，且つ，なるべく少ない語数で違和感なく「日」と「年」のすべての期間を表現するという基準の下，気象庁が定義している「日本の四季」\footnote{http://www.kishou.go.jp/know/whitep/1-2-1.html}と「時間細分図」\footnote{http://www.kishou.go.jp/know/yougo\_hp/saibun.html}を参考にして選定している．

\section{時間判断知識ベース}\label{time_judgment_knowledge_base}
時間判断知識ベースには，大きく分けて明示的時語と暗示的時語の2種類があり，我々が日常一般的に使用している時語を計565語登録している．具体的には，大学生約150名に，「時を表現する語」と「時を連想できる語」に関して各20語以上ずつ自由記述でアンケートをとり，その中で，5名以上が回答した語を時語として時間判断知識ベースに登録している．\ref{meiji}節，\ref{anji}節で，それぞれの時語について例を挙げて説明する．
なお，時間判断知識ベースに登録した時語は，\ref{meiji}節，\ref{anji}節で示すように分類して整理することができる．また，今回登録した時語はあくまでも例であり，より多く登録すれば時間判断の精度は向上し，少なければ精度は劣化すると考えられる．本研究では，\ref{meiji}節，\ref{anji}節で示す計565語の知識を用いて時間判断の処理を行い，如何に多くの時間表現に対応できるかが重要なポイントとなる．


\subsection{明示的時語}\label{meiji}
ある語そのものが時間を表すものであり，以下の9種類に分類でき，計378語を登録している．
\begin{itemize}
\item 絶対時語（157語）\\
単体で特定の時間を表す語（ex.:クリスマス，朝，夏）．
\item 相対時語（93語）\\
ある時間を基準として相対的な時間を表す語（ex.:今日，来年）．
\item 週曜時語（35語）\\
年月日時分秒ではなく，曜日の概念で時間を表す語（ex.:月曜日，週末）．
\item 範囲時語（36語）\\
ある時間の範囲を表し，単体では時間を表すことはできない語（ex.:上旬，最後）．なお，これらの語は絶対時語や相対時語などと組み合わせることによって時間を表す（ex.:１月の上旬，夏休みの最後）．
\item 複合時語（30語）\\
時語の組み合わせによって時間を表す語（ex.:明朝→明日＋朝，昨年度→前の＋年度）．
\item 単位時語（14語）\\
時間を表す単位であり，数字と組み合わせて時間を表す語（ex.:年，週間）．
\item 指定時語（7語）\\
未来または過去方向ならびにその方向への距離を表すベクトル的な語（ex.:前の，次の）．
\item 年号時語（4語）\\
数字と組み合わせて年号を表す語（ex.:昭和，平成）．ただし，身近なものに限定している．
\item 前後時語（2語）\\
時語の後ろに接続して「前」と「後」関係を表す語（ex.:三日前，一週間後）．
\end{itemize}

\subsection{暗示的時語}\label{anji}
人間であれば「スキー」から「冬」を想起するように，その語自体は時間を表さないが，暗黙的に時間を想起する語である．暗示的時語として，一日の中での時間を暗示する語である「時語日」を43語，一年の中での時間を暗示する語である「時語年」を144語，計187語を常識の範囲で登録している（ex.:「時語日」：起床→朝，就寝→夜，「時語年」：紫陽花→梅雨，蝉→夏）．


\section{概念ベースと関連度計算法}
連想メカニズムは概念ベースと関連度計算法により構成されており，概念ベース\cite{hirose:02,kojima:02}は，ある語から語意の展開を行い，関連度計算法\cite{watabe:01}は，語意の展開結果を利用し，語の間にある関連性を数値として表す手法である．

\subsection{概念ベース}\label{consept_base}
概念ベースは，複数の電子化辞書から各見出し語を概念，その見出し語の説明文中の自立語を概念の属性として，機械的に自動構築された大規模なデータベースである．本研究では，機械的に構築した後，人間の感覚からは不適切である属性を削除し，必要な属性を追加する自動精錬処理を行った概念ベース（概念数約9万）\cite{hirose:02}を利用している．

概念ベースにおいて，任意の概念$A$は，概念の意味特徴を表す属性$a_i$と，この属性$a_i$が概念$A$を表す上でどれだけ重要かを表す重み$w_i$の対で表現される．概念$A$の属性数を$N$個とすると，概念$A$は以下のように表せる．ここで，属性$a_i$を概念$A$の一次属性と呼ぶ．
\begin{eqnarray}
A &=& \{ (a_1, w_1), (a_2, w_2), \cdots, (a_N, w_N) \}
\end{eqnarray}

概念$A$の一次属性$a_i$は概念ベースに定義されている概念としているため，$a_i$からも同様に属性を導くことができる．$a_i$の属性$a_{ij}$を概念$A$の二次属性と呼ぶ．
概念「電車」を二次属性まで展開した様子を図\ref{concept_base}に示す．

\begin{figure}[t]
\caption{概念「電車」を二次属性まで展開した場合の例}
\label{concept_base}
\end{figure}

\subsection{関連度計算法}
関連度とは，概念と概念の関連の強さを定量的に評価するものであり，具体的には概念連鎖により概念を２次属性まで展開したところで，最も対応の良い一次属性同士を対応付け，それらの一致する属性個数を評価することにより算出するものである．
概念$A$と$B$の関連度$Assoc(A,B)$は以下のアルゴリズムにより計算する\cite{watabe:01}．

\begin{enumerate}
\item まず，2つの概念$A$, $B$を１次属性$a_i, b_j$を用いて，
\begin{eqnarray}
A &=& \{ a_i | i=1\sim L \} \label{ConA} \nonumber \\
B &=& \{ b_j | j=1\sim M \}	\label{ConB} \nonumber
\end{eqnarray}
と定義する．
ここで，属性個数は重みの大きいものから30個を上限として展開するものとする．この属性個数30個は，ある概念に対して「関連が深い」，「関連がある」，「関連がない」と思われる概念200組に対して，属性個数を10〜100個まで10個刻みで変化させたときの関連度の関係が，上記3つの関係と一致するか否かを調査した結果導き出された最適な値である．\cite{irie:99}

\item 1次属性数の少ない方の概念を概念$A$とし（$L \le M$），概念$A$の1次属性の並びを固定する．
	\begin{eqnarray}
	A &=& (a_1, a_2, \cdots, a_L) \nonumber
	\end{eqnarray}
\item 概念$B$の各1次属性を対応する概念$A$の各1次属性との一致度($Match$)の合計が最大になるように並べ替える．
ただし，対応にあふれた概念$B$の1次属性（$b_{x_j}, \ j=L+1, \cdots, M$)は無視する．
	\begin{eqnarray}
	B_x &=& (b_{x_1}, b_{x_2}, \cdots, b_{x_L}) \nonumber
	\end{eqnarray}
\item 概念$A$と概念$B$との関連度$Assoc(A,B)$は，
	\begin{eqnarray}
	Assoc(A,B) &=& (s/L+s/M)/2  \label{Echain} \nonumber \\
	s &=& \sum_{i=1}^L Match(a_i, b_{x_i}) \nonumber
	\end{eqnarray}
とする．
\end{enumerate}

また，概念$A$と概念$B$の一致度$Match(A,B)$は，一致する１次属性の個数（すなわち，$a_i = b_j$なる$a_i$の個数）を$s$個とするとき，次式で定義する．
\begin{eqnarray}
Match(A,B) &=& (s/L + s/M)/2	\label{Ematch} \nonumber
\end{eqnarray}
この式は，概念Aと概念Bの一致割合を評価する一つの方式として，概念$A$から見たときの属性の一致割合$s/L$と概念$B$から見たときの一致割合$s/M$の平均を採用している．


\section{時間判断手法}
本研究では，時間に関する表現として\ref{time}章で説明したように「朝」や「明日の朝」などのように，体言，または体言の組み合わせによる語句と，「日が昇る」（＝「朝」）や「葉が赤い」（＝「秋」）などのように，体言と用言の組み合わせによる語句とを対象に，語句の持つ意味に着目し時間判断の処理を行う．以下に，時間判断における各処理方法を詳しく述べる．


\subsection{体言，または体言の組み合わせによる語句に対する処理}
入力される体言が既知語である場合，時間判断知識ベースを参照することにより，直接時間を判断することができる．また，体言の組み合わせである場合は，各体言から判断する時間を足し合わせる．例えば，語句「今年のクリスマス」であれば，体言「今年」から「2005年」，体言「クリスマス」から「12月25日」を導き，結果「2005年12月25日」であると判断できる．なお，入力される体言が未知語であった場合，\ref{unknown_word_processing}章で述べる未知語処理手法を用いて処理を行う．


\subsection{体言と用言の組み合わせによる語句に対する処理}
体言と用言の組み合わせによる語句の意味を扱うにあたり，日本語には経験的に以下のような特徴を挙げることができる．

\begin{itemize}
\item 漢字にはそれぞれ意味があり，使用される漢字により語句の意味が表現されていることが多い．例えば，仮に語句の意味がわからない場合であっても，人間は，使用されている漢字からある程度その語句の意味を推測することができる．
\item 体言と用言を組み合わせた表現の場合，体言の動作・状態を表現する用言が非常に重要な意味を持つ．
\item 体言と用言が単体で表現する意味は，用言より体言の方がその範囲を限定し，詳しく表現することができる．
\end{itemize}

これらのことを踏まえて，体言と用言の組み合わせによる語句に対する処理の手順は，語句の意味をよりうまく表現しているものを利用した処理から順に行う．つまり，まずはじめに，語句の意味を最もよく表現している漢字を用いた処理を行い，次に，語句で重要になる用言を拡張する処理を行う．続いて，語の意味を概念ベースにより語意拡張する処理，体言のみからの処理を行い，最後に，用言のみからの処理を行うものとする．

具体的な処理は，入力される語句から直接時間を判断するのではなく，入力される語句に含まれる漢字や概念ベースを活用し，時間判断知識ベースに存在する既知語へ帰着させ，間接的に時間を判断する．例えば，語句「葉が赤い」から「秋」であると判断するのではなく，既知語「紅葉」に帰着させる．そして，時間判断知識ベースを参照することにより「秋」であると判断することができる．

なお，体言と用言の組み合わせによる語句に対する処理において，用言に関する知識ベースを用いずに処理を行う．何故ならば，体言と用言を組み合わせることにより，体言または用言それぞれが表現する意味，内容が変化する特性をもっているからである．もし，体言と同じように用言に関する知識ベースを構築し，体言と用言との組み合わせをとり処理を行った場合，語句の複雑性から例外が頻発し，処理が煩雑になると考えられる．


\subsubsection{漢字の組み合わせによる処理}\label{kanji}
漢字の持つ意味に着目し，入力された語句の体言と用言に含まれる漢字を組み合わせて時語を生成する．

例えば，語句「日が落ちる」を処理する場合，体言「日」と用言「落ちる」のそれぞれから漢字「日」と「落」を抽出する．抽出された漢字を組み合わせて生成される語は，「日落」と「落日」の２語である．この場合，「落日」は既知語であるため，語句「日が落ちる」は既知語「落日」に帰着され，結果「夕方」であると判断することができる．

\subsubsection{用言を代替する漢字の組み合わせによる処理}
漢字の組み合わせによる処理と同様，漢字の持つ意味に着目した処理である．概念ベースを利用して，入力された語句の用言に対する属性を取得する．その属性のうち用言，およびサ変名詞を抽出し，体言との漢字を組み合わせて時語を生成する．なお，漢字を組み合わせて生成した語が既知語に複数存在する場合は，概念ベースの属性に付与されている重みが最大の属性を用いて生成した語に帰着させる．

例えば，語句「日が沈む」を処理する場合，漢字「日」と「沈」から生成される語は「日沈」と「沈日」であり既知語ではない．そこで，概念ベースから用言「沈む」の属性を取得し，「没する，入る，落ちる，$\cdots$」などの属性を抽出する．これらの漢字と体言の漢字「日」を組み合わせることにより時間を判断することができる．この場合，既知語「日没」と「落日」が生成されるが，属性「落ちる」の方が概念ベースでの重みが大きいため，既知語「落日」に帰着され，結果「夕方」であると判断することができる．

\subsubsection{属性の検索による処理}
入力された語句の体言と用言を属性に含んでいる既知語を検索する．なお，条件を満たす既知語が複数存在する場合，既知語と入力された語句の体言，用言との関連度の平均が最も大きいものに帰着させる．

例えば，語句「太陽が沈む」を処理する場合，体言「太陽」と用言「沈む」の両方を属性に含む既知語を検索する．結果，既知語「夕日」が条件を満たし，「夕方」であると判断することができる．

\subsubsection{体言のみによる処理}
入力された語句の体言のみから時間を判断する．体言が既知語である場合，直接時間を判断することができる．なお，入力される語句の体言が未知語であった場合，\ref{unknown_word_processing}章で述べる未知語処理手法を用いて処理を行う．

例えば，語句「柿を食べる」を処理する場合，体言「柿」のみから「秋」であると判断することができる．

\subsubsection{用言のみによる処理}
入力された語句の用言のみから時間を判断する．用言に関しては時間判断知識ベースに存在しないため，すべての用言に対して\ref{unknown_word_processing}章に述べる未知語処理手法を用いて処理を行う．

例えば，語句「手がかじかむ」の用言「かじかむ」に対して未知語処理を行い，結果として「冬」であると判断することができる．


\section{未知語処理手法}\label{unknown_word_processing}
意味的な観点からある既知語と同義または非常に関連性の強い未知語は，時間的な観点からも関連性が強いと考えられる．また，すべての語に対してそれらの語に関する知識を作成しデータベースに格納することは非常に困難であり，現実的ではない．そこで，時間に関する概念を効率よく表現できるごく少数の代表的な語を選別し，時間判断知識ベースに格納している．そして，格納した既知語とある未知語との関連性を評価し，未知語を関連性の強い既知語に帰着させる．これにより，未知語を既知語と同等に扱うことができる．この処理を未知語処理と呼ぶ．以下にその処理手法を示す．なお，各処理手法の具体例として体言の場合を挙げて説明しているが，\ref{concept_base}章で述べた概念ベースでは，用言についても体言と同様に表現しているため，用言に対しても体言と同様の処理手法が適用できる．

\subsection{最高関連度語置換処理手法}\label{max_processing}
関連度計算法を利用し，未知語と極めて関連性の強い既知語を導き出す未知語処理手法である．

\renewcommand{\labelenumi}{}

\begin{enumerate}
\item 未知語$X$とすべての既知語との関連度を算出する．

\item 未知語$X$との関連度が最も大きい既知語に未知語$X$を帰着させ，それに対応する代表時語を未知語$X$が表現する時間とする．ただし，概念または関連度の性質上，ある語と語の間に関係がないと思われる場合であっても，ごく小さな値の関連度が出力される．そのため，単純に「最も大きな関連度」という判断基準により処理を行うと，すべての語に対して関係がない場合，結果として未知語$X$を関連性が弱い既知語に帰着するおそれがある．そこで，閾値$Th_r$を設け，最も大きい関連度が閾値$Th_r$以下の場合には未知語$X$をその既知語に帰着させず，時間に関係のない語であると判断する．
\end{enumerate}

図\ref{max_association}に最高関連度語置換処理手法の具体例を示す．

\begin{figure}[t]
\caption{最高関連度語置換処理手法の具体例}
\label{max_association}
\end{figure}


\subsection{二次閾値付き多数決未知語処理手法}\label{second_processing}
概念の属性と重みを利用し，未知語から想起される代表時語を導き出す未知語処理手法である．

なお，以下の説明では，概念$X$の$n$個目の一次属性を$X_n$，$X_n$の$m$個目の一次属性（概念$X$の二次属性）を$X_{nm}$のように表す．同様に，それぞれの属性の重みを$W_n$，$W_{nm}$と表す．

\begin{enumerate}
\item 概念ベースから未知語$X$の一次属性を取得する．

\item 未知語$X$の二次属性，つまり$X_n$の一次属性（$X_{n1}$, $\cdots$, $X_{nm}$）が時語知識ベースに存在する既知語か否かをそれぞれ検索する．もし，既知語であれば，その語に関連付けられている代表時語に帰着させる．

\item $X_{n1}$, $\cdots$, $X_{nm}$のうち代表時語に帰着された属性に付与されている$X_n$に対する重みを指数とする．代表時語ごとに指数を加算し，指数が一番大きく，かつその指数が下限$Th_s$以上である代表時語に$X_n$を帰着させる．同指数の代表時語が複数ある場合は，関連度が最大の語に帰着させる．$X_{n1}$, $\cdots$, $X_{nm}$がすべて未知語の場合は，$X_n$も未知語とする．

\item $X_n$が代表時語に帰着されたら未知語$X$に対する$X_n$の重み$W_n$の値をその代表時語の指数に加算する．これを一次属性すべてに繰り返す．

\item 指数が一番大きく，かつ閾値$Th_v$以上である代表時語に，未知語$X$を帰着させる．同指数の代表時語が複数ある場合は関連度が最大の語に帰着させる．
\end{enumerate}

図\ref{second_association}に二次閾値付き多数決未知語処理手法の具体例を示す．

\begin{figure}[t]
\caption{二次閾値付き多数決未知語処理手法の具体例}
\label{second_association}
\end{figure}


\subsection{最高関連度語置換処理手法と二次閾値付き多数決未知語処理手法の比較}\label{max_second_processing}
\ref{max_processing}節，\ref{second_processing}節で述べた最高関連度語置換処理手法と二次閾値付き多数決未知語処理手法において，閾値$Th_r$，$Th_v$の値を大きくすると，未知語と既知語との関連性を弱く表現する傾向になり，結果として何も出力を出さない無答が増加し，誤答が減少する．また，逆に閾値を小さくすると，未知語と既知語との関連性を強く表現する傾向になり，結果として無答が減少し，誤答が増加する．

実際，時間に関係のある未知語を190語，関係のない未知語を250語を作成し，最高関連度語置換処理手法と二次閾値付き多数決未知語処理手法において，正答率と精度が閾値によりどのように変化するかを調査した．時間に関係のある語と時間に関係のない語における正答率と精度の結果を図\ref{max_association_result}，図\ref{second_association_result}に示す．なお，正答率と精度は以下のように定義する．

\begin{figure}[b]
\caption{最高関連度語置換処理手法における閾値に対する正答率と精度の変化の様子}
\label{max_association_result}
\end{figure}

\begin{figure}[b]
\caption{二次閾値付き多数決未知語処理手法における閾値に対する正答率と精度の変化の様子}
\label{second_association_result}
\end{figure}


正答率＝正答数/(正答数＋誤答数＋無答数)

精度＝正答数/(正答数＋誤答数)

ここで，時間に関係のある語においては，人間が想起する既知語（最高関連度置換処理方式の場合）または代表時語（二次閾値付き多数決未知語処理手法の場合）に帰着した場合を「正答」とし，「正答」以外の既知語または代表時語に帰着した場合が「誤答」であり，どの既知語または代表時語にも帰着しない場合が「無答」である．時間に関係ない語においては，すべての語が時間を表さないため，どの既知語または代表時語にも帰着しない場合が「正答」であり，「無答」は「正答」ということになる．「誤答」とは，何らかの既知語または代表時語に帰着した場合である．なお，図\ref{max_association_result}，図\ref{second_association_result}において，正答率は時間に関係のある語に対するものである．これは前述したように，時間に関係のない語については「正答＝無答」という関係が成り立ち，「正答率＝精度」となるためである．


前述のように，最高関連度語置換処理手法では，関連度計算法を利用し，未知語と極めて関連性の強い既知語を導き出し，二次閾値付き多数決未知語処理手法では，概念ベースを利用し，概念の属性と重みを用いて未知語から想起される代表時語を導き出す．そのため，未知語から時間を判断する際には，最高関連度語置換処理手法の方が，より詳細に，より精度良く時間を判断することが可能である．

そこで，一段階目では，精度を重要視し，閾値を高い水準に置いた最高関連度語置換処理によって未知語の既知語への帰着を試みる．既知語への帰着が成功しない場合には，正答率を重要視し，閾値を比較的低い水準にした二次閾値付き多数決未知語処理によって再度帰着を試みる．未知語処理を二段階で行い，性質の異なる方式を組み合わせ，信頼性の高い処理を優先的に実行することで，それぞれの処理を単独で行うよりもより高い精度・正答率が得られると考えられる．

二段階未知語処理におけるパラメータは，図\ref{max_association_result}で示した最高関連度語置換処理における閾値に関する実験結果から$Th_r$=0.8，図\ref{second_association_result}で示した二次閾値付き多数決未知語処理手法における閾値に関する実験結果から$Th_v$=0.1と設定した．

また，二次閾値付き多数決未知語処理手法におけるパラメータ$Th_s$については，パラメータ$Th_r$，$Th_v$の設定の際に使用した時間に関係のある未知語190語と関係のない未知語250語を使用し，\ref{second_processing}節の$X_n$に，これらの一次属性を\ref{second_processing}節の$X_{nm}$に見立て，$X_n$が時間に関係のある語である場合には適切な代表時語を帰着できたか否か，また，$X_n$が時間に関係のない語である場合には代表時語を帰着させないか否かの評価を基に設定した．具体的には，パラメータ$Th_s$を0から0.25まで0.025刻みで変化させ，7名の被験者にて上記評価を行い，5名の被験者が同じ判断をしたものを正解とした際に，最も正解率の高かった$Th_s$=0.025と設定した．


\subsection{関連度計算法を用いた最高関連度語置換処理手法の有効性の評価}
\ref{max_processing}節で提案した関連度計算法を用いた最高関連度語置換処理手法の有効性を評価するため，関連度計算法と同じように単語間の関連性を数値化する別の手法を用いた場合との比較を行った．本論文では，比較実験において，\cite{nagao:96}で紹介されている以下の算出式によりシソーラス上の距離を定量化することで単語間の類似度を求める手法を用いた．

	\begin{eqnarray}
	sim(n_1, n_2) &=& 2d(c)/(d(n_1;c)+d(n_2;c)) \nonumber
	\end{eqnarray}

なお，$d(a)$は$a$の深さ，すなわち，シソーラスのルートノードからノード$a$への最短パス長であり，$d(a;b)$は$b$を経由する$a$の深さ，すなわち，シソーラスのルートノードからノード$b$を経由してノード$a$へ至るパスの最短パス長である．また，実験に使用したシソーラスは，日本語語彙体系\cite{ntt:97}を使用した．

シソーラスを用いた場合の最高関連度語置換処理手法と関連度計算法を用いた最高関連度語置換処理手法の結果を表\ref{conf_result}に示す．実験データならびに評価方法は\ref{max_second_processing}節で用いたものと同様である．また，シソーラスを用いた場合の最高関連度語置換処理手法におけるパラメータ$Th_r$に関しても\ref{max_second_processing}節で行ったパラメータの設定方法と同様に行い，$Th_r$=0.9と設定した．

\begin{table}[t]
\caption{シソーラスと関連度計算法を用いた場合の最高関連度語置換処理手法の比較結果}
\label{conf_result}
\end{table}

時間に関係のない語の精度ならびに正答率に関しては，顕著な差はないが，時間に関係のある語の精度に関しては，明らかな差を見ることができる．\ref{max_second_processing}節で述べたように，最高関連度語置換処理手法においては，精度に重きを置いているため，この結果より，関連度計算法を用いた最高関連度語置換処理手法は有効な手法であるといえる．


\section{時間判断システムの評価}

本研究では，以下に示す実験データを作成し，\ref{max_second_processing}節において提案した二段階未知語処理手法を用いた時間判断システムについて評価した．


Ａ群：体言と体言の組み合わせによる語句（285個）

1995年のある全国紙の記事から，季節などの偏りを避けるため，ランダムに選択した100個の記事を対象に，人手で抜き出した時間に関係のある語句．

Ｂ群：体言と用言の組み合わせによる語句（256個）

正答（語句から連想できる時間）の候補として代表時語９語を提示し，語句とその正答（代表時語９語と可能であれば具体的な時間）を自由記述形式でアンケート調査した結果収集された時間に関係のある語句．

Ｃ群：時間に関係のある語（289個）

Ｂ群のアンケート調査と同様の方法により収集，および，俳諧で用いられる時間を表す語である季語のうち日常的に使用する時間に関係のある語．

Ｄ群：時間に関係のない語（250個）

代表時語9語を提示し，これらに該当しないと思われる語を自由記述形式でアンケート調査した結果収集された時間に関係のない語．


なお，実験データとしては，7名の被験者にそれらのデータが時間に関係ある語か否かの判断をしてもらい，そのうち5名以上が同じ判断を行った語のみを人間が行う判断結果として使用した．

評価方法としては，\ref{max_second_processing}節と同様に，実験データに対する時間判断結果を「正答」「誤答」「無答」の三種類に分けて行う．実験データＡ群，Ｂ群，Ｃ群では，ある語または語句から人間が想起する具体的な時間または代表時語と同じものが得られた場合を「正答」，「正答」以外の代表時語が得られた場合を「誤答」，代表時語が得られなかった場合を「無答」とする．実験データＤ群では，すべての語が時間を表さないため，代表時語が得られない場合を「正答」，何らかの代表時語が得られた場合を「誤答」とする．正答率，精度は\ref{max_second_processing}節で示した定義と同様である．

\begin{table}[b]
\caption{各データ群における評価}
\label{result}
\end{table}

\begin{table}[b]
\caption{実験データＡ群，Ｂ群，Ｃ群における未知語と既知語の割合}
\label{proportion}
\end{table}

\begin{table}[t]
\caption{実験データＡ群における詳細結果}
\label{a_detail_result}
\end{table}

\begin{table}[t]
\caption{実験データＢ群における詳細結果}
\label{b_detail_result}
\end{table}

\begin{table}[t]
\caption{実験データＣ群における詳細結果}
\label{c_detail_result}
\end{table}

\begin{table}[b]
\caption{Ｃ群，Ｄ群の正答例と誤答例　（括弧内は期待される解）}
\label{C_D_result_conf}
\end{table}

各実験データ群に対する評価結果を表\ref{result}に示す．また，実験データＡ群，Ｂ群，Ｃ群における未知語と既知語の割合を表\ref{proportion}に示し，未知語処理の有効性を評価するため，実験データＡ群，Ｂ群，Ｃ群における正答率，精度の結果を表\ref{a_detail_result}，表\ref{b_detail_result}，表\ref{c_detail_result}に示す．なお，実験データＡ群にのみ未知語と既知語の他に混在という表記があるが，これは，体言と体言の組み合わせによる語句のうち片方が未知語でもう一方が既知語の実験データのことであり，Ｂ群については，用言はすべて未知語であるため，体言が未知語か既知語かの割合を示している．

表\ref{a_detail_result}，表\ref{b_detail_result}，表\ref{c_detail_result}から，未知語に対する処理は，既知語に対する処理よりも劣るものの，十分有効に機能しているといえる．


Ａ群で誤答になったものは，「94年」などのように数字が省略されているものや，「1985．9．22」などのように単位が省略された表現であった．これらの表現は，文脈に依存するものであり，本稿で提案したシステムでは対処できない．今後，省略された表現を文脈から補完する手法の開発が望まれる．

Ｂ群では「夏が終わる」など，用言が時間の推移・遷移を表す時間表現で誤答となった．このような表現は，時間の前後関係を表すため前後時語と同等に扱う必要がある．本研究で提案した時語生成手法は，主に漢字が持つ意味に着目し，複数の漢字を組み合わせて時語を導き出す．しかし，必ずしも意味的に関連性の強い漢字同士を組み合わせて表現される時語が存在するとは限らない．Ｂ群については，他の実験データ群と比較し正答率，精度ともに著しく悪いことから，今後，時間を体言と用言の組み合わせによって表現する語句に対する処理の改良が望まれる．

表\ref{C_D_result_conf}にＣ群，Ｄ群の正答例と誤答例を示す．例えば，Ｃ群の「潮干狩り」は，潮の満ち引きに強く関係することから「月」と，Ｄ群の「ネクタイ」は，同じように首に巻いて使用する「マフラー」と関連性が強いと判断され誤答になっている．

時間判断システムの結果としては，時間に関係のある語のみ（Ａ群〜Ｃ群）を対象にした際の正答率が平均69.4\%，精度が平均81.6\%の割合で人が行う判断結果と一致しており，二段階未知語処理手法を用いた時間判断システムは有効なシステムであるといえる．

仮に，未知語処理手法を適用しなかった場合，時間判断知識ベースに登録されている語にしか判断を行うことができず，正答率は約52.3\%，精度は約85.3\%になる．つまり，時間判断知識ベースに登録する語数を減らすと精度が向上する一方で正答率は劣化し，登録語数を増やすと正答率は向上する．しかし，正答率が100\%になることは現実的にはありえず，ある正答率で飽和すると考えられる．ただし本研究では，これまで述べてきたように，より少ない知識でより多くの表現に対応することを目標にしており，時間判断知識ベース，各種処理手法，ならびにそれらから構成される時間判断システムの有効性，妥当性は本結果により十分に示すことができたと考える．


\section{おわりに}
本稿では，ある概念から様々な概念を連想できるメカニズムを基に，人間が行う常識的な判断の一つである時間に関する判断を実現する方法について提案した．日常的な時間表現に着目し，基本的な常識知識を事前に与え，知識として持っていない多くの未知の表現にも対応できる柔軟なメカニズムの構築を実現した．

常識的判断システム実現の困難さは，誰もが持っている普遍的な常識知識のみをシステムに与え，如何にして，それらの周りにある膨大な常識知識を扱うかにある．そして，本稿でも提案したこのような構成・処理手法が極めて現実的な方法であると考えている．

結果としては，時間判断システムにおいて，時間に関係のある語のみを対象にした際の正答率が約69.4\%，精度が約81.6\%の割合で人が行う判断結果と一致しており，二段階未知語処理手法を用いた時間判断システムは有効なシステムであるといえる．



\acknowledgment

本研究は，文部科学省からの補助を受けた同志社大学の学術フロンティア研究プロジェクトにおける研究の一環として行った．





\bibliographystyle{jnlpbbl}
\begin{thebibliography}{}

\bibitem[\protect\BCAY{Allen}{Allen}{1984}]{allen:84}
Allen, J.~F. \BBOP 1984\BBCP.
\newblock \BBOQ Towards a General Theory of Action and Time\BBCQ\
\newblock {\Bem Artificial Intelligence}, {\Bbf 23}  (2), 123--154.

\bibitem[\protect\BCAY{広瀬\JBA 渡部\JBA 河岡}{広瀬\Jetal }{2002}]{hirose:02}
広瀬幹規\JBA 渡部広一\JBA  河岡司 \BBOP 2002\BBCP.
\newblock \JBOQ
  概念間ルールと属性としての出現頻度を考慮した概念ベースの自動精錬手法\JBCQ\
\newblock \Jem{信学技報, NLC2001-93}, 109--116.

\bibitem[\protect\BCAY{Horiguchi\JBA Tsuchiya\JBA Kojima\JBA Watabe \BBA\
  Kawaoka}{Horiguchi et~al.}{2002}]{horiguchi:02}
Horiguchi, A.\JBA Tsuchiya, S.\JBA Kojima, K.\JBA Watabe, H.\JBA  \BBA\
  Kawaoka, T. \BBOP 2002\BBCP.
\newblock \BBOQ Constructing a Sensuous Judgment System Based on Conceptual
  Processing\BBCQ\
\newblock {\Bem Computational Linguistics and Intelligent Text Processing
  (Proc. of CICLing-2002)}, 86--95.

\bibitem[\protect\BCAY{入江\JBA 東村\JBA 渡部\JBA 河岡}{入江\Jetal
  }{1999}]{irie:99}
入江毅\JBA 東村貴裕\JBA 渡部広一\JBA  河岡司 \BBOP 1999\BBCP.
\newblock \JBOQ 知的判断メカニズムにおける概念間の関連度計算方式\JBCQ\
\newblock \Jem{情報処理学会秋季全国大会}, 3J--7.

\bibitem[\protect\BCAY{小島\JBA 渡部\JBA 河岡}{小島\Jetal }{2002}]{kojima:02}
小島一秀\JBA 渡部広一\JBA  河岡司 \BBOP 2002\BBCP.
\newblock \JBOQ
  連想システムのための概念ベース構成法−属性信頼度の考え方に基づく属性重みの決
定\JBCQ\
\newblock \Jem{自然言語処理}, {\Bbf 9}  (5), 93--110.

\bibitem[\protect\BCAY{McDermott}{McDermott}{1982}]{mcdermott:82}
McDermott, D. \BBOP 1982\BBCP.
\newblock \BBOQ ATemporal Logic for Reasoning about Processes and Plans\BBCQ\
\newblock {\Bem Cognitive Science}, {\Bbf 6}  (2), 101--155.

\bibitem[\protect\BCAY{溝渕\JBA 住友\JBA 泓田\JBA 青江}{溝渕\Jetal
  }{1999}]{mizobuchi:99}
溝渕昭二\JBA 住友徹\JBA 泓田正雄\JBA  青江順一 \BBOP 1999\BBCP.
\newblock \JBOQ 日本語時間表現の一解釈法\JBCQ\
\newblock \Jem{情報処理学会論文誌}, {\Bbf 40}  (9), 3408--3419.

\bibitem[\protect\BCAY{NTTコミュニケーション科学研究所}{NTTコミュニケーション
科学研究所}{1997}]{ntt:97}
NTTコミュニケーション科学研究所 \BBOP 1997\BBCP.
\newblock \Jem{日本語語彙体系}.
\newblock 岩波書店.

\bibitem[\protect\BCAY{玉野\JBA 松本}{玉野\JBA 松本}{1996}]{tamano:96}
玉野健一\JBA  松本裕治 \BBOP 1996\BBCP.
\newblock \JBOQ 制約條件を用いた事象の時間構造の記述\JBCQ\
\newblock \Jem{情報処理学会自然言語処理研究会資料}, {\Bbf 115}  (2), 9--14.

\bibitem[\protect\BCAY{渡部\JBA 河岡}{渡部\JBA 河岡}{2001}]{watabe:01}
渡部広一\JBA  河岡司 \BBOP 2001\BBCP.
\newblock \JBOQ 常識的判断のための概念間の関連度評価モデル\JBCQ\
\newblock \Jem{自然言語処理}, {\Bbf 8}  (2), 39--54.

\bibitem[\protect\BCAY{渡部\JBA 堀口\JBA 河岡}{渡部\Jetal }{2004}]{watabe:04}
渡部広一\JBA 堀口敦史\JBA  河岡司 \BBOP 2004\BBCP.
\newblock \JBOQ 常識的感覚判断システムにおける名詞からの感覚想起手法\JBCQ\
\newblock \Jem{人工知能学会論文誌}, {\Bbf 19}  (2), 73--82.

\bibitem[\protect\BCAY{長尾}{長尾}{1996}]{nagao:96}
長尾真 \BBOP 1996\BBCP.
\newblock \Jem{岩波講座ソフトウェア科学15自然言語処理}.
\newblock 岩波書店.

\end{thebibliography}


\begin{biography}
\biotitle{略歴}
\bioauthor{土屋 誠司}{
2000年同志社大学工学部知識工学科卒業．
2002年同大学院工学研究科知識工学専攻博士前期課程修了．
同年，三洋電機株式会社入社．
2004年同志社大学大学院工学研究科知識工学専攻博士後期課程入学．
主に，常識的判断システムの研究に従事．
言語処理学会，人工知能学会，情報処理学会，電子情報通信学会各会員．
}
\bioauthor{奥村 紀之}{
2003年同志社大学工学部知識工学科卒業．
同大学院工学研究科知識工学専攻博士前期課程在学．
知識情報処理の研究に従事．
}
\bioauthor{渡部 広一}{
1983年北海道大学工学部精密工学科卒業．
1985年同大学院工学研究科情報工学専攻修士課程修了．        
1987年同精密工学専攻博士後期課程中途退学. 
同年，京都大学工学部助手．                                            
1994年同志社大学工学部専任講師.
1998年同助教授．工学博士．                                
主に，進化的計算法，コンピュータビジョン，概念処理などの研究に従事.
言語処理学会，人工知能学会，情報処理学会，電子情報通信学会，システム制御情報学会，精密工学会，日本知能情報ファジィ学会各会員.
}
\bioauthor{河岡 司}{
1966年大阪大学工学部通信工学科卒業．
1968年同大学院修士課程修了．
同年，日本電信電話公社入社，情報通信網研究所知識処理研究部長，
NTTコミュニケーション科学研究所所長を経て，現在同志社大学工学部教授．
工学博士．
主にコンピュータネットワーク，知識情報処理の研究に従事．
言語処理学会，人工知能学会，情報処理学会，電子情報通信学会，IEEE(CS)各会員．
}




\bioreceived{受付}
\biorevised{再受付}
\bioaccepted{採録}

\end{biography}

\end{document}

