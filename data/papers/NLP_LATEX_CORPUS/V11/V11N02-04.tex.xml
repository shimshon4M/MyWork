<?xml version="1.0" ?>
<root>
  <title>直訳性を利用した機械翻訳知識の自動構築</title>
  <author>今村賢治	隅田英一郎	松本裕治</author>
  <jabstract>機械翻訳知識を対訳コーパスから自動構築する際，コーパス中に存在する翻訳の多様性に起因して冗長な知識が獲得され，誤訳や曖昧性増大の原因となる．本稿ではこの問題に対し，「機械翻訳に適した対訳文」に制限し，翻訳知識自動構築を試みる．機械翻訳に適した対訳文の指標として直訳性を提案し，これを測定する尺度として対訳対応率を定義した．この対訳対応率に従い，2つの知識構築法を提案する．第一は，翻訳知識構築の前処理としての，直訳性を用いた対訳文フィルタリング，第二は対訳文を直訳部／意訳部に分割し，部分に応じた汎化手法を適用する．これらの効果は，自動構築した知識を用いた機械翻訳による，訳文の品質という観点で評価を行った．その結果，後者の分割構築の場合で約8.6%の入力文について翻訳品質が向上し，直訳性を用いた機械翻訳知識構築は，翻訳品質向上に有効であることが確認された．</jabstract>
  <jkeywords>機械翻訳，翻訳知識自動構築，直訳性，翻訳の多様性，制限対訳</jkeywords>
  <section title="はじめに">対訳コーパスの充実に伴い，コーパスから自動学習した知識を用いる機械翻訳システムが提案されてきている．しかし，対訳コーパスを無制限に用いて翻訳知識を自動構築すると，コーパスに内在する翻訳の多様性に起因して冗長な知識が獲得され，誤訳や曖昧性増大の原因となる．翻訳の多様性はコーパスサイズの拡大と共に増加する．たとえば，対訳コーパスは大規模になるに従い，通常，同一の原文であるにも関わらず異なった翻訳文が含まれる．また，文脈や状況に依存した特異な翻訳も大規模コーパスでは増加する．我々の対象は，このような10万文以上を含んだ大規模対訳コーパスである．本稿では，このような翻訳の多様性に対し，機械翻訳に適した対訳(制限対訳と呼ぶ)に制限することを試みる．制限対訳には様々な指標が考えられるが，本稿では特に直訳性に着目する．そして直訳性を利用した2つの知識構築法を提案する．第一は，翻訳知識構築の前処理としての，直訳性を用いた対訳文フィルタリング，第二は一つの対訳文を直訳部／意訳部に分割し，部分に応じた汎化手法を適用する．このような制限を行いながら機械翻訳知識を自動構築することにより，機械翻訳の訳質が向上することを示す．以下，第章では翻訳の多様性が引き起こす問題点について述べ，第章では機械翻訳に適した対訳とは，どのような対訳であるのか，議論する．続いて第章では，制限対訳の指標のうち，直訳性に着目し，その測定手法について提案する．第章では直訳性を利用した機械翻訳知識構築方法について述べ，第章でその評価を行う．</section>
  <section title="翻訳の多様性">まず，コーパスに内在する翻訳の多様性と，翻訳知識自動構築の観点から見た場合の問題点について述べる．</section>
  <subsection title="文脈／状況依存訳">対訳コーパス中には通常，文脈や状況に依存した，言い換えると文脈や状況が変わると不適切となる対訳が存在する．たとえば，英語を日本語に翻訳する場合，定冠詞`the'は通常訳出されない．しかし，人間の翻訳でも，文内文脈では解決できない曖昧な表現となる場合，「私の」「その」など，限定表現が付与される場合がある．また，日本語「写真を撮っていただけますか」は，通常英語に翻訳した場合，``Couldyoutakeourphotograph?''となるが，``Couldyoupressthisshutterbutton?''と，写真撮影を人に依頼する状況でしか使用できない翻訳がされる場合がある．このように，文脈／状況依存訳は，強度な意訳になっていることが多い．このような文脈や状況に依存した対訳から構築した翻訳知識は，適合しない文脈／状況で使用されると，過剰な省略や冗長語が発生し，誤訳の原因となりうる．</subsection>
  <subsection title="言い換え表現">一般的に，原言語の表現は，様々な目的言語表現に翻訳することができるため，同じ原文であっても複数種類の対訳がコーパス中に存在する．たとえば，日本語「このトラベラーズチェックを現金にしてください」は，英語では，I'dliketocashthesetraveller'schecks.(平叙文)Couldyouchangethesetraveller'schecksintocash?(疑問文)Pleasecashthesetraveller'schecks.(命令文)などと翻訳することができる．これらは文脈や状況に依存せず，常に正しい翻訳である．実際，BTECコーパスでは，上記日本語の対訳は10種類存在する．このような多様性を含むコーパスから翻訳知識を学習すると過剰に知識が生成される．たとえば，Imamura:PatternGeneration2002が使用したパターンベース翻訳システムの場合，言い換え表現から，すべて異なる変換規則が作成される．しかし，実際の翻訳処理では1規則だけで十分であるため，冗長な規則は曖昧性の増大や翻訳速度の低下を招く．</subsection>
  <section title="機械翻訳に適した対訳"/>
  <subsection title="制限対訳">単言語の処理においては，コーパス中の多様性を排除する方法として，制限言語が提案されている．これは使用語彙や文法を制限して文章を記述する方法である．制限言語で記述された文章は，人間が読んだりコンピュータが処理を行う際，構文構造や意味解釈の曖昧性を減少させる効果があると報告されている．対訳コーパスからの翻訳知識自動構築の場合にも，同じ考え方が利用できる．すなわち，コーパス中の対訳を，すべての表現を許すのではなく，「機械翻訳に適した対訳」に制限することにより，誤訳の原因となる文脈／状況依存訳を自動構築の前段階で排除したり，そこから構築させた翻訳知識の言語変換時の曖昧性を減少させることができると期待される．これを本稿では制限対訳と呼ぶ．制限対訳の指標としては，以下のものが考えられる．前半3項目は，対訳単位の指標であり，最後の1項目は対訳コーパス全体に対する指標である．直訳性	原言語・目的言語間で省略・冗長語が少ない．すなわち，原文の単語	のほとんどが翻訳文の単語に対応する．文脈自由性	原文の単語列が翻訳文の単語列に，局所的に（文脈情報なしで）対応する．	この指標は，部分文が翻訳単位として再利用しやすいことを示している．語順一致性	原文の語順が翻訳文でも保たれている．	この指標は，翻訳時の語順調整が少ないことを示している．訳語一定性	コーパスを通じて，ある１単語が常に同じ単語に翻訳されている．た	とえば，形容動詞「必要だ」は，英語では形容詞`necessary'，	動詞`need'，動詞`require'などに翻訳することができ	る．しかし，可能であれば常に一つの表現，たとえば`	necessary'に翻訳されている方が望ましい．これらの指標は，翻訳方式により必要とされるものが異なる．たとえば，単語直接方式の統計翻訳では，単語の変換と語順調整を組み合わせて翻訳を行うため，語順一致性は重要な指標となる．しかし，構文トランスファ方式では，構文変換時に語順を大幅に変更することができるため，それほど重要な指標ではない．本稿では，句構造ベースの構文トランスファ方式について検討する．</subsection>
  <subsection title="前提とした機械翻訳システム">本稿では，句構造ベースの構文トランスファ方式翻訳システムである，HPAT(HierarchicalPhraseAlignment-basedTranslator;)を実験に使用する．これは，変換主導型機械翻訳システムTDMTを基に，従来人手で構築していた変換規則を，対訳コーパスから自動獲得するように拡張したものである．figure*HPATの動作を簡単に説明する(図)．まずパラレルコーパスから階層的句アライメントを用いて，句レベルの対応を階層的に抽出する．そして，その階層関係を用いて対応をパターン化する．これが変換規則で，基本的には同期文脈自由文法である．翻訳時には，変換規則の原言語パターンを用いて入力文の構文解析を行う．次に使用された原言語パターンを目的言語パターンにマッピングすることにより，目的言語に変換する．解析や変換時に発生した曖昧性は，変換規則に記述されている用例(訓練コーパスの実例)と入力文の意味的距離を計算し，最も近いパターンを選択することにより解消する．</subsection>
  <subsection title="構文トランスファ方式に適した対訳">構文トランスファ方式に適した対訳について考察するため，本節ではTDMTを分析する．TDMTは，ルール記述者がコーパスから対訳を一つづつ取得し，それと同等な翻訳が得られるよう，規則を追加または調整し，変換規則が作成された．言い換えると，TDMTのルール記述用対訳は，コーパスの対訳とまったく同一ではなく，訳質を維持したまま規則数が最小となるように，目的言語側の文を書き換えている．つまり，書き換えられた対訳文(以下，TDMT訓練訳と呼ぶ)は，TDMTという構文トランスファ方式翻訳システムに適した対訳となっている．そこで，TDMT(英日翻訳版)の変換規則の訓練に用いられたTDMT訓練訳6,304文と，同じ原文の元コーパスに含まれる対訳(コーパス訳と呼ぶ)の比較を行った．その統計データを表に，例を表に示す．これらからは，以下の制限対訳指標が構文トランスファ方式の機械翻訳に適していることを示している．なお，本データは，形態素解析結果と，単語アライメント結果(章参照)を元に算出した．単語アライメントが出力した単語の対応関係を，単語リンクとも呼ぶ．直訳性まず，表の単語リンク数について着目すると，TDMT訓練訳は値がかなり増加しており，目的言語の約50%の単語について，対応する単語が存在することになっている．つまり，TDMT訓練文は原文の単語が忠実に訳されており，直訳的であることを示している．表の1番の対訳はその例である．コーパス訳では原文に現れない冗長語「その」が付加されているが，TDMT訓練訳では原文の内容語が過不足なく対応している．訳語一定性次に，目的言語語彙数，および平均訳語数を見ると，TDMT訓練訳は目的言語語彙数がかなり減少しており，それに伴い，平均訳語数が減少している．これは，原文の単語訳ができる限り一定になるように，ルール記述者が翻訳文を書き換えながら訓練したためであり，そのため訳語のバラエティが減少したものである．言い換えると，TDMT訓練訳は訳語一定性が高い．たとえば，表の1番と2番の`include'について着目すると，コーパス訳では，1番は名詞「込み」，2番は動詞「つく」と異なる訳語が使用されている．しかし，TDMT訓練訳ではどちらも「含む」で一定である．文脈自由性表の平均文脈自由数は原文で連続した単語が翻訳文上でも連続している組み合わせ数をカウントしたものである．この値が大きいものは文脈自由性が高く，部品化しやすい対訳であると言える．単語リンク数(単語対応数)が多いほど，この数値は大きくなる傾向があるが，同じ単語リンク数の場合，TDMT訓練訳の方が若干大きい値を示している．表の3番はその例である．TDMT訓練訳では，名詞句``therateforasingleandatwin''は，やはり名詞句「シングルとツインの料金」と局所的にに訳されているため，規則化した際も再利用が可能である．しかし，コーパス訳では，動詞「違う」を修飾する2つの連用修飾句「料金は」「シングルとツインでは」に分割されて訳されている．そのため，修飾先を含めて規則化しないと再利用はできない．</subsection>
  <section title="直訳性">前節で示した制限対訳指標のうち，本稿では特に直訳性に着目する．直訳性の高い対訳のみを使用して翻訳知識を構築できれば，文脈／状況に依存する変換規則の生成が抑制され，誤訳を減少させることができると期待される．訳語一定性，および文脈自由性は，コーパスを通じて訳語や構造が一定であることを示しているため，言い換え表現対策として有効と考えられるが，今回は曖昧性の減少より，誤訳の減少を優先する．</section>
  <subsection title="直訳性スコア">「直訳」は，原文の単語が忠実に翻訳文に反映されていることを意味する．したがって，対訳文があったとき，原文・翻訳文の単語対応が多く取れる文は直訳性が高い．対訳文の単語対応は，対訳辞書を参照する方法や，統計的単語アライメント(たとえば)等を用いると取得することができる．しかし，言語によっては，必ずしも単語同士が対応づかない場合もある．たとえば，日本語と英語を考えたとき，格助詞「が」などは，英語の単語として現れない．ところが同じ助詞でも，副助詞「だけ」の場合は，英語では`'などに訳されている場合が多く，たとえ機能語でも単語としての翻訳が必要な場合と不必要な場合がある．つまり，単語対応数だけでなく，本来翻訳すべき単語が原文・翻訳文双方にどの程度含まれているか判断しなければ，直訳性は決定しない．このような考えから，本稿では直訳性を以下の手順で判定する．なお，ここでは対訳辞書を用いる．対訳辞書は市販辞書を用いることも可能だと考えられるが，ここでは，対訳コーパスの単語アライメント結果から，単語リンクを集めて自動的に作成されるものとする．また，一つの対訳文中で原言語・目的言語間は1対1に単語が対応するものと仮定する．原言語の単語で対訳辞書を引く．辞書の見出しに存在する単語は，翻訳されるべき単語と見なす．その数をT_sとする．目的言語の単語で対訳辞書を逆引きする．辞書の訳語に存在する単語は，翻訳されるべき単語と見なす．その数をT_tとする．対訳辞書にエントリが存在する対訳単語を，単語リンクと見なす．その数をLとする．以下の式で直訳性を計算する．これを対訳対応率(TranslationCorrespondenceRate;TCR)と呼ぶ．対訳対応率は，「本来翻訳されるべき単語のうち，実際に翻訳された語の割合」を表す．双方向に見ているので，省略語と冗長語を同等に検出することができる．また，辞書に記載されていない語は分母・分子共に無視されるため，辞書のカバレッジの影響が少ない．figure*たとえば，原文「私はこのステーキを頼んでいません」の翻訳として，翻訳文1``Ididn'torderthissteak''と，翻訳文2``ThisisdifferentwhatIordered''があったとする(図)．直感的には，翻訳文1は原文に忠実な直訳であり，翻訳文2は意訳が含まれている対訳である．図中の丸囲み単語が対訳辞書に載っている単語だったとすると，原文は5単語が見出しとして存在している(T_s=5)．また，翻訳文1の単語も5単語が対訳として存在している(T_t=5)．単語リンクは，I-私，not-ぬ，order-頼む，this-この，steak-ステーキの5つである(L=5)ので，式()によると，対訳対応率TCR=1.0となる．一方，翻訳文2を見ると，対訳辞書の訳語として載っている単語は，this,different,I,orderの4つであり(T_t=4)，単語リンクはthis-これ，order-頼む，I-私の3つしかない(L=3)．したがって，TCR=2*35+40.67となり，翻訳文1の方が直訳性が高いと判断される．このように，対訳対応率は基本的に形態素解析結果と対訳辞書だけから判断され，構文解析などの深い解析を必要としない．</subsection>
  <section title="直訳性を用いた翻訳知識構築">本章では，直訳性を利用した機械翻訳知識構築方法について述べる．本稿では，2つのアプローチを取る．一つは，対訳文からの知識獲得の前処理として，対訳コーパス自体にフィルタリング処理を行い，対訳文を絞り込む方法，もう一つは，翻訳知識構築時に対訳文を直訳部とそれ以外（意訳部）に分離し，構築条件を変える方法である．</section>
  <subsection title="対訳コーパスフィルタリング">ここでは，コーパスフィルタリング方法として，さらに２つの方法を考える．閾値によるフィルタリング高直訳対訳のみを用いて機械翻訳知識を自動構築した場合．閾値を高く設定するに従い，高直訳対訳だけが残るが，部分コーパスサイズは減少するため，そこから作成した機械翻訳知識のカバレッジが低下する．グループ内最高値によるフィルタリング原言語が同じ対訳でグループを作成し，各グループから最高スコアを持つものを用いて機械翻訳知識を自動構築した場合．前者に比べてすべての原言語が学習対象となるため，翻訳知識のカバレッジが下がらないが，低直訳対訳であっても，コーパス中に１回しか出現しない場合は知識構築対象となるため，文脈／状況依存訳が残る可能性がある．</subsection>
  <subsection title="直訳句と意訳部の分割構築">節で定義した対訳対応率TCRは，完全な文ばかりでなく，部分文(句)に対しても適用可能なスコアである．対訳コーパスフィルタリングの場合，高直訳対訳に絞るに従い，翻訳規則のカバレッジが低下するという欠点がある．しかし低直訳対訳でも，部分的に見ると直訳と見なせる句が存在する．つまり，低直訳対訳の直訳部を抽出し，翻訳知識構築に利用できれば，カバレッジの低下を抑えることができる．ここで問題となるのは，低直訳対訳中には，慣用表現など直訳では訳すべきでないものが存在する点である．たとえば，``MayIhelpyou''を直訳すると，「あなたを助けてもよいでしょうか」になるが，「どうしましたか」と訳すのが普通である．このような慣用表現は，かなり長単位の単語列で表現される．両者を共存させるため，ここでは対訳を直訳部と意訳部（非直訳部）に分割し，機械翻訳知識の構築方法を変える．すなわち，直訳部に関しては，できる限り再利用可能なように細かい単位で規則化を行い，意訳部は規則化を最小限にして翻訳知識を構築する．具体的には以下の手順による．階層的句アライメントを行い，句レベルの対応関係を取得する．階層構造をトップダウンに走査し，句レベルで直訳性を測る．直訳性スコアが閾値以上の場合，その句を直訳句と判定する．直訳句の場合，自分自身とその下位構造を汎化し，翻訳知識を構築する．もし，最上位構造（対訳文全体）が直訳句でない場合，直訳句までの句対応を無視した翻訳知識を構築する．figure*たとえば，図のように，同じ原文に対応する2つの翻訳文があったとする．翻訳文(A)の場合は，文全体(A-1)SのTCR値は1.0である．そのため，すべての句が汎化され，全部で6規則が生成される．直訳から生成された規則は他の翻訳文にも適用可能な一般的な規則である．一方，(B)では文全体(B-1)SのTCR値は0.25と低い．しかし，部分的に見ると，名詞句「市内」と``thecity''のTCR値は1.0である．そのため，文全体のうち，句(B-2)NPだけが汎化対象となり，(B-1)Sのように，単語数の多い規則が生成される．このように，分割構築では直訳句は本来の構文トランスファ用変換規則を生成し，意訳部からはテンプレート的パターンを生成する．意訳から生成された規則は，入力文の単語列とほぼ完全一致した場合のみ適用されるため，異なった文脈では使われにくい規則となる．</subsection>
  <section title="翻訳実験">翻訳知識自動構築における直訳性の効果を測定するため，章で述べた手法で機械翻訳知識を自動構築し，英日機械翻訳の翻訳品質という観点で評価を行った．</section>
  <subsection title="実験条件">対訳コーパス対訳コーパスは，BTECコーパスのうち，149,882対訳を使用した．このコーパスは，旅行会話に頻出する表現を集めたものである．原文が同じ対訳も多く含まれ，約13%の英語文が複数の日本語訳を持つ．単語対応抽出方法：対訳辞書構築方法単語同士の対応は，コーパス中の共起頻度が10回以上の単語については，Melamed:WordAlignment2000と同様に，CompetitiveLinkingAlgorithmを用いて統計的に単語アライメントを行い，コーパス全体に対してこの対応を集めて，対訳辞書を構築した．低頻度語については，シソーラスを参照し，同一グループに属する単語を対応付けた．この対応付けの結果を用い，以下の2種類の対訳辞書を構成した．辞書A統計的単語アライメントとシソーラス参照の両方の対応付けを用いた辞書．再現率が比較的高く，対応付けの精度を内容語のみで測定した場合，クローズドテストで適合率91%，再現率73%程度である．辞書B統計的単語アライメントのみの対応付けを用いた辞書．再現率が比較的低い．精度を辞書Aと同様に測定した場合，適合率93%，再現率61%程度である．翻訳品質評価方法評価方法は，以下の2種類を用いた．自動評価自動評価では，予めコーパスから除外したテストセット10,150文を使い，BLEUを用いて評価した．使用した参照訳は1原文あたり1つで，4-gramまで使用した．主観評価主観評価では，上記テストセット中の510文を使い，日本語ネイティブ話者1名が一対比較法で評価した．具体的には，全対訳を使用した機械翻訳結果をベースとし，それに対して直訳性に基づく自動構築後の翻訳結果を1文づつ比較し，どちらの翻訳がよい翻訳であるのか，あるいは同品質であるのか，判定する形で行った．主観評価における翻訳品質(主観品質)は，以下の式で表す．したがって，これはベースに対する相対評価である．</subsection>
  <subsection title="閾値によるコーパスフィルタリングの効果">まず，対訳対応率の閾値を変化させてコーパスフィルタリングを行い，自動評価で翻訳品質を測定した結果を図(辞書A使用時)，図(辞書B使用時)に示す．これは，各閾値以上を持つ対訳文を用いたときの翻訳品質を，対訳数(訓練コーパスサイズ)でプロットしたものである．なお，同グラフ中のランダム選択とは，ランダムに訓練コーパスサイズを変化させた場合を示す．辞書A，辞書B使用時とも，対訳対応率の閾値を上げるに従い，訓練コーパスサイズは減少するが，翻訳品質は逆に若干向上した．どちらもTCR0.3のとき，BLEUスコアは最大となっており，辞書Aでは0.233，辞書Bでは0.234を示した．さらに閾値を上げて高直訳対訳に限定すると，訓練コーパスサイズも減少するが，辞書A使用時で約8万対訳，辞書B使用時で約7万対訳まで，ランダム選択より高いBLEUスコア値を示し，その後急激に翻訳品質は悪化した．これは慣用表現など，直訳性が低いにも関わらず翻訳に必要な対訳が排除されたためと考えられる．いずれにしても辞書A，辞書B使用時ともに同じ傾向を示しており，対訳対応率による直訳性の測定は，辞書のカバー率の影響が少ないことを示している．</subsection>
  <subsection title="構築方法の違いと翻訳品質">[t]table*次に，翻訳知識構築法を変えて，翻訳品質を測定した結果を，表に示す．なお，本表は，辞書Bを用いて測定した結果であり，表中の翻訳知識カバー率とは，翻訳知識中の用例が入力文と完全一致した規則だけで翻訳できた割合を示す．また，分割構築では，グループ最高値によるフィルタリング後の対訳コーパスを用い，TCRが0.8以上の句を直訳句と判断して構築した．閾値によるフィルタリングと，グループ内最高値によるフィルタリングを比較すると，主観評価では閾値によるフィルタリングの方が高品質となっているが，BLEUスコアはグループ内最高値の方が高い．翻訳知識カバー率も，使用した対訳数が減少しているにも関わらず，グループ内最高値の方が若干高く，グループ内最高値によるフィルタリングは，翻訳知識のカバレッジを保持したまま翻訳品質を向上できている．今回用いたコーパスは約13%の英語文が複数の日本語訳を持つ高密度なコーパスであるにも関わらず，フィルタリングでは1〜3%程度の品質改善しかできなかった．対訳文のフィルタリングは，誤訳の原因となる低直訳対訳の排除と，翻訳知識のカバレッジ保持の両立は難しく，大幅な品質改善は困難である．一方，分割構築では，BLEUスコア，主観品質共に大幅に向上した．特に主観品質は8.6%の翻訳文について改善された．意訳から生成される翻訳知識の適用条件を厳しくしたため，翻訳知識カバー率は低下したが，このことが誤訳の抑制に貢献したためである．いずれの構築方法も，ベースに比べ，BLEUスコアまたは主観品質が向上しており，対訳対応率を利用した翻訳知識構築は，機械翻訳品質向上に効果があると言える．</subsection>
  <section title="おわりに">本稿では，対訳コーパス中に含まれる翻訳の多様性を，制限対訳によって機械翻訳に適した対訳に制限することを提案した．制限対訳の指標として，直訳性に着目し，直訳性を測定するスコアとして，対訳対応率を定義した．対訳対応率を用いて対訳文のフィルタリングを行い，低直訳対訳を排除することにより，翻訳品質を若干向上させることができる．対訳対応率は，対訳文の直訳性を測定できるだけでなく，部分文（句）の直訳性も測定することができる．言い換えると，対訳を機械翻訳に適した部分文とそれ以外に分割することができる．このことを利用し，対訳文を直訳部分と意訳部分に分割し，意訳部分から獲得される翻訳規則の適用条件を厳しくすることにより，主観評価では約8.6%の文について翻訳品質を向上させることができた．今回は直訳性のみに着目したが，制限対訳の指標としては他にも訳語一義性，文脈自由性が考えられる．これらの指標も組み込むことにより，言い換え表現が減少し，翻訳品質はさらに向上できると推測される．</section>
</root>
