<?xml version="1.0" ?>
<root>
  <title>発話単位の分割または接合による言語処理単位への変換手法</title>
  <author>竹沢寿幸森元逞</author>
  <jabstract>自然で自発的な発話を対象とする音声翻訳ないし音声対話システムへの入力としての発話は文に限定できない．一方，言語翻訳処理における処理単位は文である．話し言葉における文に関して，計算機処理から見て十分な知見は得られていないので，文の代わりに「言語処理単位」と呼ぶことにする．まず，一つの発話を複数の言語処理単位に分割したり，複数の発話をまとめて一つの言語処理単位に接合する必要があることを，通訳者を介した会話音声データを使って示す．次に，ポーズと細分化された品詞のN-gramを使って，発話単位から言語処理単位に変換できることを実験により示す．</jabstract>
  <jkeywords>発話単位，言語処理単位，ポーズ，統計的言語処理，会話音声</jkeywords>
  <section title="まえがき">自然で自発的な発話を対象とする音声翻訳ないし音声対話システムの構築を目指している．読み上げ文を対象とする音声認識研究においては文が処理単位となっている．また，従来の音声翻訳ないし音声対話システムへの入力は，文節区切りのようなゆっくり丁寧に発話された文を単位とする音声であった．ここで，音声翻訳システムや音声対話システム等の音声認識応用システムへの入力となる機械的に自動処理可能な単位を「発話単位」と呼ぶことにすると，自然で自発的な発話を対象とする音声翻訳ないし音声対話システムへの入力としての発話単位は文に限定できない．一方，言語翻訳処理における処理単位は文である．書き言葉を対象とする自然言語処理システムにおける処理単位も一般に文である．話し言葉を対象とする言語翻訳処理における処理単位も文である．音声対話システムにおける問題解決器のための解釈の処理単位も暗黙の内に文ないし文相当のものを想定していると考えられる．ところで，本稿では文の定義の議論はしない．例えば，文献等に文に関する説明がある．また，話し言葉における文は，無音と韻律に代表される表層のレベル，構造のレベル，意味のレベルで特徴付けられると言われるが，計算機処理から見て十分な知見は得られていない．そこで，本稿では文という術語は使わず，翻訳や解釈のための自然言語処理単位という観点から「言語処理単位」と呼ぶことにする．まず，2で一つの発話を複数の言語処理単位に分割したり，複数の発話をまとめて一つの言語処理単位に接合する必要があることを，通訳者を介した会話音声データを使って示す．次に，3でポーズと細分化された品詞のN-gramを使って，発話単位から言語処理単位に変換できることを実験により示す．最後に4で全体をまとめ，今後の展望を述べる．</section>
  <section title="発話単位から言語処理単位への変換の必要性"/>
  <subsection title="音声翻訳システムへの入力としての発話単位">音声翻訳研究のために，日本語話者と英語話者の，通訳者を介した対話を収集し，データベース化している．通訳の質を高めるために，日英方向と英日方向の2名の通訳者を介した．「近未来の音声翻訳システム」のための基礎資料を目指しているため，通訳者は1回の発話毎に逐次的に通訳を行う．通訳者が正確に伝えられるために，1回の発話は10秒以内とした．また，相手の話している間に割り込むことは禁止した．ホテル担当者やホテル滞在者であるという設定資料を用意し，それをもとに模擬対話を行っている．役割や設定をいろいろ変化させた上で，多くの話者に演じてもらい，多様な音声言語現象を収録した．このようにして集めた会話音声データにおいて会話参加者が逐次通訳者に渡す発話は音声認識応用システムへの入力となる機械的に自動処理可能な単位とは異なるが，機械的に振る舞う逐次通訳者に会話参加者が渡す発話を入力と仮定することは使い勝手の良い音声認識応用システムの研究開発につながるものと期待できる．そこで，機械的に自動処理可能な単位との関連も含めて，まず第一段階としてこのような会話データの調査を行うことにする．</subsection>
  <subsection title="発話単位の分割による言語処理単位への変換">句や節を単位として漸進的に翻訳処理を行う研究も開始されているが，現段階では，言語翻訳は文を単位とすることが妥当である．応答の「はい」等を含む感動詞はそれだけで文を構成すると言われている．しかしながら，我々のデータベースでは「はい．それで結構です．」と書き起こされていたり，「はい，それで結構です．」と書き起こされていたりする．無音区間の長さと韻律的な情報に着目するよう指示したガイドラインにより区別されているが，その都度物理量を測定することはせず，書き起こし作業者の判断に委ねられている部分もある．言語処理単位の手がかりとして，句点で区切られた節境界に注目する．まず，一つの発話を複数の言語処理単位へ分割する必要がある例を示す．ポーズの長さの情報を[]内に記す．お待たせいたしました．[440ms]シングル一泊一万円のお部屋でしたね．お部屋を調べます．[170ms]しばらくお待ちください．例(1)(2)共に一つの発話が二つの言語処理単位で構成されている．今回調査対象としている対話音声データベースの一部を使って我々が以前に行った実験では，対数パワーとゼロ交差数の二つの特徴量を用い，300~msを閾値としてポーズを自動検出したところ，促音と区別してポーズを検出できた．そこで，一応の目安として300~msを閾値として機械的に自動処理することを想定すれば，例(1)のポーズは300~msより長いので，二つの言語処理単位に分割することができる．しかし，例(2)のポーズは300~msより短いので，二つの言語処理単位に機械的に分割することはできない．したがって，無音区間に関する物理量のみで発話を言語処理単位に自動分割することは難しい．</subsection>
  <subsection title="発話単位の接合による言語処理単位への変換">次に，複数の発話を一つの言語処理単位に接合する必要がある例を示す．カードの番号が，[680ms]五二七九．三九二零．二四六九．零零九八[410ms]でございますね．例(3)はカードの番号を確認する際に，数字の桁毎に区切って通訳者に渡した事例である．(a)(b)(c)(d)は別の発話となっており，それぞれに対して通訳が個別に挿入されている．現在の我々のデータベースでは，発話の最後は必ず句点で書き起こす決まりになっているため，(a)(b)(c)(d)の最後に句点が置かれている．文献で我々が「箇条発話」と名付けたものは，話者ないし項目の数と内容により，同じ発話となったり，別の発話に分けられたりする．通訳の単位としては無理に接合しなくとも良いが，何らかの問題解決のための解釈の単位としては接合した方が良い可能性もある．接続することを明示するためには，例えば，例(3')のように書き起こせば良い．カードの番号が，[680ms]五二七九，三九二零，二四六九，零零九八[410ms]でございますね．発話の最後に読点を挿入するか，あるいは句点を挿入しないことで，発話としては終了していたとしても，言語処理単位としては継続することを表現できる．音声翻訳ないし音声対話システムの枠組みでも，言語処理単位が終了していない発話の最後には読点を挿入するか，あるいは句点を挿入しなければ，発話の接合による言語処理単位への変換をインタフェースとして実現することができる．お待たせいたしました．[1600ms]洋室は，[1130ms]一泊二食付き，[450ms]二万円で，補助ベッドが入ります．既に述べたように，我々のデータベースでは通訳者に渡す発話を単位として音声波形ファイルを切り出している．したがって，例(4)は一つの単位として切り出され，データベース化されている．しかしながら，我々の目標とする自然で自発的な発話を対象とする音声翻訳システムにおいて音声の終端検出を自動的に行うと，この音声波形切り出し単位は細かく分割される可能性がある．例えば，1秒より長い無音区間を終端とみなせば，例(4)は三つの発話単位から構成される．その場合，「洋室は，」という発話単位はその次の発話単位と接合した方が良い可能性がある．シングルの[390ms]シャワー付きのお部屋が300msを閾値として発話単位に分割すると，例(5)は翻訳のための言語処理単位よりも小さい単位に分割され過ぎてしまう事例である．</subsection>
  <section title="発話単位から言語処理単位への変換手法"/>
  <subsection title="単語・品詞並びを使った句点相当の節境界検出">英語の自然で自発的な発話を対象とする音声認識結果を構文解析する研究において，ロバストなパーザの探索空間を削減するために，節境界情報を利用する試みが検討されている．そこでは，確定した音声認識結果全体を入力とし，現在位置の前後2単語(合計4単語)までの範囲を参照して，その位置の節境界らしさの値を求め，それが閾値を越えれば節境界とみなしている．そこで，単語・品詞並びを使った句点相当の節境界検出手法を検討する．先行研究で提案されている推定式を次に示す．の位置が句点相当の節境界の位置である．その前に二つの単語w_1w_2があり，その後に二つの単語w_3w_4がある．ここで，C([w_iw_j])はバイグラム[w_iw_j]の右に句点相当の節境界が現れる回数であり，C([w_iw_j])はバイグラム[w_iw_j]が訓練セットに現れる総数である．他の記号も同様である．訓練データ中にバイグラムと一緒に現れる句点相当の節境界の回数から求められる個別の頻度F([w_1w_2]),F([w_2w_3]),F([w_3w_4])の平均や線形結合よりも効果的であったと報告されている．理由は，十分信頼できる情報を含んでいない低い出現頻度のバイグラムを，他の要因と同じように使わないためである．なお，F([w_iw_j])は次式で表される．F([w_iw_j])とF([w_iw_j])も同様に求められる．Fの値が閾値より大きければそこを句点相当の節境界とする．閾値の値は人手で設定し，訓練セットに対して最良の性能が得られるように調整する．文献では単語のみ検討しているが，我々は日本語を対象とし，次の3通りの組合わせを調べる．品詞のみ品詞・活用形・活用型(プレターミナルと同等)表層表現・品詞・活用形・活用型(単語と同等)さらに，それぞれに対して，現在位置の前後2単語(合計4単語)の範囲を参照する場合(式(1))と，前2単語と後1単語の合計3単語の範囲を参照する場合(次式(3))を検討する．</subsection>
  <subsection title="分割または接合による言語処理単位への変換">先行研究では長い発話を分割することのみを検討していた．我々は分割のみならず接合による言語処理単位への変換も検討する．単語・品詞並びを使った句点相当の節境界検出のための統計モデルとポーズ情報を組み合わせた手法を考える．dg表\reft:combinationにおいて，(A)と(B)には句点「．」を挿入する．(D)には何も挿入しない．(C)は箇条発話が相当し，扱いが難しいが，原則的には読点「，」を挿入する．ATR音声言語データベースの618会話から音声認識と言語翻訳を接続する評価実験用のホテル予約9会話を選択した．日本語話者が客の役割を務めているものが4会話，日本語話者がホテル担当者を務めているものが5会話である．そのホテル予約9会話には166ターン(発話権の交代)，216発話あった．内容を確認したところ，体言止めの箇条発話は含まれていたが，発話を接合して言語処理単位に変換する必要のある事例はその9会話には含まれていなかった．つまり，例(3)ないし(3')のような発話の仕方はまれである．一方，その166ターン，216発話の書き起こしテキストに含まれる句点の数は289個であった．発話の最後は必ず句点で書き起こす決まりになっているので，ターンの途中にある句点の数は123個，発話の途中にある句点の数は73個である．つまり，通訳者へ渡す発話を分割する必要のある事例の頻度は多い．発話の最後が言語処理単位の最後になっているのか，それとも，言語処理単位としてはまだ継続するのかに関して，単語・品詞並びの統計モデルおよび韻律的な特徴等により判断すれば，発話の接合による言語処理単位への変換をインタフェースとして実現できる．しかしながら，発話を接合する必要のある事例は少ないので，以下では，まず，発話を分割する手法について検討する．</subsection>
  <subsection title="発話単位の分割に関する実験"/>
  <subsubsection title="準備">評価実験用のホテル予約9会話以外の609会話を訓練に用いた．訓練は発話権の交代(ターン)を単位として行った．箇条発話は話者ないし項目の数と内容により同じ発話となったり，別の発話となったりするため，その影響を除くことを意図した．ターンの始めには開始記号を挿入し，ターンの終りには終了記号を挿入した．発話の開始と終了の情報は使わなかった．書き起こしテキストの句点をそのまま句点相当の正しい節境界とみなした．</subsubsection>
  <subsubsection title="書き起こしテキストを用いた実験結果">書き起こしテキストを用いた予備実験を行った．句点と読点を除いた形態素列を入力とした．訓練時と同様に，発話の開始と終了の情報は使わず，発話権の交代(ターン)毎に一つの入力単位とした．ターンの途中にある句点123個が評価対象となる．書き起こしテキストの句点を正解として，再現率と適合率を求め，評価する．その際，結果を三つに分類する．句点相当の節境界で成功する:正解[○]句点相当の節境界で失敗する:誤り[×]句点相当の節境界ではない場所で成功する:涌き出し誤り[※]まず，閾値を0.10にそろえ，粒度および参照する範囲の違いの比較・検討を行った．結果をdg表\reft:hikakuに示す．粒度の違いについては，品詞・活用形・活用型の場合が最も良い結果となった．文献においても，品詞では粒度が荒らすぎ，単語では被覆率の観点で良くなかったため，妥当な結果と考えられる．また，参照する範囲については，前2単語と後1単語の方が前後2単語(合計4単語)よりも良かった．そこで，品詞・活用形・活用型の並びに関して，前後2単語を参照する場合と，前2単語と後1単語を参照する場合について，さらに最適な閾値を探してみた．結果をdg表\reft:resultに示す．やはり，前2単語と後1単語の品詞・活用形・活用型の並びを利用した場合が最も良い．誤りおよび涌き出し誤りの内容を次に示す．あらかじめ要約すると，その分析内容も，前2単語と後1単語の範囲を見れば十分であることを示唆している．</subsubsection>
  <subsubsection title="誤りの分析">閾値を0.43として，前2単語と後1単語の品詞・活用形・活用型の並びを利用した場合の誤りは14件あった．その内容を分析する．発話の途中の感動詞の直後が2件あった．発話の途中の感動詞の直後は読点で書き起こされることが多いためである．次に例を示す．行の先頭の「×」記号は誤り例を意味する．「+」記号は単語の区切り位置を示す．[]記号の中にポーズの長さや発話開始・終了等の情報を加えた．「」記号が現在位置を示す．様+ありがとうございました[60ms]また接尾辞の直後が5件あった．そのうちの3件は別の発話となっている．同じ発話に含まれるものは2件あり，そこには285msと350msのポーズがあった．例を示す．千+円[発話終了]和室鈴木+様[285ms]それでは名詞類の直後が2件あった．そのうち1件は別の発話となっている．同じ発話に含まれる1件については，615msのポーズが挿入されていた．例を示す．零+零[発話終了]ごご+滞在[615ms]零接続助詞の直後が5件あった．1秒程度以上の長いポーズが挿入されるか，発話が終わらない限り，接続助詞の直後は読点で書き起こされているためと考えられる．そのうち4件は別の発話となっている．同じ発話に含まれる1件については990msのポーズが挿入されていた．例を示す．す+が[発話終了]予約た+もんですから[990ms]あ</subsubsection>
  <subsubsection title="涌き出し誤りの分析">閾値を0.43として，前2単語と後1単語の品詞・活用形・活用型の並びを利用した場合の涌き出し誤りは57件あった．その内容を分析する．発話の先頭の感動詞の直後が45件あった．発話の先頭の感動詞の直後は句点で書き起こされていることが多いためである．これらの事例は句点とみなしても構わない．次に例を示す．行の先頭の「※」記号は涌き出し誤り例を意味する．他の記号は同様である．+はい[640ms]いつ+はい[110ms]そう終助詞の直後の涌き出し誤りが7件あった．これらもすべて句点とみなしても構わない．例を示す．す+か[590ms]じゃあその他の事例が5件あった．すべて頻度のまれな個別的な事例であった．例を示す．し+たっけ大変+申し訳ございませんが</subsubsection>
  <subsubsection title="ヒューリスティックス導入の効果">涌き出し誤り57件のうち，発話の先頭の感動詞の直後45件と終助詞の直後7件の合計52件については，句点相当の節境界とみなして良い．そこで，それらはすべて句点を正解と見なした場合の実験を行った．さらに既に列挙した誤りおよび涌き出し誤りに関する事例のうち，直感により普遍的に成立すると判断したものをヒューリスティックスとして導入する．その内容は次の通りである．感動詞の直後に接続助詞が続かない限り句点相当の節境界とする．感動詞の直後に接続助詞が続く場合は句点相当の節境界とはしない．助動詞終止形と終助詞の間は句点相当の節境界としない．今回導入したヒューリスティックスはすべて細分化された品詞並びに関する情報からなるもののみである．このようにして求めた再現率と適合率をdg表\reft:result2に示す．今回の実験は開発実験データから得られた誤りおよび涌き出し誤りの事例からヒューリスティックスを作成していることもあり，再現率，適合率ともに改善できた．さらに別の評価実験データ(オープンデータ)を用いた実験は今後の課題とする．</subsubsection>
  <subsection title="音声認識結果への適用実験">文献の音声認識器の結果を用いて，句点相当の節境界を検出する実験を行った．書き起こしテキストによる評価実験を行ったホテル予約9会話を対象とした．書き起こしテキストを用いた予備実験では発話権の交代(ターン)毎に一つの入力単位としたが，音声認識結果を対象とする場合は音声波形切り出し単位を一つの入力単位とした．第1位候補に対する例を示す．dg書き起こしお待たせいたしました．申し訳ございません．シングルは満室となっております．dg認識結果お+待/た/し/いた+し+ま+し+た○/申し訳ございません○/十/五/満室/に+な+っ+てお+り+ま+す○認識結果の「/」記号は音声認識で使っている単語辞書の区切りを表す．認識結果の「+」記号はデータベースの形態素辞書の区切りを表す．「○」は検出できた句点相当の節境界のうち，正解とみなせるものを示す．dg書き起こし［んー］ちょっと高いですね．もっと安い部屋は無いですか．dg認識結果二※/ちょっと/高/い/で+す+ね○/オー/で+す※/いや/な/い/で+す+か○書き起こしの［んー］は間投詞を表す．「※」は涌き出し誤りを示す．音声認識で使っている単語辞書では，話し言葉の文末表現に相当するものを一つの長い単位で扱うことが多いため，文末表現の位置に誤認識が少ない．音声認識に対する評価実験を行った結果をdg表\reft:recognitionに示す．第1位候補を対象にした．第1位の単語認識率は77.4%(挿入誤りを除けば83.6%)であった．今回の実験対象は，ある基準(機械的に振る舞う逐次通訳者に会話参加者が渡した発話)で音声波形が切り出されてデータベース化されているものである．そこでまず発話途中のみを対象に分割に関する数値評価を行った．また，発話末に対してもそこが境界位置かどうかに関する判定を行うことができる．そこで次にその位置も対象に含めた数値評価も行ってみた．音声の終端検出を自動的に行う場合は分割のみならず接合する必要のある現象が出現する可能性がある．接合するかどうかの判定は発話末位置が境界になるかどうかの情報で行うことができる．</subsection>
  <subsection title="発話単位の接合に関する実験">我々が対象としている会話音声は通訳者を介したものであり，人間の通訳者がその場で対処できないような断片的な発話はデータベース化していない．そのため，データベースの中には接合しなければいけないような発話は含まれていない．まず第一段階として，現時点ではこのようにして集めた会話音声を研究対象としている．さて，我々の音声翻訳実験システムにおいてオンラインで音声入力する場合の音声の終端検出では1秒より長い無音区間があれば終端とみなしている．そこで，1秒を閾値として，今回の評価実験用のホテル予約9会話の発話を自動分割してみた．例えば，先に挙げた例(4)は次の例(4')のような発話単位に分割される．お待たせいたしました．洋室は，一泊二食付き，二万円で，補助ベッドが入ります．1秒を閾値として分割できた発話単位のうち，その終端が句点でないものは5例あった．その5例について提案手法を適用したところ，すべて句点とはみなされなかった．したがって，dg表\reft:combinationのモデルにおいて，閾値を1秒とした場合の(C)と判断できるので，そこにはすべて読点を挿入することができる．さらに参考実験として300msを閾値とする自動分割も行ってみた．300msを閾値として分割できた発話単位のうち，その終端が句点でないものは99例あった．この99例について提案手法を適用し，句点とみなされなければ接合に成功したものとしてすべて正解と集計したのモデルによれば読点が挿入される．書き起こしテキストのその位置に読点が書き起こされていても書き起こされていなくても読点で正解とみなした．場合の結果をdg表\reft:connectに示す．涌き出し誤りは，予約内容の確認の発話で名詞類を並べて発話するような箇条発話における名詞類の直後に多い．対処法としては，パワーの変化や韻律情報，さらに音韻の継続時間長等との関係を調べることが考えられる．それらは今後の課題とする．</subsection>
  <section title="むすび">細分化された品詞並びの統計モデルとポーズ情報を用いる句点相当の節境界を検出する手法を提案し，音声認識結果に適用する実験を行ったところ，良好な結果を得た．箇条発話の扱いが今後の課題である．パワーの変化や韻律情報，さらに音韻の継続時間長等を組み合わせることも今後の課題である．次発話予測の研究で用いている発話タイプと関連付ける研究にも発展させていく．その際，韻律情報を用いた発話タイプの識別も考慮する予定である．また，音声認識過程で構文規則を利用する研究と組み合わせれば，統語構造の情報を併用することも可能である．そこで用いている部分木と同時通訳方式の実現に向けた処理単位との関係も調べる予定である．なお，言語翻訳知識を利用して音声認識候補からもっともらしい部分を見つける研究も行われているが，そこでの入力となる言語翻訳単位はあくまで文である．したがって，文献と組み合わせる場合であっても，本稿で提案した処理とメカニズムは必須となる．</section>
</root>
