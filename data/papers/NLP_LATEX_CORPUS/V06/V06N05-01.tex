\documentstyle[jnlpbbl,epsf]{jnlp_j_b5}

 \newcommand{\qed}{}
 \def\LH{}                         
 \newcommand{\Vspace}{}   
 
 \setcounter{page}{3}
 \setcounter{巻数}{6}
 \setcounter{号数}{5}
 \setcounter{年}{1999}
\setcounter{月}{7}
\受付{1998}{8}{24}
\再受付{1998}{11}{2}
\採録{1999}{4}{23}

\setcounter{secnumdepth}{3}

 

\title{音節連鎖特性に着目した対話文の言い直し表現の抽出法}
\author{荒木 哲郎\affiref{Fukui} \and 池原 悟\affiref{Tottori} \and 橋本 昌
東\affiref{NEC}}
\headauthor{荒木, 池原, 橋本}
\headtitle{音節連鎖特性に着目した対話文の言い直し表現の抽出法}

\affilabel{Fukui}
{福井大学工学部知能システム工学科} {Department of Human and Artificial
Intelligence Systems, Faculty of Engineering, Fukui University}
 \affilabel{Tottori}
 {鳥取大学工学部知能情報工学科} {Department of  Information and Knowledge
Engineering, Faculty of Engineering, Tottori University}
 \affilabel{NEC}
 {日本電気株式会社 第2パーソナル C\&C事業本部}{Second Personal C\&C
Operations Unit, NEC Corporation}
\jabstract{
会話文では，言い直しなどの冗長な表現が含まれ，解析を困難にしている．
本論文では，言い直し表現は繰り返し型が多く，また，
文節境界に挿入されやすいことに着目して，
べた書きで音節標記された会話文を対象に，
これを抽出する方法を提案した．提案した方法は，
言い直しを含んだべた書き音節列をマルコフ連鎖モデルを用いて文節単位
に分割する処理と，それによって得られた文節境界を手がかりに
文節間の音節列の類似性を評価して言い直し音節列を抽出する処理の
２つの処理から構成される．具体的には，第１の処理では，
言い直しの表現を含む文節境界の推定に適した文節境界推定法を提案し，
第２の処理では，文節境界の使い方の異なる３つのマッチングの方法を
提案した．また，これらの2つの方法を組み合わせたときの言い直し表現
の抽出精度を計算によって推定すると共に，
その結果を総合的な実験結果と比較して提案した方法の効果を評価した．
ATRの「旅行に関する対話文」のコーパス（その内，言い直しは106個所）を用
いて実験評価した結果によれば，言い直し表現の抽出精度は
第２の処理の方法に強く依存し，再現率を重視する場合は，
再現率80.2％（その時，適合率84.2％），また，適合率を重視する場合は，
適合率94.9％（その時，再現率52.8％）の精度が得られることが分かった．
}
\jkeywords{仮文節境界，対話文，言い直し，音節列\vspace*{5mm}}
 \etitle{A Method to Detect Self-repair Syllable Strings \\
 in Spontaneous Speech using Markov Model}
 \eauthor{Tetsuo Araki  \affiref{Fukui} \and
 Satoru Ikehara  \affiref{Tottori} \and
 Masato Hashimoto  \affiref{NEC}}

 \eabstract{
This paper proposes a method to detect self-repair strings included
in spontaneous speech by Markov models of syllables.
These strings  are assumed to be represented with syllable strings
obtained correctly by acoustic processing.
 The method comprises the following two steps:
 The first step is to determine the provisional bunsetsu boundaries
 of a non-segmented syllable sentence with self-repair strings.
 We improved the method which has been proposed to find the
 provisional  bunsetsu boundaries of correct sentences
 by Markov models, to be applicable to sentences with self-repair.
 The second step is to detect self-repair strings,
 which are inserted in the location of bunsetsu boundaries.
 In this step, we proposed three methods of pattern matching
 to detect these strings.
 This method is applied to detect self-repair strings in
 ATR dialogue corpus. It is confirmed that the method is
 effective to detect self-repair strings inserted in bunsetsu
 boundaries.
 }
 \ekeywords{provisional bunsetsu boundaries,  dialogue,  self-repair,
syllable strings}

\begin{document}
\maketitle
\section{はじめに}
従来，日本語記述文の解析技術は大きく進展し，
高い解析精度~\cite{miyazaki:84:a,miyazaki:86:a}が得られるようになったが，
音声会話文では，助詞の省略や倒置などの表現が用いられること，
冗長語や言い直しの表現が含まれることなどにより，
これを正しく解析することは難しい．

省略や語順の変更に強い方法としては，
従来，キーワードスポッテイングによって文の意味を抽出する方法
\cite{kawahara:95:a,den:96:a,yamamoto:92:a}が考えられ，
日常会話に近い「自由発話」への適用も試みられている．
冗長語に対しては，冗長語の出現位置の前後にポーズが現れることが多いこと，
また冗長語の種類がある程度限定できることから，
頻出する冗長語を狙い撃ちして抽出する方法や上記のキーワードスポッテイング
の方法によってスキップする方法などの研究が行なわれている
\cite{nakagawa:95:a,murakami:91:a,murakami:95:a}．

言い直し表現の抽出では，冗長語の場合のように予め言い直しのタイプを限定
することが難しいが，音響的な特徴に基づく解析や言語的な特徴に基づく解析が
試みられている．このうち，音響的特徴による方法としては，ＤＰマッチングに
よるワードスポッテイングを用いた方法が提案されているが，繰り返し型の言い
直しを対象にした実験では，40\%程度の抽出精度しか得られて
おらず~\cite{nakagawa:95:a}，また音素モデルにガーベージモデルを使用した方法では，180文中に
言い直し表現が21件存在する場合の実験結果は，67\%の抽出精度に留まっている
\cite{inoue:94:a}．これらの研究結果に見られるように，音響的な情報に
基づい
て抽出するだけでは限界があるために，言語の文法や意味的な情報を用いることが期
待される．

従来，言語的な特徴による方法としては，英語では，発話を記録したテキスト
を対象に，音響的な特性を利用して言い直し表現を抽出する方法が提案され，90
\%の抽出精度が得られており~\cite{shriberg:92:a,nakatani:94:a}，日本語では，
漢字かな混じり表記の文を対象に，文法的な解析によって言い直し表現を抽出
する方法が提案され，108個所の言い直し抽出実験では70\%の精度が得られている~\cite{sagawa:94:a}．
さらに，対話文中に含まれる言い直し表現の言語的な構造を詳
細に調べる方法\cite{nakano:97:a,den:97:a}
が考えられている．しかし，
このような漢字かな混じり文を対象とした方法は，言い直しの検出に単語品詞情
報や構文解析情報などを利用しているために，音声認識されたかな文字列（言い
直し表現を含めた対話文）に対してそのまま適用することが困難である．これに
対して，音素モデルの単語trigramなどを利用して言い直し部分をスキップさせ
る方法や未知語抽出の単語モデルを用いて未知語を言い直しとして抽出する方法
がある~\cite{wilpon:90:a,asadi:91:a,murakami:95:a}．
この方法は単語数が制限されるこ
とが問題である．

本論文では，音響処理によって得られたべた書き音節文を対象に，言語的な情報
の一部である音節の連鎖情報に着目して，言い直し音節列を抽出する方法を提案
する．この方法は，単語数が限定されない利点をもつ．具体的には，次の２段階
の処理によって言い直しの抽出を行なう．まず，最初の第1段階では，言い直し
の音節列が文節境界に挿入されることが多いことに着目して，言い直しを含んだ
べた書き音節文の文節境界を推定する．音節文字列の文節境界の推定では，すで
にマルコフ連鎖を用いた方法が提案されているが，言い直しを含む音節列では，
言い直し音節列の近傍で音節連鎖の結合力が弱くなる傾向があるため，この方法
では，正しく文節境界位置を求めることが難しくなると予想される．そこで，こ
の問題を解決するために，すでに提案された方法~\cite{araki:97:a}を，前方向・後
方向の双方向から音節連鎖の結合力が評価できるように改良する．

次に第2段階では，第1段階で得られた文節境界を用いて文節を抽出し，抽出した
文節を相互に比較して言い直し音節列を抽出する．マッチングの方法としては，
(i)1つの文節境界を起点に，繰り返し部分を含む文字列を抽出する方法，(ii)連
続した2つの文節境界のそれぞれを起点とする文字列を比較する方法，
(iii)連続した3つのすべての文節境界を用いて，抽出された２文節を比較する方
法の３種類を提案する．

また，これらの方法を「旅行に関する対話文(ATR)」~\cite{ehara:90:a}
のコーパスに適用し，
個別実験結果から得られる言い直し表現の抽出精度を計算によって推定すると共
に，その結果を総合的な実験結果と比較して，提案した方法の効果を確認する．
\section{言い直し表現の特徴と抽出の方針}
\subsection{言い直し表現の特徴}
言い直し（以下では「換言」とも言う）とは，下記の例に示すように，前に言ったこ
との誤りを訂正してもう一度言ったり，話の途中で言い淀んでしまってもう一度言う
といった表現を示す．

\Vspace
                  「はい，（かしこ）\(\underline{かしこまり}\)ました．」

                  「（わたし）\(\underline{わたくし}\)鈴木が承りました．」

\Vspace
以下では，言い直しによって訂正される対象となる部分（括弧で示した部分）を「換
言前音節列（又は換言前文節）」と呼び，また言い直しによって訂正された部分（下
線で示した部分）を「換言後音節列（換言後文節）」と呼ぶ．さて，言い直し表現の
出現位置と種類について考える．換言前音節列は，後で換言後音節列によって訂正さ
れる部分であるから，一種の誤りと見なすことができ，それを削除すれば発話者の意
図した文になると考えられる．このような観点から，会話テキストデータベース（Ａ
ＴＲ音声翻訳通信研究所）に収録された「旅行に関する対話」の対話例を対象に，言
い直し表現が出現した位置を分類すると表１の通りとなる．この表から，換言前の音
節列の約80％が正しい文の文節境界の位置に挿入された形になっていることが分か
る．
\begin{table}[htbp]
  \begin{center}
    \caption{言い直しの出現位置の傾向}
    \label{tab:1}
    \medskip
\epsfile{file=fig/6.eps,height=99mm}
  \end{center}
\end{table}

次に，換言前音節列と換言後音節列が連続する場合について，言い直しのタイプを分
類すると表２の結果を得る．この表から，言い直しの大半（表2の中の切り捨てタイ
プと置き換えタイプを除く約60％が該当）は，間違った表現をそれと同一内容を表す
正しい表現への言い換えとなっており，繰り返しの構造を持っていることが分かる．
\subsection{言い直し表現抽出の方針}
前節の考察に従い，本論文では言い直し表現抽出の第１ステップとして，文節境界位
置に現れる繰り返しタイプの言い直し表現を対象にその抽出法を考える．

ところで，抽出の対象とする言い直し表現は文節境界に現れることから，言い直し表
現自体は文節で，換言前表現の始点，終点は共に文節境界であると考えることができ
る．また，繰り返しタイプの言い直しでは，換言前音節列と換言後音節列は連続して
おり，両者は類似した音節を持つ可能性が高いから，隣接した２つの文節の音節を比
較すれば，言い直し表現が抽出できると期待される．
\begin{table}[htbp]
  \begin{center}
    \caption{言い直しパターンのタイプ}
    \label{tab:2}
    \medskip
\epsfile{file=fig/7.eps,height=161mm}
    \vspace*{-3mm}
  \end{center}
\end{table}

以上から，ここでは，図1に示すように，以下の2つの段階に分けて言い直し表現を抽
出する．

\noindent{\bf 第１段階}　：言い直しを含む音節文の文節境界を推定する．
\begin{figure}[bp]
  \bigskip
  \bigskip
  \begin{center}
\epsfile{file=651_8.eps}
    \medskip
    \caption{言い直し対象の検出の概要}
    \label{fig:1}
  \end{center}
\end{figure}

\noindent
{\bf 第２段階}　：連接する２つの文節間で音節列を比較し，類似性の高い文節の組
の前方の文節を「換言前音節列」と判定する．
\section{言い直し表現の抽出法}
\subsection{言い直しを含む文節境界の推定}
\subsubsection{文節境界推定の基本的考え方}
言い直しを含む音節列の文節境界を推定する方法について考える．従来，べた書きさ
れた日本語かな文の文節境界を推定する方法として，マルコフ連鎖モデルを用いた方
法~\cite{araki:97:a}が提案されている．この方法は，図2-(i)に示すように，文節内で
は文字間の連鎖強度が高いことに着目して，文字連鎖確率値が落ち込むところを仮文
節境界と推定するもので，具体的には，文節境界は以下の２つの手順で決定される．
\Vspace
\begin{enumerate}
\item かな文字列の前方から順にマルコフ連鎖確率を求め，連鎖確率がある閥値以
下(落ち込み)となる文字を$x_i$とする．($x_i$の直前に文節境界がある可能性が高
い)
\item 文字$x_i$の直前に文節境界記号bを挿入し，この記号と前方文字との連鎖確率
を求める．確率がある閥値以上(立ち上がり)になったとき，bの位置を文節境界と判
定する．
\end{enumerate}
\Vspace

なお，(1)，(2)共に，連鎖確率の評価では，正しく文節境界記号の挿入されたべた書
きかな文から得られた連鎖確率を使用する．

ところで，この方法は，文法的にも意味的にも正しい日本文を対象に提案された方法
である．言い直しを含む文では，換言前音節列の部分で発話の中断や言い誤りが起こ
っているため，仮文節境界の判定に用いた連鎖確率の「落ち込み」や「立ち上がり」
が必ずしもシャープには現れない危険性があり，上記の方法を，言い直しを含む文に
そのまま適用するのは適切でないと考えられる．そこで，言い直し音節列の挿入され
た文節境界の性質について考えると以下のことが分かる~\cite{araki:96:a}．

まず，換言前音節列の始点に当たる文節境界では，その境界の直前の文字列は正しい
文字列であるので，前方向(順方向)のマルコフ連鎖確率値が落ち込む位置を求めれ
ば，その位置が換言前音節列の始点となっている可能性が高い．

これに対して，換言前音節列の終点に当たる文節境界では，その境界の直前の文字列
は言い直し対象の一部(言い誤りなど)であるので，前方向(順方向)のマルコフ連鎖確
率値が必ずしも落ち込むとは限らない．しかし，その境界の後方の音節列は正しく言
い直された音節列であるので，後方向(逆方向)のマルコフ連鎖を使用すれば，連鎖確
率の落ち込みによってその位置を抽出できる可能性が高い．

以上から，本論文では，図2-(iv)のように前方向(順方向)と後方向(逆方向)のマルコ
フ連鎖確率値を組み合わせることによって文節境界を判定する．
\vfill
\begin{figure}[p]
  \begin{center}
\epsfile{file=fig/10.eps,height=180mm}
    \medskip
    \caption{言い直し列を含んだ音節文の仮文節境界の推定法}
    \label{fig:2}
  \end{center}
\end{figure}
\subsubsection{文節境界の推定}

文節境界の推定では，前方法，後方向のマルコフ連鎖モデルを使用することを述べた
が，ここではさらに，文節境界をまたがる文字連鎖の確率をも考慮し，３つの方法を
考える．以下では，\cite{araki:97:a}で用いられた下記の記号を用いて，各方法を定
義する．
\Vspace
\begin{enumerate}
\item FBL:
文節境界記号bと前方文字との連鎖確率の「立ち上がり」を順方向に評価する方法
\item BBL:
文節境界記号bと後方文字との連鎖確率の「立ち上がり」を逆方向に評価する方法
\item FL:
文節間をまたがる音節間の結合力(「落ち込み」のみ)を順方向に評価する方法
\item BL:
文節間をまたがる音節間の結合力(「落ち込み」のみ)を逆方向に評価する方法
\end{enumerate}
\Vspace

なお，ここでは，マルコフ連鎖確率として３重マルコフモデルを用いる．また，以下
では，複数の方法を組み合わせて使用するときの文節境界の判定条件を記号
「・(and)」，「+(or)」で表す．
\Vspace
\begin{enumerate}
\item {\bf 第一の方法}：《単純な双方向型の推定》(FBL+BBL法:図3-(i))\\
連鎖確率の小さいところを抽出し，その位置に文節境界を表す記号bを挿入したと
き，記号bについての双方向のマルコフ連鎖確率値の少なくともどちらか一つが，あ
る閾値より大きくなるところを文節境界と推定する．
\item {\bf 第二の方法}：《順方向挟み込み型を併用した双方向型の推定》(FL・
(FBL+BBL)法:図3-(ii))\\
第一の方法に加えて，文節境界をまたがる文字間の連鎖確率を順方向に評価す
る．
\item {\bf 第三の方法}：《双方向挟み込みを併用した双方向型の推定》(FL・BL・
(FBL+BBL)法:図3-(iii))
\footnote{3.1.3で後述するように，１つの文節境界だけを用いてマッチングを行う
方式１の場合には，文節境界の中で換言前音節列の始点に当たる文節境界の検出精度
を高くすることが必要となる．その場合には，換言前音節列は一種の誤り文字列と見
なすことができるから，逆方向のマルコフ連鎖モデルとしてＢＢＬを用いる効果は少
ないが，ＢＬを用いる効果は大きい（誤り文字列の場合はＢＬが落ち込む）と考えら
れることから，FL・BL・ (FBL+BBL)法よりもFL・BL・FBL法が有効と考えられる．両
者の比較については，５．の実験結果で議論される．}\\
第一の方法に加えて，文節境界をまたがる文字間の連鎖確率を順方向と逆方法から評
価する．
\end{enumerate}
\Vspace
\subsubsection{言い直し音節列の判定}

第１段階の方法で得られた文節境界のうち，任意の境界から始まる３つの連続した文
節境界を順に，第１，第２，第３文節境界と呼ぶ．連続した文節の類似性を判定する
には，これらの文節境界に挟まれた文字列を比較すればよいが，これらの文節境界は
必ずしも正しいとは保証されない．
\begin{figure}[tbp]
  \begin{center}
\epsfile{file=fig/12.eps,height=140mm}
    \medskip
    \caption{マルコフモデルによる文節境界の推定方法}
    \label{fig:3}
  \end{center}
\end{figure}
特に，３つの文節境界が共にすべて正しい確率
は，一つの境界が正しい場合よりも低下するから，なるべく少ない数の境界を使用し
て言い直し表現を抽出できるのが望ましい．しかし，逆に，使用できる文節境界が少
ない場合は，文節間の類似性判定の精度が低下する恐れがある．

これらの点を考慮して，ここでは，文節間の類似性を判定する方法（マッチング法）
として，以下の３つの方法を考える．
\newpage
\begin{enumerate}
\item {\bf 方式1}：１つの文節境界だけを使用する方法
\item {\bf 方式2}：連続した2つの文節境界を使用する方法
\item {\bf 方式3}：連続した3つの文節境界を使用する方法
\end{enumerate}
\Vspace

以下，これらの３つの方法の詳細を述べる．  まず，隣接する任意の2つの文節候補
をそれぞれ，$B_1 = x_1x_2 \cdots x_m$，および，$B_2 = x_{m+1}x_{m+2}\cdots
x_{m+n}$とする．
\bigskip

{\bf 【方式1のマッチング方法】}
\Vspace
\begin{enumerate}
\item 与えられた文節の先頭を始点として，長さ$l$文字（$l$は平均文節長の２〜３倍
程度）の\break
音節列$X=x_1 x_2 \cdots x_l$（但し，$X$の中に先頭文字$x_1$と等しい文
字$x_i$が存在する．すなわち，$x_1=x_i$）を取り出す．
\item $x_1$,$x_2$, $\cdots$,$x_l$を図４のように横と縦にならべたマトリックス
を考え，$x_1=x_i$となる$x_i$\break
の位置$i$ (但し，$2 \le i \le l$)を換言後文節の
開始点とする．
\item 換言前文節候補の$i-1$個の音節列$x_1x_2 \cdots x_{i-1}$の少なくと
も$j=(i-1)-k$個の$j$（ここで，$1 \le j \le i-1$)に対して，式$x_j=x_{j+i-1}$が成
り立つ時，$i-1$個の音節列$x_1x_2 \cdots x_{i-1}$
を換言前音節列として抽出する．ここで，$k$はハミング距離であり，実験的に最適値
を定める．
\end{enumerate}

\bigskip

{\bf 【方式2のマッチング法】}
\Vspace
\begin{enumerate}
\item ２つの文節候補$B_1$と$B_2$において，$B_1$を換言前文節候補とし，$B_2$の
文字列の中からその部分列として，$B_1$の文節長$m$と同じ長さの音節列$B_2 =
x_{m+1}x_{m+2} \cdots x_{2m}$を取\break
り出す．
\item $m-k$個以上の$j$(ここで，$ 1 \le j \le m$)について$x_j = x_{m+j}$である場
合に，$B_1$を換言\break
前音節列とする．ただし，$x_j$と$x_{m+j}$はそれぞれ文
節$B_1$と$B_2$の中の$j$番目の音節を\break
表す．
\end{enumerate}

\bigskip

{\bf 【方式3のマッチング法】}
\Vspace
\begin{enumerate}
\item[~] 第1，第2，および第3の文節境界によって決定される音節列$B_1$およ
び，$B_2$の組に対して，少なくとも$m-k$個の$j$ (但し，$j$は$n$と$m$の中で小さい方の
値に対して，$ 1 \le j \le m$(または$n$))について $x_j = x_{m+j}$となる場合に，$B_1$を
換言前音節列とする．
\end{enumerate}
\begin{figure}[htbp]
  \begin{center}
\epsfile{file=fig/14.eps,height=190mm}
    \medskip
    \caption{マッチングによる言い直し対象の検出方法}
    \label{fig:4}
  \end{center}
\end{figure}
\section{言い直し表現の抽出精度の推定}

前章で述べた方法は，文節境界の推定と文節間の類似性判定の２つの手順から構成さ
れる．そこで，本章では，文節境界の推定精度（適合率$P_b$と再現率$R_b$），及
び，文節間の類似性の推定精度（適合率$P_m$と再現率$R_m$）が与えられた時，最終
的に抽出される言い直し表現の抽出精\break
度（適合率$P_t$と再現率$R_t$）を推定する方
法について考える．

\subsection{文節抽出精度の推定}

文節境界推定の結果から，マッチングの3方式に必要な文節がどれだけ正確に抽出で
きるか考える．
\begin{flushleft}
  \bf (１)任意の文節の先頭位置が正しい確率
\end{flushleft}

まず，実験標本に含まれている正しい文節境界の数を$n$，文節境界の候補として検出
した境界の数を$n_1$，そのうち正しい文節境界の数を$n_0$とすると，推定された文
節境界の適合率$P_b$，再現率$R_b$は，それぞれ，
\begin{equation}
  P_b = n_0 / n_1，R_b = n_0 / n
\end{equation}
であるから，正しく推定された文節境界の数を$N_{1max}$と置く
と，$N_{1max}$は$n_0$に等しく，
\begin{equation}
     N_{1max} = n_0 = n R_b
\end{equation}
\begin{flushleft}
  \bf (２)正しく取り出される文節の数
\end{flushleft}

推定された文節境界から，どれだけの数の文節が正しく取り出せるかを考える．正し
い文節は，連続する２つの文節境界が正しい時に得られる．そこでまず，先頭の文節
境界を考えると，(1)から，そのような境界は，$n_0$個得られる．次に，これら
の$n_0$個の境界に続く文節境界がどれだけ正しく決定されているかを考える．但
し，ここでは，$n$, $n_0$, $n_1$はいずれも１より十分大きい値とする．ある正しく
決定された文節境界(始点)の後に初めて現れる文節境界としては，
\Vspace
\begin{enumerate}
\item  正しく文節境界として検出されたもの($n_0$)
\item  誤って文節境界と判定されたもの($n_1 - n_0$)
\item  見過ごされてしまったもの($n - n_0$)
\end{enumerate}
\Vspace
の３種が考えられる．全体では，$n_0+(n_1-n_0)+(n-n_0)=n+n_1-n_0$通りの可
能性があるが，このうち(1)の場合のみ正しい文節が得られる．どの可能性も文
節開始点と独立に現れると仮定すると，(1)が現れる確率は$n_0/(n+n_1-n_0)$であ
る．以上から，正しく抽出された文節の数は，$N_{2max}$は，
\begin{equation}
 N_{2max} = n_0 \times n_0 / (n+n_1-n_0)
\end{equation}
と推定される．ここで，(1)および(2)式を用いて書き替えると，
\begin{equation}
  N_{2max} = n \times R_b \times \gamma
\end{equation}
但し $\gamma= P_bR_b  / (R_b+P_b-R_bP_b)$．

\begin{flushleft}
  \bf (３)連続して正しく取り出せる文節の組の数
\end{flushleft}

この場合は，連続した3つの文節境界が正解であることが必要である．
連続する2つの文節境界が正しい文節境界の組みの数は(3)式で与えられるから，
連続した３つの文節境界が正解となる組の数$N_{3max}$は，(2)と同様の議論に
よって，$N_{2max}$の$ \gamma$倍となるから，
\begin{equation}
　N_{3max} = n \times R_b \times \gamma^2
\end{equation}
\subsection{言い直し表現の抽出精度の推定}
\begin{flushleft}
  \bf (１)言い直し表現の総合的な抽出精度
\end{flushleft}

文節間の音節類似性を判定するマッチング処理で，言い直し表現が正しく言い直
しとして抽出できるのは，正しい文節境界を持つ文節候補の中からのみと考えら
れる．これに対して，誤った言い直し表現は，文節境界が正しい場合からも，ま
た，文節境界が誤った場合からも抽出さ\break
れる．そこで，正しい文節境界を持つ文
節に含まれる言い直し表現が，正しく言い直しと判定\break
される割合を$\alpha$とし，言
い
直しでない文節を間違って言い直しと判定する割合を$\beta$とする．また，\break
文節境
界
推定実験で得られた文節の数を$N$，その中の正しい文節境界を持つ文節に含まれ
る言い直し表現の数を$M$とする．この時，マッチング実験において正しく言い直
しと判定されるものは，$\alpha M$件，誤って言い直しと判定されるもの
は，$\beta (N-M)$件
であるから，総合的な（第１段階と第２段階を組み合わせたときの）言い直し表
現の抽出精度（適合率$P_t$と再現率$R_t$）は，
\begin{equation}
 P_t =\alpha M /\{ \alpha M +\beta (N-M) \}
\end{equation}
\begin{equation}
 R_t =\alpha M / m
\end{equation}
となる．但し，$m$は標本全体に含まれる言い直し文節の数を示す．
ここで，$m$は既知としてよいから，$N$, $M$, $\alpha$, $\beta$の４つのパラメータの値
が分かれば，$P_t$, $R_t$は計算できる．そこで，以下では，これらの値を求める．
\begin{flushleft}
  \bf (２)文節数とその中の換言文節数（NとM）
\end{flushleft}

ここで，第１段階の文節境界の推定で得られる言い直し文節候補の数$N$とその中に含
まれる言い直し表現の数$M$を考える．$N$は，３つのマッチング方式いずれの場合も共通
で，
\begin{equation}
　N = n_1  = n R_b  / P_b
\end{equation}

次に，標本内の文節のうち，言い直し表現の含まれる割合を$a(=m/n)$とする．第2
段階では，第1段階で正しく抽出された文節($N_{1max}$, $N_{2max}$, $N_{3max}$)
の中に含まれた言い直しのみが抽出の可能性を持つ．そこで，第１段階で抽出された
文節も同じ割合で言い直し文節を含むと仮定すれば，その数$M$は，
\begin{equation}
  M = a \times N_{imax}(但し，i=1,2,3)
\end{equation}
となる．
\begin{flushleft}
  \bf (３)言い直し判定の確率（$\alpha$と$\beta$）
\end{flushleft}

ここで，すべての文節境界$N$が正しい場合を考え，正しい文節境界を持つ$N$個の
文節の中に，$m$個の言い直し表現が含まれていたとする．また，この標本に対し
て文節のマッチング処理によって，$m_1$個の文節が言い直しと判定され，
そのうち正しく判定されたものは$m_t$個だったとすると，マッチングの精度
（適合率$P_m$と再現率$R_m$）は，
\begin{equation}
 P_m = m_t  / m_1 , R_m = m_t  / m
\end{equation}
で与えられる．この時，$\alpha$は，定義により，$\alpha=R_m$である．
また，$\beta$は，以下のように求められる．すなわち，言い直しでない文節数は
$N-m$件存在するのに対して，このうちの$m_1-m_t$件を言い直しと判定した
ことになるから，$\beta=(m_1 - m_t)\;$/$\;(N - m)$．ここで，全文節$N$に含ま
れる言い直し文節$m$の割合を$a(=m/N)$とおき，(10)式を使用する
と，$\beta$は，
\begin{equation}
 \beta ={} \frac{\alpha R_m (1-P_m)} {P_m (1- \alpha)}
\end{equation}
以上で，第１段階と第２段階の方法の精度（それぞれ，$P_b$，$R_b$および
$P_m$，$R_m$）が分かれば，それを結合した総合的な抽出精度
($P_t$ , $R_t$)が推定できる．

\section{実験結果と考察}
\subsection{実験の条件}
本実験では，以下に示すような入力文とマルコフ連鎖確率辞書を用いた．
\bigskip
\begin{description}
\item[(1)] 実験入力文  
\Vspace
\renewcommand{\labelenumi}{}
\begin{enumerate}
\item 文の内容：旅行に関する会話
\item 文の表記：文音節列
\item 総文数：100文（標本外，文節境界位置に出現する単純な繰り返しタイプの言
い直しが少なくとも一つ存在するもの）
\item 総文節境界数：346境界（うち，言い直し対象の始点106，終点106）
\end{enumerate}
\Vspace
\newpage
\item[(2)] マルコフ連鎖確率辞書の統計データ  
\Vspace
\begin{enumerate}
\item データの内容：旅行に関する会話
\item データの表記：文節音節列（空白記号付き，言い直しは含まない）
  \begin{enumerate}
  \item[(a)] 総文節数：27,120文節
  \item[(b)] 総音節数：236,705音節（空白記号を除くと155,345音節）
  \end{enumerate}
\end{enumerate}
\Vspace
\item[(3)] マルコフ連鎖確率辞書のタイプ
\Vspace
\renewcommand{\labelenumi}{}
\begin{enumerate}
\item 種類：文節マルコフ連鎖確率 
\Vspace
\begin{enumerate}
\item 次数：4次（3重）
\item 方向のタイプ：順方向と逆方向
\end{enumerate}
\end{enumerate}
\end{description}
\subsection{文節境界推定実験の結果}
3.1節で述べた３つの文節境界推定法について，閾値を変化させた時の再現率
と適合率の値を図5に示す．この図と４章の結果（(2)式, (3)式, (5)式）を用
いれば，それぞれのマッチン\break
グの方法に適したように，$N_{imax}$を最大とする
ような$P_b$，$R_b$を選択することができる．その結果を求めると，いずれの場
合も，その値は$P_b$と$R_b$の調和平均を最大とする値の近傍（±1\%以内）に
あるため，ここでは，$P_b$と$R_b$の調和平均が最大となる場合について，各方
式の精度を表\break
3に示す．また，各推定法によって推定された文節境界の例を表4
に示す．これより以下のことが分かる．
\Vspace
\begin{enumerate}
\item 提案した3つの文節境界推定法のうち，第3の方法が最も優れており，言い直し
表現を含まない場合と同程度の精度（適合率88.0\%，再現率89.6\%）が得られ
る．
\vspace{0em}
\item 換言前音節列の始点の再現率(85.8\%)\footnote{
換言前音節列の始点の再現率だけに限って言えば，第3の方法より
もFL・BL・FBL法を用いた方が，換言前音節列の始点の再現率は，約5\%高い値
（90.6\%）が得られる（図６参照）．}
は，全体の文節境界の再現率(89.6\%)より，約4\%低い．またその終点の再現
率(77.4\%)はさらに約8\%低い．
\end{enumerate}
\begin{figure}[tbp]
  \begin{center}
\epsfile{file=fig/19.eps,height=106mm}
    \medskip
    \caption{言い直しを考慮した文節境界の推定結果}
    \label{fig:5}
  \end{center}
\end{figure}
\subsection{文節マッチング法の実験結果}
文節境界精度がすべて正しい場合について，3.2で述べた３種のマッチング方法を用
いて言い直し音節列抽出実験を行なった．その際，マッチングで用いたハミング距
離$k$については，$k=0$から$m-1$の範囲で実験を行い，$P_m$, $R_m$が共に大きくなる値
（今回の実験では，$k=1$）に設定した．実験の結果を表5の(2)の欄に示す．また，３
通りのマッチング方式による言い直し音節列の抽出結果の例を表６に示す．表５
の(2)の欄から以下の観察が得られる．
\Vspace
\begin{enumerate}
\item 方式２，３の適合率(共に約99\%)は，方式１（約86\%）に比べて10\%以上，適
合率が高い．
\item 逆に，方式２，３の再現率(84〜85\%)は，方式１(約89\%)に比べて4〜5\%低
い．
\end{enumerate}
\begin{table}[tbp]
\vspace{-3mm}
  \begin{center}
    \caption{3つの方法による文節境界の推定結果の比較}
    \label{tab:3}
\epsfile{file=fig/20_ue.eps,width=130mm}
    \bigskip
    \caption{文節境界の推定結果の例の一覧}
    \label{tab:4}
    \smallskip
\epsfile{file=651_20.eps}
  \end{center}
\end{table}
\begin{table}[htbp]
  \begin{center}
    \caption{文節境界抽出精度，マッチング精度及び言い直し音節検出精度の計算値と実験値}
    \label{tab:5}
    \medskip
\epsfile{file=fig/21.eps,width=139mm}
  \end{center}
\end{table}
\bigskip

このうちの(1)から，第２の文節境界が正しく決定できることは，マッチングの精度
を上げる上で有効であるが，第３の文節境界の情報はあまり価値を持たないことが推
定される．また，(2)の差は，方式１のマッチング法では，方式２，方式３のマッチ
ング法よりも甘い基準で言い直しを判定していることから生じたものと考えられる．
\subsection{総合実験結果と推定値の比較}
4章の方法を用いて，第１段階の実験結果（5.2節）と第２段階の実験結果（5.3節）
から，総合的な言い直し表現の抽出精度を推定した結果を表５に示す．これと比較し
て，実際に第１段階の文節境界推定の方法と（第３の方法）と第２段階のマッチング
処理を組み合わせて行った言い直し音節列抽出実験の結果を同じ表に示す．また，総
合的な適合率と再現率の関係を\protect{図~6}に示す．これらの結果から以下のことが分かる．
\begin{table}[htbp]
  \begin{center}
    \caption{3通りの方式による言い直し音節列抽出結果の例}
    \label{tab:6}
\epsfile{file=651_22.eps}
  \end{center}
\end{table}

\smallskip\noindent {\bf ＜実験値の特性＞}
\smallskip
\begin{enumerate}
\item 方式１は，他の方式と比べて再現率が高い（$R_t$＝75.5\%）のに対し，方式
２や方式３\break
は逆に適合率が高い（$P_t$＝93.5〜94.9\%）．
\item 方式２と３には，大差は認められない．
\end{enumerate}
\smallskip

(1)は5.3節の実験結果から予測された通りである．また(2)も，第１文節境界に比べ
て第２文節境界の推定が低いこと，第３文節境界の情報はあまり影響しないことから
予測された通りといえる．

\begin{flushleft}
  \bf ＜推定値との比較＞
\end{flushleft}

\begin{enumerate}
\item 総合実験における精度($P_t$, $R_t$)は，一部を除いて，実験値が推定値よ
り，3〜6％低くなっている．
\\[\LH]
\hspace*{2ex}
これは，推定値の計算では「言い直し文節とその他の正しい文節の境界が同じ精度で
決定できる」と仮定していたが，実際の言い直し表現では，「言い直し文節の境界は
その他の文節境界より決定しにくい」ことが原因と考えられる．上記の差が方式１に
比べて方式２で顕著であるのは，特に，第２文節境界決定が困難であるためと思われ
る．

\item 方式３では，$R_t$の値は，(1)とは逆に実験値の方が推定値よりも高い．
\\[\LH]
\hspace*{2ex}
最終的に抽出される言い直し表現は，換言前文節（第１，第２文節境界で囲まれた範
囲）であり，換言後文節は抽出されないこと，従って，第１段階の文節境界の推定
で，第２文節が正しく判定されなかった場合でも，言い直し表現が抽出できることが
あるためと考えられる．

\item 適合率$P_t$は，方式３が最も高く，方式1が最も低いと考えられるが，推定値
は，方式２と方式３でこの関係が逆転している．
\\[\LH]
\hspace*{2ex}
この理由は以下の通りと考えられる．すなわち，方式３は，方式2に比べて第１段階
で得られた文節候補中に含まれる言い直し文節候補が少ない．このため，言い直し文
節と正しく判定できる文節は限られている．これに対して，正しい文節境界を持たな
い文節候補が多いため，第２段階のマッチングでは，より多くの正しくない文節が言
い直し
と判定される（すなわちごみが増える）ためと考えられる．
\end{enumerate}
\medskip

以上の換言前音節列の抽出結果は，各方式とも第１段階において，5.2で述べた第３
の方法を用いて文節境界を推定していた．しかし，マッチング方式１の場合には，文
節境界の中で特に，換言前音節列の始点に当たる文節境界の精度が高いことが要求さ
れることから，FL・BL・FBL法を用いた方が換言前音節列の抽出精度が高くなると考
えられる（3.1および5.2の脚注参照）．

実際に，その実験結果を図６に示すと，換言前音節列の適合率＝84.2\%，再現率
＝80.2\%となり，上記の場合よりも適合率で約$\!$3\%，再現率で約$\!$5\%高くなること
，また，これらの値は計算\break
値によく合致することがわかった．

\begin{figure}[htbp]
  \begin{center}
\epsfile{file=fig/23.eps,width=110mm}
    \medskip
    \caption{換言前音節列の抽出実験結果}
    \label{fig:6}
  \end{center}
\end{figure}
\vspace*{-15mm}
\subsection{結論}
マルコフ連鎖モデルによる文節境界推定の方法と文節間の文字列比較の方法を組み合
わた方法により，会話文に現れた繰り返し型の言い直し表現は，適合率84〜95\%，再
現率53〜80\%の精度で抽出することができる．具体的には，
\Vspace
\begin{enumerate}
\item 再現率を重視する場合には，第1文節境界のみを用いてマッチングにより言い
直し音節列を判定する方法が適しており，再現率=80.2\%(適合率＝84.2\%)の精度が
得られる．
\item 逆に，適合率を重視する場合には，第2および第3の文節境界をも用いて文節を
抽出し，文節間の音節列を比較する方法が適しており，適合率＝94.9\%(再現率
＝52.8\%)の精度が得られる．
\end{enumerate}

本方式によって得られた結果にさらに文法情報などを適用して，言い直し表現の抽出
精度を上げようとする場合は，再現率の高い(1)の結果を使用することが望ましいと
考えられる．

上記の実験結果では，かなり高い精度（80\%)で言い直し表現を抽出できることが分
ったが，これは言語としての音節連鎖の持つ情報が，言い直しの言語的な特徴（誤り
文字列の特性や繰り返しの構造など）をよく反映していること，これを使用すれば従
来の音響的な情報以上の効果が得られることを意味している．

今後，抽出精度を向上するには，音節の連鎖情報に加えて，従来の音響的な情報を有
機的に組み合わせていくこと，また言語情報からみても，さらに文法的な情報を加え
ていくことが期待される．

\section{あとがき}

本論文では，音響処理によってべた書きの音節列に変換された会話文に対して，それ
に含まれる繰り返し型の言い直し表現を抽出する方法を提案した．この方法は，日本
語音節列の持つ確率的情報を利用したもので，以下の２つの処理から構成される．す
なわち，第１の処理は，言い直しの音節列が文節境界に挿入されることが多いことに
着目し，言い直しを含む対話文を文節単位に分割するもので，従来のマルコフ連鎖モ
デルを用いた文節境界の推定法を言い直しを含む音節列に適すように改良した．第２
の処理は，第１の方法で得られた文節境界を手がかりに，隣り合う２つの文節間で音
節列の類似性を判定するマッチング処理であり，文節境界の使い方の異なる３つの方
法を提案した．

また，提案した方法の精度を推定するため，第１の処理と第２の処理の精度から，そ
れを組み合わせたときの精度を計算する方法を示した．

これらの方法をATRの「旅行に関する対話文」データ（その内，言い直しは106個所）
に適用した実験結果から，以下のことが分かった．
\smallskip
\begin{enumerate}
\item 第1の処理では，従来のマルコフ連鎖モデルを組み合わせて使用すれば，言い
直しを含む音節列でも，言い直しを含まない場合と同程度の精度（再現率約90\%，適
合率88\%)で文節境界が推定できる．
\item これにより，会話文に現れた繰り返し型の言い直し表現は，適合率84〜95\%，
再現率53〜82\%の精度で抽出することができる．
\smallskip
\end{enumerate}

本方式によって得られた結果にさらに文法情報などを適用して，言い直し表現の抽出
精度を上げようとする場合は，再現率の高い方法が望まれる．その場合は，第１の処
理で得られたすべての文節境界を起点に，それ以降数文節相当の音節列を調べる方法
が適しており，その場合，再現率＝80.2\%(適合率＝84.2\%)の精度が得られる．

なお，今後の課題としては，文節境界が未抽出の言い直し表現の抽出方法，付け加え
型や繰り返しを伴う置き換え型の言い直し表現へ適用するための拡張方法，単語境界
位置に出現する言い直し表現の抽出方法などの検討が挙げられる．
\Vspace

\acknowledgment

本研究を進めるにあたり，ATR音声言語データベースを提供下さいましたATRの関係各
位ならびに音声翻訳研究所 森元 逞 元第四研究室長に感謝いたします．
\vspace*{-3mm}

\nocite{*}
\bibliographystyle{jnlpbbl}
\bibliography{v06n5_01}
 \begin{biography}
 \biotitle{略歴}
 \bioauthor{荒木 哲郎}{
 1948年生．1976年福井大学工学部電気工学科卒業．
 1981年東北大学大学院博士課程修了．
  同年，日本電信電話公社入社，
  1990年NTT退社，同年福井大学工学部電子工学科助教授，現在に至る．
  自然言語処理，知識情報処理の研究に従事．
  電子情報通信学会，情報処理学会，言語処理学会，IEEE，各会員．}
   \bioauthor{池原 悟}{
 1944年生．1967年大阪大学基礎工学部電気工学科卒業．1969年同大学大学院
 修士課程修了．同年，電信電話公社に入社．
  数式処理，トラヒック理論，自然言語処理の研究に従事．1996年より，
  スタンフォード大学客員教授．
   現在，鳥取大学工学部教授．
   工学博士．1982年情報処理学会論文賞，1993年同研究賞．
   1995年日本科学技術センタ賞(学術賞)，同年人工知能学会論文賞．
   電子情報通信学会，人工知能学会，言語処理学会，各会員．}
  \bioauthor{橋本 昌東}{
  1972年生．1995年福井大学工学部電子工学科卒業．
  1999年同大学大学院博士前期課程修了．同年4月日本電気株式
  会社に入社．現在，第2パーソナル C\&C事業部に勤務．
  }
  
  \bioreceived{受付}
  \biorevised{再受付}
  \bioaccepted{採録}
   \end{biography}
  \end{document}
