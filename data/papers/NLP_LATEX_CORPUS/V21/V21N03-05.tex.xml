<?xml version="1.0" ?>
<root>
  <jtitle>絵本のテキストを対象とした形態素解析</jtitle>
  <jauthor>藤田早苗平博順小林哲生田中貴秋</jauthor>
  <jabstract>これまで，主に新聞などのテキストを対象とした解析では，形態素解析器を始めとして高い解析精度が達成されている．しかし分野の異なるテキストに対しては，既存の解析モデルで，必ずしも高い解析精度を得られるわけではない．そこで本稿では，既存の言語資源を対象分野の特徴にあわせて自動的に変換する手法を提案する．本稿では，絵本を解析対象とし，既存の言語資源を絵本の特徴にあわせて自動的に変換し，学習に用いることで相当な精度向上が可能であることを示す．学習には既存の形態素解析器の学習機能を用いる．さらに，絵本自体にアノテーションしたデータを学習に用いる実験を行い，提案手法で得られる効果は，絵本自体への約~11,000行，90,000形態素のアノテーションと同程度であることを示す．また，同じ絵本の一部を学習データに追加する場合と，それ以外の場合について，学習曲線や誤り内容の変化を調査し，効果的なアノテーション方法を示す．考察では，絵本の対象年齢と解析精度の関係や，解析精度が向上しにくい語の分析を行い，更なる改良案を示す．また，絵本以外への適用可能性についても考察する．</jabstract>
  <jkeywords>ひらがな，対象年齢，分野適応，アノテーション</jkeywords>
  <section title="はじめに">これまで，主に新聞などのテキストを対象とした解析では，形態素解析器を始めとして高い解析精度が達成されている．しかし近年，解析対象はWebデータなど多様化が進んでおり，これらのテキストに対しては既存の解析モデルで，必ずしも高い解析精度を得られるわけではない．本稿では，そうしたテキストの一つである絵本を対象とした形態素解析の取り組みについて述べる．絵本は幼児の言語発達を支える重要なインプットの一つであり，高い精度で解析できれば，発達心理学における研究や教育支援，絵本のリコメンデーションなどへの貢献が期待できる．絵本の多くは子供向けに書かれており，わかりやすい文章になっていると考えられる．それにも関わらず，既存の形態素解析器とその配布モデルでは，必ずしもうまく解析できない．なお本稿では，モデルを，既存の形態素解析器に与えるパラメタ群という意味で用いる．表~に，既存の形態素解析器である，，，とその配布モデルで絵本の文を解析した場合の例を示す．解析器によって誤り方は異なるが，すべて正しく解析できた解析器はなく，既存のモデルでは絵本の解析が難しいことがわかる．これは，一般的な形態素解析モデルを構築するときに用いられる学習データ（ラベルありデータ）と，解析対象である絵本のテキストでは傾向が大きく異なるためだと考えられる．このように，学習データと解析対象の分野が異なる場合には，形態素解析に限らず機械学習を用いる多くのタスクで精度が低下するため，それに対応するための様々な手法が提案されてきた．は，この問題に対処するための機械学習の方針として，半教師あり学習，能動学習，転移学習の三つを挙げている．まず，半教師あり学習は，少数のラベルありデータを準備し，多数のラベルなしデータを活用して予測精度を向上させる手法であり，日本語では単語分割を行う手法が提案されている．能動学習は，より効率的な分類ができるように選んだ事例にラベルを付与する．日本語形態素解析では，確信度の低い解析結果に対して優先的に正解ラベルを付与していくことで，対象分野の解析精度を効率的に改善する方法が提案されている．転移学習は，関連しているが異なる部分もあるデータから，目的の問題にも利用できる情報・知識だけを取り込んで，より予測精度の高い規則を得ることを目標とする．転移学習は，元の分野と対象分野のラベルありデータの有無によって分類ができる．本稿では，対象分野のラベルありデータが無い場合を教師なし分野適応，ある場合を教師あり分野適応と呼ぶ．が提案した，Web上のひらがな交じり文に対する形態素解析精度向上の手法では，大量のWeb上の生コーパスを利用しているが，対象分野のラベルありデータは用いておらず，教師なし分野適応の一種と言える．いずれの先行研究も優れた利点がある．しかし，本稿で対象とする絵本のように，これまで対象とされてきたコーパスと全く異なり，かつ，大量のデータの入手が困難な場合，これらの先行研究をそのまま適用しても高い精度を得ることは難しい．まず，絵本の大量の生コーパスが存在するわけではないため，Webデータを対象とする場合のような，大量の生コーパスを用いた半教師あり学習は適さないと考えられる．能動学習はすぐれた分野適応の方法であるが，本稿のように，ベースとなる初期モデルの学習に利用できる学習データと対象分野との差異が非常に大きい場合，解析誤りが多すぎ，結局ほぼ全文の解析結果を修正しつつラベルを付与する必要に迫られることになる．の方法は，ひらがな交じり文を対象としており，絵本の解析にも比較的適していると考えられる．しかし，絵本の場合，ひらがな交じりというより，全文がひらがなで記述されることも多く，高い精度で解析できるとは言えない．そもそも，対象分野のラベルありデータを十分に得ることができれば，通常，教師あり学習により高い精度が得られる．しかし，対象分野のラベルありデータを作成するためにも，何らかの形態素解析器による解析結果を修正する方法が一般的であり，そもそもの形態素解析精度が低いとラベルありデータの作成に，コストと時間が非常にかかることになる．そこで本稿では，既存の辞書やラベルありデータを，対象分野の特徴にあわせて自動的に変換し，それを使って形態素解析モデルを構築する教師なし分野適応手法を提案する．提案手法では，既存の言語資源を活用することで，コストと時間をかけずに，対象分野の解析に適した形態素解析モデルを得ることが出来る．また，こうして得た初期モデルの精度が高ければ，さらに精度を高めるための能動学習や，ラベルありデータの構築にも有利である．本稿では，提案手法で構築したモデルをさらに改良するため，絵本自体へのアノテーションを行って学習に利用した教師あり分野適応についても紹介する．以降，まず章では，解析対象となる絵本データベースの紹介を行い，新聞などの一般向けテキストと絵本のテキストを比較し，違いを調査する．章では，本稿で形態素解析モデルの学習に利用する解析器やラベルありデータ，辞書，および，評価用データの紹介を行う．章では，絵本のテキストを漢字に変換した場合などの精度変化を調査することで，絵本の形態素解析の問題分析を行う．章では，章，章の調査結果に基づき，解析対象である絵本に合わせて，既存の言語資源であるラベルありデータと辞書を変換する方法を提案する．章では，これらを学習に用いる教師なし分野適応の評価実験を行い，提案手法による言語資源の変換の効果を示す．さらに，章では，絵本のラベルありデータを学習に利用する教師あり分野適応の評価実験を行う．また同時に，提案手法によって得られるラベルありデータが，どの程度の絵本自体のラベルありデータと同程度の効果になるかも評価する．章では，前章までに得たモデルをさらに改良するための問題分析と改良案の提示を行い，提案手法の絵本以外のコーパスへの適用可能性についても考察する．最後に章では，本稿をまとめ，今後の課題について述べる．</section>
  <section title="解析対象">本章では，まず，解析対象である絵本データベースの紹介を行う（節）．次に，新聞などの一般向けテキストと絵本のテキストを比較し，違いを調査する（節）．また，評価，実験用に形態素情報を付与した絵本のラベルありデータ（フルアノテーションデータ）を紹介する（節）．</section>
  <subsection title="絵本データベース">本稿では構築中の絵本データベースを解析対象とする．絵本データベースは，発達心理学における研究や，子供の興味や発達に応じた絵本リコメンデーションを目的として構築されている．含まれる絵本は，2010年度の紀伊国屋書店グループの売上冊数が上位のファーストブック（以下，）と絵本（以下，）計1,010冊，および，福音館書店の月刊誌（以下，）190冊，合計1,200冊である．これらの選定理由は，前者は多くの子供に読まれていると考えられること，後者は対象年齢が比較的はっきりしていることである．後者の対象年齢は0・1・2歳向け（以下，012），年少（3歳児）向け（以下，3），年中（4歳児）向け（以下，4），年長（5歳児）向け（以下，5）とわかれている．本稿では，これらをまとめて絵本と呼ぶこととする．なお，以外で対象年齢が記載されていた絵本は，463冊(45.8%)にとどまり，その記載方法も「3歳から小学校初級むき」「乳児から」「4才から」のように多様で，のように1歳単位で対象年齢が設定されている絵本は少ない．本稿では，絵本の本文のテキストを解析対象とする．本文のテキストは人手で入力されている．また文や文節の途中での改行など元のページのレイアウトも忠実に再現されている（例ex-org）．なお，絵本データベースの1,200冊のサイズは表~の通りである．もういつはるがきて、なつがきたのか、いつがあきで、いつがふゆなのか、わかりません。（バージニア・リー・バートン，石井桃子・訳「ちいさいおうち」p.~24（1954，岩波書店））exe</subsection>
  <subsection title="絵本と他のコーパスの比較">絵本のテキストの特徴を調べるため，絵本と一般的なコーパスにおける文字種の割合を比較する．表~に，絵本1,200冊（表）における文字種と，現代日本語書き言葉均衡コーパス（以下，），京都大学テキストコーパス（以下，京大コーパス），および，基本語データベース（以下，）の定義文，例文に出現する文字種の数と割合を示す．表から，他のコーパスに比べ，絵本の場合，ひらがなと空白が占める割合が圧倒的に高いことがわかる．また逆に，漢字が占める割合は非常に低い．表~には，参考として，一文に含まれる平均文字数，および，平均形態素数も記載した．但し，絵本の場合は，一行に含まれる平均文字数を記載しており，必ずしも文単位ではない．また，平均形態素数について，絵本は未知であり，は品詞体系が異なるため記載していない．</subsection>
  <subsection title="絵本のフルアノテーションデータ">精度評価のために，絵本の一部に正解の形態素区切り，IPA品詞，読み，できるだけ漢字表記にした原形を付与したフルアノテーションデータ（ラベルありデータ）を作成した．ただし，活用型と活用形は付与していない．付与自体が難しいことと，作業量が増えるためにコストと時間がかかること，これらの情報を今後利用する予定がないことが理由である．絵本に出現した文eva-orgに対するフルアノテーションデータをehon-fullに示す．ただしehon-fullでは，形態素区切りは[,]で示し，形態素は[出現形/品詞/読み/原形]の形で示し，漢字表記にした原形には下線を引いた（以降の例でも同様）．めには、いちごのあかいみをいれました。（舟崎靖子「もりのおかしやさん」p.~11（1979，偕成社））exeめ/名詞-一般/メ/目,に/助詞-格助詞-一般/ニ/に,は/助詞-係助詞/ハ/は,、/記号-読点/、/、,いちご/名詞-一般/イチゴ/苺,の/助詞-連体化/ノ/の,/記号-空白//,あかい/形容詞-自立/アカイ/赤い,/記号-空白//,み/名詞-一般/ミ/実,を/助詞-格助詞-一般/ヲ/を,/記号-空白//,いれ/動詞-自立/イレ/入れる,まし/助動詞/マシ/ます,た/助動詞/タ/た,。/記号-句点/。/。exeアノテーションは，言語学者や研究者ではない一般の作業者によって行ったが，特に活用語に対するアノテーションは難しく，既存のラベルありデータを参照しながら作業を行った．また，作業者による不一致や判断のゆれをなくすため，一定の作業の後には同じ出現形の形態素に異なる品詞や原形が振られたものを名詞-サ変接続にするか，副詞-一般にするか，といった判断のゆれが多かった．をリストアップし，統一的に確認，修正を行う作業を繰り返した．なお，実際の作業では，アノテーションしたデータを順次学習データに追加することで，解析精度自体を高めながら作業を進めた（章参照）．フルアノテーションを行う対象データは2通りの方法で選んだ．まず，対象年齢がはっきりしている190冊を対象とした．また，それ以外の,の中から，絵本をランダムに選び，さらにランダムに1ページずつ選んで対象とした（以下，）．サイズは表~の通りである．フルアノテーションデータは，章の教師なし分野適応実験の評価用データとして利用するほか，章の教師あり分野適応実験の学習，評価用データとして利用する．</subsection>
  <section title="形態素解析器">本稿では，既存の辞書やラベルありデータを，対象分野である絵本の特徴にあわせて自動的に変換する手法を提案する．学習器は学習データと独立に選ぶことができるが，本稿では，京都テキスト解析ツールキットの学習機能を利用する．では，点予測を採用しており，分類器の素性として，周囲の単語境界や品詞等の推定値を利用せずに，周囲の文字列の情報のみを利用する．そのため，柔軟に言語資源を利用することができ，分野適応が容易だという特徴がある．のモデル学習時には，フルアノテーションデータ，部分アノテーションデータ，辞書などの言語資源が利用できる．これらの言語資源は，それぞれ複数利用することができる．また，辞書と部分アノテーションデータはなくてもよい．ここで，フルアノテーションデータとは，文全体に形態素情報が付与されたデータである（節，例ehon-full）．また，部分アノテーションデータとは，文の一部にだけ単語境界や形態素情報が付与されたデータである．例えば，例ehon-partのように，文eva-orgの[め]と[み]にだけ形態素情報をアノテーションしたデータを，部分アノテーションデータとして利用することができる．誤りやすい語や分野特有の語にだけ集中的にアノテーションを付与して利用できるため，能動学習や分野適応に有効である．め/名詞-一般/メ/目,には、いちごのあかい,み/名詞-一般/ミ/実,をいれました。exeなお，の配布版モデルでは，単語分割とUniDicの品詞大分類，読みの付与を行っているが，他の種類の品詞や情報を推定するモデルの構築も可能である．本稿では，既存言語資源との整合性を考慮し，品詞はIPA品詞体系に準拠した．さらに，元の漢字表記の推定も同時に行う．つまり，単語分割，IPA品詞体系の品詞，読み，漢字表記による原形推定を出力とするモデルを構築する．本稿では，フルアノテーションデータとして，コーパスを用いる．には，の定義文，例文，京大コーパスの全文が含まれている．さらに教師あり分野適応の実験（章）では，絵本のフルアノテーションデータも利用する．辞書には，（以下，），，および，日本語語彙大系の固有名詞，および，動植物名配下の意味クラスが付与されている語を追加した．を利用する．但し，と日本語語彙大系は，本来IPA品詞体系ではないため，自動的に品詞を変換した．</section>
  <section title="絵本を対象とした形態素解析における問題分析">本章では，絵本を形態素解析するときに起こる精度低下の原因を調査する．節では，一般的なテキストと比べて，絵本のテキストでは，空白，ひらがなが圧倒的に多く，漢字が非常に少ないことを示した．これらの違いのうち，直感的には，ひらがなによる曖昧性の増加が精度低下の主要因であり，空白は解析の手がかりとなるように感じられる．しかしこれまで，この直感が正しいかどうか，また，実際にどの程度精度への影響があるのかを調査した研究はない．そこで本章では，ひらがなと空白の形態素解析への影響を調査する．</section>
  <subsection title="実験用解析対象文の作成">調査用の評価データとして，絵本ののフルアノテーションデータをいくつかのルールに沿って自動的に変換したデータを作成する．つまり，絵本に出現した文eva-org（節）から空白を削除したもの（文eva-del），空白を読点に変換したもの（文eva-punc），ひらがなをできるだけ漢字に変換したもの（文eva-han），漢字に変換し，かつ，空白を削除したもの（文eva-handel），漢字に変換し，かつ，空白を読点に変換したもの（文eva-hanpunc）を作成した．めには、いちごのあかいみをいれました。めには、いちごの、あかい、みを、いれました。目には、苺の赤い実を入れました。目には、苺の赤い実を入れました。目には、苺の、赤い、実を、入れました。exe</subsection>
  <subsection title="実験と結果">調査のため，コーパスとなどの辞書（章）をそのまま学習に利用したモデル（以下，（））を構築する．これは，一般的な形態素解析モデルと同じような学習条件に相当する．また，表~（章）で利用した既存の形態素解析モデルの中で最も誤りの少なかったも利用する．表~に，評価用データ（文eva-org，および，文eva-delから文eva-hanpunc）のそれぞれに対し，形態素解析を実行し，形態素区切りと品詞一致精度を調べた結果を示す．</subsection>
  <subsection title="分析">表~のeva-orgの列が，絵本のテキストをそのまま解析した場合の精度であり，（）では63.0%，では83.2%だった．はひらがなのままの評価データの場合でも，ひらがなを考慮しない一般的な学習条件で学習した（）よりも精度が高い．しかし，新聞である京大コーパスを対象とした場合98%以上の精度が報告されているのに比べると，はるかに低い精度である．ここで，空白の影響を分析する．（）では，空白を削除すると精度が向上する．また，空白を読点に変更すると精度はさらに向上する．これは，学習データに空白が出現しないため，学習できていないためだと考えられる．空白をただ削除するよりも，読点に変更した方が精度が高くなることから，空白の働きをうまく学習することができれば，区切りの判別の手がかりとして有効に働くだろうことが予想できる．実際，の場合，空白は区切りの判別のための手がかりとして有効に利用されているようであり，空白を削除するとむしろ精度は低下する．また，空白を読点に変更した場合と空白のままの場合の精度は同程度であり，空白が読点の代わりを果たしていることが伺える．特に，err-delのように，擬音語や擬態語が連なる場合，空白を削除すると，解析が非常に困難になっており，空白の有無が形態素の判別に有効な手がかりであることがわかる．「こちょこちょこちょこちょ（豊田一彦「こちょこちょももんちゃん」p.~24（2010，童心社））COR:「,こちょ,,こちょ,,こちょ,,こちょRES:「,こ,ちょこ,ちょこちょこ,ちょ（ただし，COR:は正解，RES:は空白を削除した場合の結果）exe次に，ひらがなが多いことによる影響を分析する．評価データ中のひらがなを漢字に変換した場合，（）でもでも，ひらがなのままの評価データより高い精度が得られる．空白を読点に変換した場合の精度（表~のeva-puncとeva-hanpunc）で比較すると，（）では+11.4%，では+8.2%精度が向上しており，漢字は大きな手がかりとなっていることがわかる．つまり，一般的なテキストとの大きな違いのうち，ひらがなによる曖昧性の増大が解析精度の低下の主な要因だといえる．なお，元データのままだと解析に失敗するが，漢字に変換すると正解する例には，err-orgなどがあった．みずをのみにきたうしさんに（たちもとみちこ「おほしさま」p.~10（2006，教育画劇））:みず,を,,のみ,に,き,た,,うし,さん,に,:みず,を,,のみ,に,きた,,うしさん,に2:水,を,,飲み,に,来,た,,牛,さん,に（ただし，COR:は正解，RES:は結果，RES2:は漢字に変換した場合の結果）exe</subsection>
  <section title="提案手法">本章では，絵本の特徴に合わせたラベルありデータと辞書の変換方法を提案する（，節）．また，ラベルありデータと辞書の変換と追加の必要性について議論する（節）．</section>
  <subsection title="ラベルありデータの変換方法">章で示したように，絵本の解析では，空白の働きを学習することと，ひらがなが多い文でも解析できることが必要である．そこで，既存のラベルありデータであるコーパスを3通りの方法で自動的に変換する．例えば，文lxdex-orgは，での見出し語[きしめん]に付与された例文である．この文に，まず，句読点の直後を除く文節毎に空白を挿入する（文lxdex-sp）．また，すべての漢字をひらがなの読みに変換する（文lxdex-hira）．句読点の直後を除く文節毎に空白を挿入し，かつ，ひらがなに変換する（文lxdex-hirasp）．このように，元の文に対して3通りの変換を行い，ラベルありデータデータを作成する．寄せ鍋,に,きしめん,を,入れる,。寄せ鍋,に,,きしめん,を,,入れる,。よせなべ,に,きしめん,を,いれる,。よせなべ,に,,きしめん,を,,いれる,。exeさらに，元の漢字表記の推定も同時に行うため，元の漢字表記による原形を利用する．つまり，文lxdex-hiraやlxdex-hiraspのようにひらがなに変換した場合でも，原形は漢字表記を利用する．そのため，例えばlxdex-hiraは，実際にはlxdex-hira-fullのような形で与えられる．よせなべ/名詞-一般/ヨセナベ/寄せ鍋,に/助詞-格助詞-一般/ニ/に,きしめん/名詞-一般/キシメン/きしめん,を/助詞-格助詞-一般/ヲ/を,いれる/動詞-自立/イレル/入れる,。/記号-句点/。/。exe章では，ラベルありデータの変換方法毎の効果を検証するため，これらの組み合わせを変えて利用した場合の精度評価を行う．なお，空白の挿入に利用した文節区切りや，ひらがなへの変換に利用した読みは，元々コーパスに付与されていたものであり，自動的に変換することができる．本稿ではコーパスを利用したが，京大コーパスでも文節情報や読みは付与されているため，同様の変換ができる．またにも読みは付与されている．文節情報は付与されていないが，形態素情報は付与されているため，助詞と自立語が連続する箇所に空白をいれるなどの簡単なルールによって，同様の自動的変換が可能である．</subsection>
  <subsection title="辞書の変換方法">章で紹介した通り，辞書には，，日本語語彙大系の固有名詞，および，動植物名を利用しており，これらを絵本の特徴にあわせて変換する．まず，との漢字やカタカナのエントリをひらがなに変換したエントリも作成し，辞書に追加する．固有名詞や動植物名は，カタカナで表記されることも多いため，カタカナ，ひらがなの両方に変換したエントリも作成し，辞書に追加する．このとき，原形には漢字やカタカナの表記を用いる．例えば，[伊予柑]の場合，元の見出し語から得られる辞書エントリはiyokan-orgとなるが，ひらがなのエントリiyokan-hiraとカタカナのエントリiyokan-kataも追加した．しかし，人名の固有名詞だけは，カタカナはカタカナのまま，ひらがなはひらがなのまま原形とした．これは，ひらがなで出てくる人名の漢字表記が何かは決められないためである．最終的に利用した辞書サイズは，表~の通りである．伊予柑/名詞-一般/イヨカン/伊予柑いよかん/名詞-一般/イヨカン/伊予柑イヨカン/名詞-一般/イヨカン/伊予柑exe</subsection>
  <subsection title="辞書と学習データの追加の必要性についての議論">は，Web上のひらがな交じり文に対する形態素解析手法の提案にあたり，次のように述べている．これらの理由によって，では，辞書への追加や学習データの追加は行われていない．の手法は，広い分野に対して安定的に比較的高い精度で解析を行える．しかし，特定の分野における実用を考えた場合，対象分野においてより高い精度を得ることが重要である．確かに，1.に関して，ひらがな語を多く追加することによる副作用の可能性は否定できないが，絵本の場合，いずれの語でもひらがなで記述される可能性があるため，すべてのエントリをひらがなにする必要がある．また，2.に関しては，提案手法では自動的に学習データを作成するので問題ない．本稿では，提案手法で変換・作成した辞書と学習データを学習に用いることで，絵本に対しては既存モデルより高い精度が得られることを示す（章）．ただし，本提案手法で得られる精度は，既存モデルよりは高いが，実用的にはまだ改良の必要がある．そのため，さらなる精度向上のためには，能動学習や対象分野のラベルありデータの構築が必要となるが，その際も，ベースとなるモデルの精度がより高い方がより効率的である．</subsection>
  <section title="評価実験(1): 教師なし分野適応">本章では，前章で提案した手法により変換した既存言語資源だけを学習に利用する評価実験，つまり，教師なし分野適応の実験を行う．前章で紹介した通り，ラベルありデータは3通りの変換により作成した．これらと，変換前のラベルありデータを組み合わせて学習に用いた場合の精度評価を行った（表~）．表~では，形態素区切り，および，品詞の細分類までが一致した精度を示している．表~は，絵本に出現した文に対する解析精度であり，表~の左端元データeva-orgの列に当たる．比較のため，表~にも結果を再掲した．既存言語資源をそのまま学習に利用した場合，精度は63.0%と非常に低いが，空白を追加したり，ひらがなに変換した学習データを利用することで，88.5%まで精度を向上できた．つまり，新聞データなどの一般向けのテキストを学習データに利用する場合でも，絵本での出現傾向にあわせて変換することで，相当な精度向上が出来た．ここで，空白を追加した学習データだけを利用する場合[B]より，空白を追加しない学習データも利用する[C]の方が精度が高かった．これは，すべての絵本で全文節ごとに空白が入るわけではないので，両方を学習に利用した方が良かったのだと考えられる．同様に，ひらがなに変換した学習データだけを利用するより，漢字のままの学習データも利用する方が若干精度が高かった．これは，すべての絵本で漢字が全く出現しないわけではないためだと考えられる．以降，最も高い精度を得られたラベルありデータ（表~[C]の``両方利用lxdex-org〜lxdex-hirasp''）を，得られたモデルを用いた解析器を()と呼び，これをベースに，さらに改良を加えることを検討したい．また，絵本によって，空白や漢字の含有率は非常に異なるため，これらの含有率によって学習に利用するデータを変更することも考えられる．</section>
  <section title="評価実験(2): 教師あり分野適応">章の実験では，ラベルありデータとして既存言語資源から得たコーパスだけを用いた．しかし分野適応では，同じ分野のラベルありデータを追加すると精度が向上することはよく知られており，本章では，絵本自体のラベルありデータを学習に用いた実験を行う．本章の目的は二つある．一つは，提案手法によって既存言語資源から自動的に獲得したラベルありデータが，どの程度の絵本自体のフルアノテーションデータと同程度の効果があるかを調べることである．もう一つは，絵本自体へアノテーションするときの効率的な方法を示すことである．</section>
  <subsection title="学習曲線">本節では，フルアノテーションデータ（節）の各絵本をそれぞれ10分割し，それらを徐々に学習データに追加した場合の学習曲線を調べる．ここで，章で最も良い精度を得た学習データであると絵本を両方学習に利用する場合と，絵本だけを学習に利用する場合の両方の実験を行った．また，評価は2通り行う．つまり，学習データを追加した絵本と，(1)同じ絵本のテキストによる評価（を利用），(2)違う絵本のテキストによる評価（を利用），を行う．本節での精度評価は，品詞まで一致した精度に加え，原形まで一致した精度評価も行っている．本稿で構築している形態素解析モデルでは，出現形がひらがなでも，原形は出来る限り漢字表記を推定している（節）．ひらがなで出現した語に対し，漢字表記を推定することができれば，その後の解析に有用だからである．例えば，[め]という語が[目]なのか[芽]なのか，[はな]という語が[鼻]なのか[花]なのか，などは，幼児の言語発達を調べるときにも区別する必要がある．これは，本来，語義曖昧性解消問題として取り組むべき課題かもしれないが，形態素解析時に同時に推定が可能なら利便性が高い．そこで，本節では，形態素解析時の漢字の原形推定をどの程度の精度で行うことができるかも同時に調査した．ここで，図~,は，の各絵本の1/10を評価データとし，それ以外を順次追加した場合の学習曲線を示している．また，図~,は，を評価データとした場合の精度を示しており，のすべてを学習データに追加した場合の精度も示している．また，図~,は，品詞一致の精度，図~,は，原形まで一致した精度を示している．ただし，学習データでは，コーパスの漢字等による原形をそのまま原形として利用したため，学習データの原形に表記ゆれが存在する．そこで，原形一致精度の評価時には，[仔牛]と[子牛]，[雄]と[オス]のように，表記ゆれだとみなせるものは正解に含めている．また，は漢字表記による原形推定はしないため，ひらがなの原形も正解とした．標準表記の決定，学習データの標準表記への変換は今後の課題としたい．</subsection>
  <subsection title="提案手法の効果：評価(2)">提案手法で作成したの効果を調べる．図~〜から，すべての場合で，に絵本データを追加した方が，絵本データだけの場合や，だけの場合より精度が向上しており，絵本とは全く異なる一般向けのテキストであっても，を学習に利用する方が良いことがわかる．特に，図~,に示した通り，別の絵本()に対する精度は，学習データに絵本だけを用いる場合より非常に高い．の場合，品詞一致でも，原形一致でも，絵本の学習データだけで()と同等の精度を得るには，のフルアノテーションデータ約11,000行，90,000形態素が必要である．これは，のフルアノテーションデータの8/10近くにあたる．これだけのフルアノテーション作業には相当な時間とコストがかかっており，提案手法による自動的な変換による精度向上の効果は高い．なお，に対する精度は，すべてのを学習データに追加した場合で，形態素区切り98.3%，品詞完全一致91.1%，品詞大分類94.7%，原形一致89.0%だった．これが，新しい絵本を解析する場合の精度にあたる．</subsection>
  <subsection title="アノテーション方針の提案">本節では，同じ絵本を学習データとして追加した場合の効果を調べる．図~,から，同じ絵本の学習データは非常に有効であることがわかる．を使わない場合でも，同じ絵本の10分の2を学習データとして用いただけで()の精度より高い精度を得ることができる．このように，同じ絵本のデータの追加のほうが効果が圧倒的に高いため，同じ分量のアノテーションを行うのであれば，少しずつでも，できるかぎり全ての絵本からアノテーションすることが望ましい．同じ絵本のアノテーションが特に有効な理由には，同じ固有名詞（,節参照）や，同じ表現が出現することがあげられるだろう．絵本は，例えば，例ex-repeatのように一部の語を変えて同じ表現が繰り返されることが多く，一部をアノテーションする効果が高い．なお，ex-repeatの絵本の場合，[なんてなく？]は11回出現している．かえるはなんてなく？にわとりはなんてなく？（凹工房「どうぶつなんてなく？」p.~2--3（2008，ポプラ社））exe</subsection>
  <subsection title="誤り内容の変化">本節では，絵本を学習データに追加した場合の，誤り内容の変化を調査する．解析を誤った語を品詞毎に集計し，動詞名詞-固有名詞感動詞について，それぞれ図~と，と，とに示した．図~〜では，誤りの絶対数と，全誤り数に占める対象品詞の割合をプロットしている．誤りの絶対数はどの品詞でも減少しているが，全誤りに占める各品詞の割合を見ると，比較的学習しにくい品詞がわかる．動詞（図~,）はでもでも相対的に上昇している．固有名詞（図~,）の場合，では急激に割合が下がるが，では逆に相対的に上昇している．固有名詞は，絵本間で共通のものが少なく，しかも，ひらがな（，[ぐら]^，[もものこ]など）や，ひらがなカタカナ混じり（[ウサこ]，[ネコみ]^など）など，非常に解析が難しいものが多いからだと思われる．対照的に，感動詞（図~,）は，でも誤る割合が下がっている．これは，異なる絵本でも共通の表現が多いためだと考えられる．例えば，側で，だけでは正解しなかったが，絵本を追加していくことで正解するようになった感動詞には，[あっぷっぷ]，[ごくろうさま]，などがあった．</subsection>
  <section title="考察">本章では，前章までに得たモデルをさらに改良するための問題分析と改良案の提示を行う．まず，節では，対象年齢と形態素解析精度の関係に着目し，精度低下のより詳細な原因調査を行う．節では，絵本のラベルありデータを追加しても精度が向上しにくかった固有名詞に焦点をあて，固有名詞の部分アノテーションによる精度向上の効果を検証する．さらに，節では，提案手法の絵本以外のコーパスへの適用可能性についても考察する．</section>
  <subsection title="対象年齢と形態素解析精度">節で述べたように，は対象年齢がはっきり設定されている．そこで本節では，を用いて，対象年齢と形態素解析精度の関係を分析する．()と，を使って元データを解析した場合の対象年齢と精度の関係を図~に示す．ただし，図~では，012を2歳児にプロットしている．図~から，()でもでも，対象年齢が低いほど形態素解析精度も低いことがわかる．どちらの解析器も，基本的に一般向けのコーパスを学習データとしてモデルが作成されており，対象年齢が上がるとより一般向けの文に近づいていることが図~からも読み取れる．表~（節）で示したように，絵本と京大コーパスなどに出現する文字種を比較すると，絵本はひらがなと空白が多く，漢字が少ない点が顕著に異なっていた．また，節では，特にひらがなが形態素解析精度の低下に非常に関わることを示した．そこで，対象年齢によってそれらの文字種の出現傾向が変わるかどうかを，のデータを使って調査した（表~）．表~によると，文字種の出現傾向に絵本全体の傾向と顕著な違いは見られず，対象年齢によって明らかな変化は見られなかった．つまり，ひらがなの多さだけが精度低下の原因ではないことがわかる．ただし，表~に参考として示した，行平均の文字数と形態素数は，対象年齢が上がるにつれ増加している．京大コーパスとの文平均の文字数や形態素数（表~）と比較すると，文平均か，行平均かの差はあるが，対象年齢が上がるにつれの数値に近づいており，辞書の例文や定義文に近い長さになってきていることがわかる．つまり，語の羅列ではなく，文になってきていると考えられる．そこで，文字種だけではわからない差分を調査するため，空白を除く全形態素に占める品詞毎の割合を調査した．その結果，対象年齢によってもっとも変化が大きかった品詞は，助詞記号副詞感動詞だった．図~に，これらの品詞の占める割合の対象年齢毎の変化と，での割合を示す．ここで，助詞の割合は対象年齢と共に単調増加しており，単語の羅列から助詞などを含む文となっていることがわかる．記号は，句読点や括弧などを含むため，句読点を使った文や会話文の量や長さに関係すると考えられる．記号は，012と3の間で大きく増加しているが，単調増加ではなく，5やでの割合はむしろ3や4より低い．これは文が長くなるため記号の占める割合が低くなるのだと考えられる．例えば，会話文の場合，記号である[「]と[」]の間に発話内容が記述されるが，発話内容が長くなれば，記号の占める割合は低くなる．一方，副詞の割合は対象年齢に応じて単調減少している．副詞には擬音語や擬態語が多く含まれ，対象年齢が低いほど，そうした語の含まれる割合が高いことがわかる．また，感動詞の割合は012と3の間で大きく減少している．感動詞には挨拶などが含まれ，より小さな子供向けの絵本では，挨拶などが多く出現するためだと思われる．なお，絵本毎に精度を調査すると，品詞一致精度で最も精度の高かった絵本と，最も精度の低かった絵本は，両方とも012に含まれた．これらは，一行一形態素程度の非常に短い文からなっており，[ぴょん][ぼちゃん][ぶらぶら]などの擬音語や擬態語の繰り返しがほとんどだった．文脈はほぼないため，学習データや辞書に該当する語が存在するかどうかに依存して精度が大きく変化したとみられる．そのため，より対象年齢の低い子供向け絵本の解析精度の向上は，擬音語や擬態語の辞書や学習データの拡充にかかっているといえるだろう．今後は，擬音語や擬態語の収集による精度向上にも取り組みたい．</subsection>
  <subsection title="固有名詞のアノテーション">節で述べたように，固有名詞は他の絵本を追加しても解析精度が向上しにくく，学習データなしでは解析が難しい語が多い．その上，固有名詞の誤りは数値以上に精度が悪い印象を与えかねない．しかし一方で，活用語や非自立語などに比べ，固有名詞のアノテーションや辞書への追加は非常に容易である．ここで，に出現した固有名詞でもっとも誤り回数が多かった（各4回）[ぐり]と[ぐら]に着目する．これらを辞書登録しただけでは解析精度は変わらなかったが，では，部分アノテーションしたデータを学習データに加えることができる（章）．そこで，[ぐり]とに対し部分アノテーションを行い，その効果を検証した．部分アノテーションは以下の流れで行った．まず，[1]対象語を含む文を字面一致で抽出し，次に，[2]人手で該当箇所に対象語以外の語が含まれないか確認し，最後に，[3]自動的に部分アノテーションを実行した．ここで，[ぐり]と[ぐら]の場合，[2]の確認作業で，[どんぐり]，[うすぐらい]，い]が混じっていることがわかった．[3]では，最長一致によってこれらの語のアノテーションも自動的に行った．例えば，文guriguraの場合，下線部をそれぞれ，[ぐり/名詞-固有名詞-人名-一般/グリ/ぐり]，[ぐらい/助詞-副助詞/グライ/ぐらい]として部分アノテーションした．ぐりがけいとをまくと、えんどうまめぐらいになりました。（なかがわりえことやまわきゆりこ「ぐりとぐらのえんそく」p.~15（1979,福音館書店））exeこれにより部分アノテーションされたのは，[ぐら]135箇所，[ぐり]131箇所，[どんぐり]1箇所，[うすぐらい]2箇所，[ぐらい]6箇所だった．これらの部分アノテーションデータを学習データに追加したところ，原形一致の精度が+0.2%改良された．品詞一致までの精度は，小数点第一位までの比較では同じだったが，[ぐり]と[ぐら]に関する誤りはなくなった．固有名詞は学習しにくく，かつ，同じ絵本では何度も出現するため，固有名詞のみを先にアノテートすることは有効だと考えられる．固有名詞を含めた固有表現や未知語の抽出方法に関する研究は多く，特に格フレーム情報を利用する方法は，絵本でも有効だと考えられる．今後は，絵本やシリーズ毎の固有名詞の抽出や，該当固有名詞を含む他の語の確認・抽出を自動・半自動化することにより，精度向上を目指したい．また，は，SVM平面からの距離を用いて確信度の低いデータを選び，部分アノテーションして学習データに追加する能動学習を提案している．固有名詞のように，一気にアノテートできる部分を学習に追加した後は，と同様に能動学習を行うことが考えられる．</subsection>
  <subsection title="他分野への適用可能性">本節では，提案手法の絵本以外への適用可能性について考察する．提案手法は，既存の言語資源と解析対象の言語資源の特徴が大きく異なる場合に有用である．例えば，小学生は学年毎に習う配当漢字が決められている．そのため教科書では，習っていない漢字をひらがなで記載するため，漢字とひらがなが一般向け文章とは全く異なる交じり方をする場合があり，形態素解析を難しくしている．例えば，の場合，[音]は1年生，は2年生の配当漢字であるため，と記載される場合がある．そこで，教科書等の学童用の文章の解析用には，学年配当漢字に基づいて利用できる漢字を制限し，それ以外はひらがなに変換して学習データを作成することが考えられる．あるいは，Webなどに出現するくだけた文章の解析用として，文末表現の変換，利用語彙の制限などにより，学習データを変換することも考えられる．このように，学習データを対象分野に合わせて自動的に変換するルールを決定できる場合には，本提案手法が適用できると考えられる．</subsection>
  <section title="まとめと今後の課題">これまで，主に新聞などのテキストを対象とした解析では，形態素解析器を始めとして高い解析精度が達成されている．しかし分野の異なるテキストに対しては，既存の解析モデルで，必ずしも高い解析精度を得られるわけではない．そこで本稿では，既存の言語資源を対象分野の特徴にあわせて自動的に変換する手法を提案した．本稿では，絵本を解析対象とし，既存の言語資源を絵本の特徴にあわせて自動的に変換し，学習に用いることで精度向上できることを示した．まず，章では，解析対象である絵本データベースの紹介を行った．また，新聞などのテキストと絵本のテキストの文字種毎の割合を比較し，絵本では，漢字が少なく，空白とひらがなが多いことを示した．章では，実験で利用する形態素解析器の学習機能について紹介した．また，章では，絵本の形態素解析における問題分析のため，絵本の評価用データに対し，ひらがなを漢字に変換したり，空白を削除するなどの処理を行った場合の解析精度の変化を調査し，ひらがなが多いことが解析精度低下の主な原因であることを示した．章では，章と章の分析結果に基づき，既存の言語資源を絵本の特徴にあわせて変換する手法を提案した．章では，提案手法によって得た言語資源だけを学習に用いた教師なし分野適応の実験を行い，既存の一般的な形態素解析モデルより高い精度（品詞一致精度で88.5%）が得られることを示した．また章では，絵本自体のラベルありデータを学習に用いた教師あり分野適応の実験を行い，学習曲線を調べた．ここで，提案手法によって得た既存言語資源によるラベルありデータは，絵本自体のラベルありデータ約11,000行，90,000形態素と同程度の効果があることを示した．さらに，絵本自体にアノテーションを行う場合，できるかぎり全ての絵本から，アノテーション対象を選択することが効率的であることを示した．また，新しい絵本に対する解析精度は，形態素区切り98.3%，品詞完全一致で91.1%，品詞大分類で94.7%，漢字の原形一致で89.0%が見込めることを示した．章の考察では，絵本の対象年齢毎の形態素解析精度の変化を調査し，対象年齢が低いほど解析精度も低く，その原因としては，文字種より，助詞などを含む文としての形態を取るかどうかに関連することを示した（節）．また，他の絵本を学習データに追加しても，固有名詞の推定精度の向上は難しいが，固有名詞のアノテーションは，活用語などに比べて容易であることから，固有名詞に対して半自動的に部分アノテーションを行うことで，固有名詞の解析精度が向上できることを示した（節）．今後は，標準表記を決定し，学習データの標準表記への変換と，漢字による原形推定精度の向上に取り組みたい．また，絵本やシリーズ単位での，固有名詞（人や動物の名前）の自動的発見，および，固有名詞の（半）自動的な部分アノテーションに取り組みたい．また，本稿で紹介した絵本用形態素解析モデルを利用し，子供向けの文を対象とした難易度測定や絵本の対象年齢の推定，子供の発達や興味に応じた絵本リコメンデーションを行う予定である．</section>
</root>
