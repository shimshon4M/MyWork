<?xml version="1.0" ?>
<root>
  <jtitle>長単位解析器の異なる品詞体系への適用</jtitle>
  <jauthor>小澤俊介内元清貴伝康晴</jauthor>
  <jabstract>言語研究において，新しい品詞体系を用いる場合には，既存の辞書やコーパス，解析器では対応できないことが多いため，これらを再構築する必要がある．これらのうち，辞書とコーパスは再利用できることが少なく，新たに構築する場合が多い．一方，解析器は既存のものを改良することで対応できることが多いものの，どのような改良が必要かは明らかになっていない．本論文では，品詞体系の異なるコーパスの解析に必要となる解析器の改良点を明らかにするためのケーススタディとして，品詞体系の異なる日本語話し言葉コーパス（以下，CSJ）と現代日本語書き言葉均衡コーパス（以下，BCCWJ）を利用して，長単位情報を自動付与した場合に生じる誤りを軽減する方策について述べる．具体的には，CSJを基に構築した長単位解析器をBCCWJへ適用するため，CSJとBCCWJの形態論情報における相違点に応じて，長単位解析器の学習に用いる素性やラベルを改善した．評価実験により提案手法の有効性を示す．</jabstract>
  <jkeywords>長単位解析，異なる品詞体系，話し言葉コーパス，書き言葉コーパス</jkeywords>
  <subsubsection title="">*汎化素性の利用CSJの品詞体系とは異なり，BCCWJの品詞体系では，品詞，活用型，活用形が階層的に定義されている．しかし，階層化された素性をそのまま利用した場合，各階層の情報が考慮されなくなってしまう．そこで，階層化された素性に対して上位階層で汎化した素性をチャンキングモデルの素性として追加する．例えば「名詞-普通名詞-一般」に対しては，「名詞」「名詞-普通名詞」を素性として追加する．</subsubsection>
  <section title="はじめに">近年，言語研究において，言語現象を統計的に捉えるため，コーパスを用いた研究が盛んに行われている．コーパスを用いた研究は，語法，文法，文体に関する研究，語彙に関する研究，時代ごとの言語変化を調査する通時的な研究，外国語教育へ適用する研究など多岐にわたる．コーパスを用いる研究では，新しい言語現象を調査するには新しいコーパスの構築が必要となる．大規模なコーパスを構築する場合，人手でのアノテーションには限界があるため，自動でアノテーションをする必要がある．既存の言語単位や品詞体系を利用できる場合は，既存のコーパスや解析器を利用することにより，他分野のコーパスに対するアノテーション作業を軽減できる．また，対象分野のアノテーション済みコーパスがある程度必要なものの，分野適応により，解析器の統計モデルを対象分野に適合するように調整することで，他分野のコーパスに対しても既存のコーパスに対するものと同程度の性能でアノテーションが可能となる．しかし，研究目的によっては適切な言語単位や品詞体系が異なるため，既存の言語単位や品詞体系が利用できないこともある．例えば，国立国語研究所の語彙調査では，雑誌の語彙調査には単位，教科書の語彙調査にはM単位というように，どちらも形態素相当の単位ではあるが，調査目的に応じて設計し用いている．これらの単位の概略はに基づいている．また，言語現象に応じて異なる場合もあり，日本語話し言葉コーパス（以下，CSJ）と現代日本語書き言葉均衡コーパス（以下，BCCWJ）では異なる言語単位や品詞体系が定義されている．新しい言語単位や品詞体系を用いる場合，分野適応の利用は難しく，辞書やコーパス，解析器を再構築する必要がある．これらのうち，辞書とコーパスは再利用できることが少なく，新たに構築する必要がある．解析器に関しては，既存のものを改良することで対応できることが多いものの，どのような改良が必要かは明らかではない．本論文では，言語単位や品詞体系の異なるコーパスの解析に必要となる解析器の改良点を明らかにするためのケーススタディとして，品詞体系の異なるCSJとBCCWJを利用して長単位解析器を改良する．CSJとBCCWJには，いずれも短単位と長単位という2種類の言語単位がアノテーションされている．本論文ではこのうち長単位解析特有の誤りに着目して改善点を明らかにする．そのため，短単位情報は適切にアノテーションされているものと仮定し，その上で長単位情報を自動でアノテーションした場合に生じる誤りを軽減する方策について述べる．評価実験により提案手法の有効性を示し，提案手法の異なる品詞体系への適用可能性について考察する．本論文の構成は以下の通りである．まず，章で長単位解析器を改良するために重要となるCSJとBCCWJの形態論情報における相違点について述べ，章ではCSJに基づいた長単位解析手法を説明し，CSJとBCCWJの形態論情報における相違点に基づいた長単位解析手法の改良点について述べる．章では，長単位解析手法の改良点の妥当性を検証し，改良した長単位解析手法を評価する．章では，章で述べた長単位解析手法を実装した長単位解析システムComainuについて述べ，章で本論文をまとめる．</section>
  <section title="CSJとBCCWJの形態論情報における相違点">一般に，解析器を学習したコーパスとは異なるコーパスに適用する場合，各コーパスには同じ粒度のアノテーションが施してある必要がある．アノテーションの粒度が異なる場合には精度よく解析できないため，解析器を改良し，学習しなおす必要がある．解析器の改良にはコーパス間の相違点を把握することが重要となる．本章では，CSJを基に構築した長単位解析器をBCCWJへ適用する上で必要な改良点を把握するため，言語単位，品詞体系，言語現象，付加情報に着目して，CSJとBCCWJを比較し，形態論情報における相違点について述べる．</section>
  <subsection title="言語単位">CSJとBCCWJではともに，短単位と長単位という2種類の言語単位が用いられている．短単位は，原則として，現代語で意味を持つ最小の単位2つが1回結合したものであり，その定義は一般的な辞書の見出しに近いものである．長単位は，概ね，文節を自立語と付属語に分けたものであり，1短単位からなるか，あるいは，複数の短単位を複合したものからなる．短単位と長単位の例を表に挙げる．表は「日本型国際貢献が求められています」という文における文節，長単位，短単位の関係を表している．例えば，「日本型国際貢献」という長単位は「日本」，「型」，「国際」，「貢献」の4短単位から構成される．CSJとBCCWJではいずれも，短単位と長単位という同じ言語単位を利用しているが，BCCWJの短単位・長単位の認定規定は，CSJの規定に修正を加えたものを利用しているため，CSJとBCCWJの短単位・長単位は完全には一致しない．</subsection>
  <subsection title="品詞体系">CSJとBCCWJでは大きく異なる品詞体系が利用されている．以下にCSJとBCCWJ，それぞれの品詞体系を示す．CSJでは学校文法に基づく品詞体系が採用されており，15種類の品詞，59種類の活用型，8種類の活用形で構成されている．CSJの品詞体系は以下の通りである．活用型の○にはア，カ，サ，タなどが入る．品詞（15種類）名詞，代名詞，形状詞，連体詞，副詞，接続詞，感動詞，動詞，形容詞，助動詞，助詞，接頭辞，接尾辞，記号，言いよどみ活用型（59種類）○行五段，○行上一段，○行下一段，カ行変格，サ行変格，ザ行変格，文語○行四段，文語○行上二段，文語○行下二段，文語カ行変格，文語サ行変格，文語ナ行変格，文語ラ行変格，形容詞型，文語形容詞型1，文語形容詞型2，文語形容詞型3，文語活用形（8種類）未然形，連用形，終止形，連体形，仮定形，已然形，命令形，語幹BCCWJは形態素解析用辞書UniDicに準拠した品詞体系を利用しており，品詞は「名詞-固有名詞-地名-一般」のように階層的に定義されている．各階層は大分類，中分類，小分類，細分類と呼ばれる．「名詞-固有名詞-地名-一般」の場合，「名詞」が大分類，「固有名詞」が中分類，「地名」が小分類，「一般」が細分類である．品詞は4階層で定義され，大分類で15種類，細分類まで展開すると54種類ある．活用型は3階層で定義され，大分類で20種類，小分類まで展開すると115種類ある．活用形は2階層で定義され，大分類で10種類，中分類では36種類ある．BCCWJの品詞体系のうち，大分類の体系は以下の通りである．品詞（15種類）名詞，代名詞，形状詞，連体詞，副詞，接続詞，感動詞，動詞，形容詞，助動詞，助詞，接頭辞，接尾辞，記号，補助記号活用型（20種類）五段，上一段，下一段，カ行変格，サ行変格，文語四段，文語上一段，文語上二段，文語下一段，文語下二段，文語カ行変格，文語サ行変格，文語ナ行変格，文語ラ行変格形容詞，文語形容詞，助動詞，文語助動詞，無変化型活用形（10種類）語幹，未然形，意志推量形，連用形，終止形，連体形，仮定形，已然形，命令形，ク語法CSJが階層のない単純な品詞体系を利用しているのに比べ，BCCWJでは詳細な品詞体系が利用されている．CSJの名詞とBCCWJの名詞を比較した例を表に示す．BCCWJでは名詞は15種類に分類されている．また，CSJでは短単位と長単位の品詞体系が一致しているのに対し，BCCWJでは短単位と長単位の品詞体系は一部異なっている．これはBCCWJの短単位では「名詞-普通名詞-サ変可能」や「名詞-普通名詞-形状詞可能」などの曖昧性を持たせた品詞が設けられているのに対し，長単位ではこれらを設けていないためである．</subsection>
  <subsection title="言語現象">CSJは話し言葉コーパスであるのに対し，BCCWJは書き言葉コーパスであるため，言語現象として，話し言葉と書き言葉という大きな違いがある．例えば，話し言葉の場合，フィラーや言いよどみなどが生じる．一方，書き言葉の場合，著者によって使われる表記が異なるため，表記のバリエーションが多い．話し言葉のコーパスであるCSJと書き言葉のコーパスであるBCCWJを比べると，前者では人手で書き起こす際に表記揺れが吸収され表記は統一されており，後者では著者の著したテキストがそのまま使われているため表記は不統一である．次の節でこれらに関連してコーパスに付加された情報の違いを整理する．</subsection>
  <subsection title="付加情報">CSJとBCCWJでは短単位に付与されている情報に多少違いがある．以下に，CSJのみ，及び，BCCWJのみにしか付与されていない情報について述べる．CSJには話し言葉特有の情報など，以下の情報が付与されている．フィラー：フィラーに対してタグ（F）が付与されている言いよどみ：言いよどみに対してタグ（D）が付与されているアルファベット：アルファベット，算用数字，記号の短単位に対してタグ（A）が付与されている．外国語：外国語や古語，方言などに対してタグ（O）が付与されている．名前：話者の名前や差別語，誹謗中傷などに対してタグ（R）が付与されている．音や言葉のメタ情報：音や言葉に関するメタ的な引用に対してタグ（M）が付与されている．一方，BCCWJではCSJには付与されていない以下の情報が付与されている．語種情報：語種とは，語をその出自によって分類したものである．BCCWJでは，短単位に以下の語種のいずれかが付与されている．囲み情報：BCCWJでは，丸付き数字（1，2）や丸秘などの丸で囲まれている文字は内部の文字のみが短単位となっており，囲みの情報は別で付与されている．例えば，「1林木の新品種の開発」は書字形では「１林木の新品種の開発」となっており，囲みの情報は別で付与されている．</subsection>
  <section title="長単位解析手法">本章では，まず，CSJに基づいて構築された長単位解析手法（従来手法）について述べ，次に，提案手法について述べる．従来手法をBCCWJに適用するためには改良が必要であり，提案手法では，CSJとBCCWJの形態論情報における相違点に着目した改良を行った．長単位解析とは長単位境界，及び，長単位の語彙素，語彙素読み，品詞，活用型，活用形を同定するタスクである．短単位解析では，辞書を用いることで，高精度に解析が行われてきた．長単位解析でも長単位辞書を構築することによって高精度に解析できることが考えられるが，短単位の組み合わせからなる長単位の語彙は膨大であり，辞書の構築には膨大な労力が必要となるため，効率的でない．そのため，短単位情報を組み上げることにより長単位解析を行う．</section>
  <subsection title="CSJに基づく長単位解析手法（従来手法）">Uchimotoらは長単位を認定する問題を，入力された短単位列に対する系列セグメンテーション問題として捉え，チャンキングモデルと後処理に基づいた長単位解析手法を構築した．図に長単位解析の流れを示す．短単位列を入力とし，チャンキングにより長単位境界を認定する．このとき，一部の長単位に対しては品詞情報も付与する．次に，後処理によって長単位の品詞，活用型，活用形，語彙素，語彙素読みを付与する．</subsection>
  <subsubsection title="チャンキングモデル">チャンキングモデルによって，長単位境界を認定し，一部の長単位に対しては品詞情報も付与するために，Uchimotoらは下記の4つのラベルを定義している．長単位を構成する短単位のうち先頭の要素で，かつ，その品詞，活用型，活用形が長単位のものと一致する．長単位を構成する短単位のうち先頭以外の要素で，かつ，その品詞，活用型，活用形が長単位のものと一致する．長単位を構成する短単位のうち先頭の要素で，かつ，その品詞，活用型，活用形のいずれかが長単位のものと一致しない．長単位を構成する短単位のうち先頭以外の要素で，かつ，その品詞，活用型，活用形のいずれかが長単位のものと一致しない．これは，長単位を構成する先頭の要素に付与されるラベルは「Ba」か「B」であり，長単位を構成する先頭以外の要素に付与されるラベルは「Ia」か「I」であることを意味する．また，「Ba」「Ia」が付与された要素は長単位と同じ品詞，活用型，活用形を持つことを意味する．したがって，このラベルを利用することにより，長単位境界だけでなく，多くの場合，品詞，活用型，活用形の情報も得られる．図に「日本型国際貢献が求められています」に対して，ラベルを付与した例を示す．これらのラベルを正しく推定できれば，「Ba」あるいは「Ia」が付与された短単位から品詞，活用型，活用形が得られる．図は，「ている」以外の長単位については品詞，活用型，活用形も得られることを表わしている．一方，「ている」については品詞がこれらを構成する短単位「て」「いる」のどちらとも異なるため，各短単位には「B」あるいは「I」のラベルしか付与されない．この場合は，ラベルを正しく推定できたとしても品詞などは得られず，単位境界の情報のみが得られることになるため，次節に述べる後処理により品詞，活用型，活用形を推定する．チャンキングモデルの素性としては，着目する短単位とその前後2短単位，あわせて5短単位について，以下の情報を利用する．短単位情報書字形，語彙素読み，語彙素，品詞，活用型，活用形付加情報節で述べたCSJにのみ付与されている情報（フィラー，言いよどみ，アルファベット，外国語，名前，音や言葉のメタ情報を示すタグ）がそれぞれ着目している短単位の直前に付与されているか否かを素性として利用する．</subsubsection>
  <subsubsection title="書き換え規則による後処理">節で記したチャンキングモデルにより，ラベルを正しく推定することができれば，図の「日本型国際貢献」や「求める」などは「Ba」または「Ia」が付与された短単位から品詞，活用型，活用形が得られる．一方，「ている」については，品詞が長単位を構成する短単位「て」及び「いる」とは異なるため，各短単位には「B」あるいは「I」のラベルしか付与されない．この場合は，ラベルを正しく推定できたとしても品詞は得られず，単位境界の情報のみが得られることになる．これらの長単位に対しては書き換え規則によって品詞，活用型，活用形を付与する．単位境界のみが分かっている長単位ごと，つまり，「B」あるいは「I」が付与された短単位のみから構成される長単位ごとに書き換え規則を獲得，適用することによって品詞，活用型，活用形の情報を得る．書き換え規則は対象の長単位とその前後の短単位を抽出することによって自動獲得する．書き換え規則は対象の長単位を構成する短単位，及び，その前後の短単位からなる前件部と，対象の長単位からなる後件部で構成される．例えば，図の「ている」については図のような規則が獲得される．前件部で同じ規則が複数得られた場合，最も頻度の高いもののみ書き換え規則として獲得する．図の規則は，「て」「いる」という短単位にそれぞれ「B」，「I」というラベルが付与され，前方（文頭側）の短単位が「られ」，後方（文末側）の短単位が「ます」であるとき，「ている」という助動詞に書き換えられることを意味している．どの書き換え規則も適用されない場合は，以下の手順で規則を汎化して再適用する．後方文脈を削除前方文脈と後方文脈を削除前方文脈，後方文脈，書字形，語彙素読み，語彙素を削除前方文脈とは対象の長単位より前方（文頭側）の短単位（図の「られ」），後方文脈とは対象の長単位より後方（文末側）の短単位（図の「ます」）を表す．この手順で再適用し，結果的にどの規則も適用されなかった場合は，短単位の先頭の品詞，活用型，活用形を適用する．</subsubsection>
  <subsection title="コーパスの形態論情報における相違点に基づいた長単位解析手法の改善（提案手法）">本節では，節で示した長単位解析手法（従来手法）からの改良点について述べる．</subsection>
  <subsubsection title="品詞体系の差異に応じた改善">CSJとBCCWJの品詞体系は節で示したように，大きく異なっている．この問題に対し，以下の点を改善した．</subsubsection>
  <subsubsection title="付加情報の差異に応じた改善">節で示したBCCWJにのみ付与されている以下の情報をチャンキングモデルの素性として利用する．語種情報短単位の語種が和語，漢語，外来語，混種語，固有名，記号のいずれであるかを素性として利用する．囲み情報では丸付き数字で長単位境界が区切れるため，囲み情報は長単位境界を判定するための大きな手がかりとなる．そのため，短単位に囲み情報が付与されているか否かを素性として利用する．</subsubsection>
  <subsubsection title="ラベル定義の変更">本節では，コーパスの相違点に限らず，既存の手法にも適用できる改良について述べる．節で示した4つのラベルを以下のように再定義した．変更点を下線で示す．単独で長単位を構成する短単位で，かつ，その品詞，活用型，活用形が長単位のものと一致する．複数短単位で構成される長単位の末尾の短単位で，かつ，その品詞，活用型，活用形が長単位のものと一致する．複数短単位で構成される長単位の先頭の短単位．もしくは，単独で長単位を構成する短単位で，かつ，その品詞，活用型，活用形のいずれかが長単位のものと一致しない．複数短単位で構成される長単位の先頭でも末尾でもない短単位．もしくは，複数短単位で構成される長単位の末尾の短単位で，かつ，その品詞，活用型，活用形のいずれかが長単位のものと一致しない．単独の短単位から構成される長単位に対しては，短単位の品詞，活用型，活用形が長単位のものと一致する場合には「Ba」，一致しない場合には「B」が付与される．一方，複数短単位から構成される長単位に対しては，先頭の短単位には「B」，先頭でも末尾でもない短単位には「I」，末尾の短単位にはその品詞，活用型，活用形が長単位のものと一致する場合には「Ia」，一致しない場合には「I」が付与される．この定義を利用すると，図の例では，「Ba」が付与されている「日本」には「B」，「Ia」が付与されている「国際」には「I」のラベルが付与されることになる．本改良は，長単位の品詞，活用型，活用形は，長単位を構成する短単位のうち，末尾の短単位の品詞，活用型，活用形と一致することが多く，それ以外の位置にある短単位と一致する場合は偶然であることが多いという観察に基づく．「Ba」，「Ia」のラベルが付与される短単位を長単位を構成する末尾の短単位のみに限定することにより，チャンキングモデルの精度が向上し，全体の性能が向上することが期待できる．</subsubsection>
  <section title="評価実験">本章では，節で示した改善策の有効性を確認するため，節で示した従来手法と各改善策を行った手法の長単位解析精度を比較する．まず，節では予備実験として，CSJを用いた実験を行い，従来手法の長単位解析の性能を確認する．また，BCCWJに適用するために行った改善策がCSJに対しても有効であること示す．次に，節でBCCWJを用いた実験を行う．従来手法と節で示した提案手法とを比較し，提案手法の有効性を示す．</section>
  <subsection title="設定">章に述べた手法のチャンキングモデルの学習と適用には，CRF++を用いた．CRF++はCRFに基づく汎用チャンカーであり，パラメータはCRF++のデフォルトのパラメータを用いた．また，改良した後処理に用いる品詞，活用型，活用形推定モデルの学習にはYamChataku/software/yamcha/を用いた．YamChaはSVMに基づく汎用チャンカーであり，カーネルは多項式カーネル（べき指数3）を採用し，多クラスへの拡張はone-versus-rest法を用いた．実験で用いるデータを表に示す．CSJ，BCCWJともに，コアデータを学習データとテストデータに分け，学習データはモデルの学習に，テストデータはモデルの評価に用いている．CSJのデータはUchimotoらの実験設定に合わせて，フィラー，言いよどみを削除して用いた．チャンキングモデルで用いるフィラーと言いよどみの情報としては，短単位の直前がフィラーか否か，もしくは，言いよどみか否かの情報を素性として利用している．また，BCCWJのデータはCSJの結果と比較しやすいように，CSJとデータ規模を同程度にした．なお，本実験では短単位情報は予め適切な情報が付与されていることを前提とする．本実験では，正解データの境界（品詞）のうち正しく推定できたものの割合（再現率）と自動推定した境界（品詞）のうち正しく推定できたものの割合（精度），下記に示す再現率と精度の調和平均であるF値を評価指標として用いる．[F値=2精度再現率精度+再現率]</subsection>
  <subsection title="予備実験">予備実験として，CSJに対する実験を行った．実験には表に示したCSJの学習データとテストデータを用いた．節で記したCSJを基に構築した長単位解析手法（従来手法）をベースラインとして，CSJの学習データを用いて学習し，テストデータに適用した．また，節で記した改善のうち，CSJに対しても適用できる以下のモデルを適用した．ベースライン+ラベル変更ベースラインに対して，節で示したラベル定義の変更をしたモデルベースライン+推定モデルベースラインの後処理を書き換え規則から品詞，活用型，活用形推定モデルに変更したモデルベースライン+ラベル変更+推定モデルベースラインに対して，ラベル定義，及び，後処理を変更したモデル結果を表に示す．CSJに対してベースラインを適用した場合，境界推定で98.99%，品詞推定で98.93%と高い性能が得られていることがわかる．ラベル定義を変更したモデルはベースラインに対し，性能が向上しており，ラベル定義の変更が有効に働くことを示している．後処理に推定モデルを用いたモデルでは品詞推定の精度が向上した．性能差はF値で0.4%と小さいため，CSJへ適用する場合には，書き換え規則でも十分に適用できているといえる．また，ベースラインに対してラベル定義と後処理を変更した場合が最も性能がよく，CSJに対しても有効な改良であることがわかった．次に，CSJで学習したベースラインのモデルをBCCWJのテストデータに適用したところ，境界推定で74.72%，品詞推定で65.58%と大きく精度が落ちる結果となった．これは，当然ではあるが，章で記したように，CSJとBCCWJでは言語単位や品詞体系が異なるためであり，BCCWJを高精度で解析するには解析器の再構築が必要であることを示唆している．</subsection>
  <subsection title="実験">表に示したBCCWJのデータを用いて実験した．まず，BCCWJの学習データを用いて構築したベースラインをBCCWJのテストデータに適用した．その結果を表の3行目に示す．境界推定において98.74%，品詞推定において97.68%の性能となった．CSJを用いて学習，テストした表の3行目の結果（ベースライン）と比較すると，境界推定では0.25%，品詞推定では1.25%，性能が低下した．次に，各改善点の有効性を確認するため，以下のモデルを用いて実験した．ベースライン+汎化素性ベースラインのチャンキングモデルの素性に節で示した汎化素性を追加したモデルベースライン+推定モデルベースラインの後処理を書き換え規則から節で示した品詞，活用型，活用形推定モデルに変更したモデルベースライン+語種情報ベースラインのチャンキングモデルの素性に節で示した語種情報を追加したモデルベースライン+囲み情報ベースラインのチャンキングモデルの素性に節で示した囲み情報を追加したモデルベースライン+ラベル変更ベースラインに対して，節で示したラベル定義の変更をしたモデル結果を表の4行目から8行目に示す．ベースラインに対して，いずれの改良を加えた場合でもF値が向上した．境界推定に関しては，汎化素性が性能向上に大きく貢献した．品詞推定に関しては，後処理を書き換え規則から品詞，活用型，活用形推定モデルにした手法で大きく性能が向上した．提案手法としてCSJとBCCWJの形態論情報における相違点に対する改良をすべて行ったモデルを適用した．結果を表の9行目に示す．境界推定では98.93%，品詞推定では98.66%の性能が得られ，ベースラインに対して，境界推定で約0.2%，品詞推定で約1%向上した．CSJを用いて学習，テストした表の6行目の結果（ベースライン+ラベル変更+後処理）と比較すると，境界推定では0.13%，品詞推定では0.39%低いが，この性能低下は主としてCSJに比べBCCWJの方が品詞体系が詳細であるため，長単位解析自体の問題が難しくなっていることに起因すると考えられる．また，ベースラインに対して，品詞体系の相違点に対する対処（汎化素性，後処理）を適用したモデル（ベースライン+品詞体系対応）を用いた実験を行った．結果を表の10行目に示す．表の9行目の改良手法と同程度の性能が得られており，主な性能改善は品詞体系の差異に対応することで得られていることがわかる．</subsection>
  <subsection title="考察"/>
  <subsubsection title="誤り傾向の分析">CSJに対してベースラインを用いた実験（表），BCCWJに対してベースライン，及び，提案手法を用いた実験（表）について，誤り傾向を分析した．まず，境界推定誤りの傾向を，それぞれの実験について調査したところ，共通する2つの誤りの傾向が見られた．1つ目は名詞連続であり，名詞の短単位列に対する長単位境界を誤ることが多かった．表の2から4行目に誤りの例を示す．表の例では，短単位境界を「／」，長単位境界を「|」で表している．例えば，「医学部倫理委員会」では「医学部」と「倫理委員会」の2長単位にすべきところを「医学部倫理委員会」と誤って1長単位として判定した．これらを正しく解析するには，「部」や「庁」などの境界になりやすい短単位の辞書を構築し，境界になりやすい短単位かどうかを素性として追加することで対応できるだろう．ただし，短単位間の意味的な関係を捉えないと解析が困難な場合もあるため，意味的な関係を考慮できるようにする必要もある．2つ目は複合辞に関する誤りであり，複合辞相当の長単位を複合辞として判定できなかったり，逆に複合辞ではない短単位列を複合辞として判定してしまうことが多かった．例を表の5から7行目に誤りの例を示す．短単位列が複合辞か否かは前後の文脈に大きく依存するため，正しく解析できるようにするためにはそれらを考慮した素性が必要となるだろう．表に全体の誤りに対する名詞連続と複合辞の誤りの割合を示す．いずれのデータ，モデルにおいても，名詞連続と複合辞については誤り率が高く，コーパスに関わらず難しい問題であることがわかる．次に品詞誤りの傾向を調査した．CSJについては品詞誤りがほとんど見られなかったため，BCCWJのみを調査した．表に主な品詞誤りの原因とその割合を示す．ベースライン，提案手法のどちらのモデルにおいても，名詞-普通名詞-一般と名詞-固有名詞-一般などの名詞同士の誤りが多く見られた．例を表の2から4行目に示す．例えば，「欧州連合」を名詞-固有名詞-一般と判定すべきところを，名詞-普通名詞-一般と誤って判定した．これに対する改善策としては，固有名詞になりやすい名詞を学習データから取得し，素性として利用することが考えられる．また，ベースラインを用いた場合は，名詞-普通名詞-一般と副詞，形状詞-一般との誤りが多く見られた．誤りの例を表の5から8行目に示す．「最近」という長単位を名詞-普通名詞-一般と判定すべきところを，副詞と誤って判定する例などがあった．一方，これらの誤りは提案手法を用いた場合はほとんど見られなかった．これはベースラインでは書き換え規則により品詞を付与しているためだと考えられる．書き換え規則では頻度が高い規則が適用される．「最近」という長単位の場合，名詞-普通名詞-一般よりも副詞として出現することが多いために書き換え規則では誤って副詞と判定してしまう．これに対し，品詞推定モデルでは前後の文脈を考慮し，文脈に沿って品詞を判定するため，名詞-普通名詞-一般と副詞，及び，名詞-普通名詞-一般と形状詞-一般に関する誤りが大きく減少したと考えられる．</subsubsection>
  <subsubsection title="人が見たときに気になる誤りへの対処">後処理を書き換え規則から品詞推定モデルにしたことにより，品詞の推定精度が大幅に向上した．しかし，学習による品詞推定をする場合，人間では誤らないような品詞が付与される可能性がでてくる．これは，品詞推定の際に，学習データにでてきたすべての品詞の中から最尤の品詞を推定するためである．もし，BCCWJの品詞体系で認められていない形式で品詞が付与されてしまうと，少数の誤りであっても人が見たときには目立つ誤りとなる．特に，研究対象になりやすく，自動解析も強く求められている複合辞などに対しては配慮する必要がある．例えば，「として」という助詞-格助詞の複合辞に対して，BCCWJの品詞体系で認められていない助詞-係助詞などの品詞を付与したり，複合辞とは認められていない短単位列を複合辞として判定してしまうと，人が見たときに目立つ誤りとなり，解析器の信頼性が大きく低下してしまう．そのため，節で述べた品詞推定モデルでは，複合辞については予め複合辞辞書を用意し，特定の品詞しか付与しないよう対処している．</subsubsection>
  <subsubsection title="コーパスのアノテーションと自動解析について">アノテーションの精度を高めることは，コーパスを用いた研究を行う場合，非常に重要であるが，そのためにはどこに人手をかけるべきかを検討する必要がある．例えば，言語単位や品詞体系の定義を複雑にすると自動解析が難しくなるため，自動解析結果の修正に人手をかける必要が生じる．話し言葉の場合，フィラーや言いよどみなどを適切に自動解析するのは難しいため，CSJでは書き起こしの段階で人手でタグを付与している．逆に，コーパスに付加する情報を一部犠牲にして，定義を柔軟にすることで自動解析の精度を向上させることにより，人手による修正コストを軽減することもできる．例えば，BCCWJでは同格や並列の関係にある場合に，意味的な関係を考慮し，連接する短単位それぞれを長単位として適切に自動認定することは困難であるため，1長単位と定義している．以下の例の「公正」と「妥当」は並列の関係にあるが，1長単位としている．CSJやBCCWJにおいては，長単位情報を付与する前段階で上述のような対処をすることにより長単位解析器としては対処すべき問題が低減されたという面もある．このように様々な言語現象に対応しつつコーパスに効率良くアノテーションするためには，自動解析によるアノテーションの前段階で，自動解析が難しそうな問題に対して柔軟に対処することも重要である．</subsubsection>
  <subsubsection title="他の品詞体系への適用についての一考察">提案手法でBCCWJとは異なる品詞体系に対してどの程度対処できるかについて考察する．節と節での実験により，提案手法はCSJ，BCCWJのどちらに対しても有効であった．これは提案手法が従来手法に比べ，以下の問題に対して汎用的に対処できるようになったためであると考える．長単位の品詞の種類の多さ階層的な品詞体系短単位の品詞と長単位の品詞が異なる品詞体系がBCCWJより単純，もしくは，複雑な場合を考える．まず，品詞体系がBCCWJより単純な場合は，既にCSJに適用した結果からもわかるように，提案手法により同等以上の性能が得られると考えられる．次に，品詞体系がBCCWJより複雑な場合であるが，想定される複雑性は以下の通りである．品詞の種類の増加品詞体系の階層の複雑化短単位の品詞と長単位の品詞の関連性の希薄化これらはBCCWJの品詞体系がCSJの品詞体系に対して複雑になった点でもある．提案手法では，品詞の階層情報（汎化素性）を用いることにより，品詞の推定精度が向上した．これは，上記の複雑性が増した場合でも，品詞間の関係を別途定義・アノテーションした情報を用いることにより，解析性能を上げることができることを示している．ただし，あまりに複雑な品詞体系の場合，必要となる学習データ量が増えるため，学習データ量が十分ではないことが原因で解析精度が低下することも考えられる．そのため，品詞体系はバランスを考えて定義することが重要である．次にCSJやBCCWJとは異なる品詞体系を利用して，コーパスに対して効率よくアノテーションをする方法について考える．一般に，すべて人手で言語単位や品詞をアノテーションするのはコストが高い．このコストを軽減するためには，(1)対象のコーパスを既存の解析器で解析し，言語単位や品詞体系が異なる部分を修正(2)修正結果を学習データとして，解析器を再学習し，対象のコーパスを再解析，というプロセスを繰り返すことができるのが望ましい．次章では，それを可能とするためのツールについて述べる．一方，このプロセスにおいて修正箇所が少ない場合には差分に相当する部分のみを学習し，既存の解析器による解析結果に対して，差分の部分を後処理で書き換えるような方法の方が有効であるということも考えられる．この方法の有効性の検証は今後の課題である．</subsubsection>
  <section title="長単位解析ツールComainu">提案手法を用いることにより，CSJやBCCWJとは異なる言語単位や品詞体系のコーパスに対しても長単位を付与することが可能である．より多くの研究者に対して，品詞体系の異なるコーパスや他分野のコーパスへの長単位情報付与を容易にするためには，長単位解析の学習・解析機能を備えたツールが利用可能になっていることが重要であると考える．章で説明した提案手法を実装することにより，長単位解析ツールComainuを作成した．モデルの学習にはBCCWJのコアデータ（45,342文，828,133長単位，1,047,069短単位）を用いた．本ツールは，平文または短単位列を入力すると，長単位を付与した短単位列を出力することができる．平文が入力された場合，MeCabとUniDicにより形態素解析を行った後に長単位解析を行う．長単位解析のチャンキングモデルにはSVMとCRFのいずれかを用いることができる．また，平文や短単位列の直接入力だけでなくファイル入力にも対応しており，解析結果をファイルに保存することも可能である．図にComainuによる長単位解析の解析例を示す．図の例では，平文を入力とし，CRFによるチャンキングモデルとSVMによる品詞，活用型，活用形推定モデルを用いて長単位解析を実行し，長単位が付与された短単位列を出力している．出力の2〜8列目はそれぞれ短単位の書字形，発音系，語彙素読み，語彙素，品詞，活用型，活用形を表し，出力の9〜14列目はそれぞれ長単位の品詞，活用型，活用形，語彙素読み，語彙素，書字形を表す．長単位解析ツールComainuはオープンソースとしている．これにより，長単位のアノテーションが容易になることが期待される．</section>
  <section title="まとめ">本論文では，品詞体系の異なるコーパスの解析に必要となる解析器の改良点を明らかにするためのケーススタディとして，CSJとBCCWJを用いて，長単位情報を自動でアノテーションした場合に生じる誤りを軽減する方策について述べた．CSJとBCCWJの形態論情報における相違点に基づき，長単位解析手法を改良し，評価実験により提案手法の有効性を示した．さらに，提案手法の異なる品詞体系への適用可能性について考察した．また，本手法を実装した長単位解析システムComainuについて述べた．本論文では，長単位解析の入力として正しい短単位列を想定したが，短単位，長単位ともに自動で解析した場合，短単位解析結果の誤りが伝播して長単位解析の誤りも増える．また，自動解析結果の誤りを効率よくなくしていくようなコーパスのメンテナンスの枠組みも重要であり，その枠組みの実現のためには，短単位解析の解析誤りが長単位解析に与える影響の調査，特に新たな言語単位や品詞体系を用いた場合にどのような影響がでるかを複数種類のコーパスを対象として比較調査することが今後必要となると考える．</section>
</root>
