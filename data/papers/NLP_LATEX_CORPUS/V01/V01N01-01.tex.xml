<?xml version="1.0" ?>
<root>
  <title>表層表現中の情報に基づく文章構造の自動抽出</title>
  <author>黒橋禎夫長尾眞</author>
  <jabstract>テキストや談話を理解するためには，まずその文章構造を理解する必要がある．文章構造に関する従来の多くの研究では，解析に用いられる知識の問題に重点がおかれていた．しかし，量的/質的に十分な計算機用の知識が作成されることはしばらくの間期待できない．本論文では，知識に基づく文理解という処理を行なわずに，表層表現中の種々の情報を用いることにより科学技術文の文章構造を自動的に推定する方法を示す．表層表現中の情報としては，種々の手がかり表現，同一/同義の語/句の出現，2文間の類似性，の3つのものに着目した．実験の結果これらの情報を組み合わせて利用することにより科学技術文の文章構造のかなりの部分が自動的に推定可能であることがわかった．</jabstract>
  <jkeywords>文脈処理，文章構造，結束関係，表層表現</jkeywords>
  <section title="はじめに">テキストや談話を理解するためには，文章構造の理解，すなわち各文が他のどの文とどのような関係(結束関係)でつながっているかを知る必要がある．文章構造に関する従来の多くの研究では，文章構造の認識に必要となる知識，またそれらの知識に基づく推論の問題に重点がおかれていた．しかしそのような知識からのアプローチには次のような問題があると考えられる．辞書やコーパスからの知識の自動獲得，あるいは人手による知識ベース構築の現状をみれば，量的/質的に十分な計算機用の知識が作成されることはしばらくの間期待できない．一方，オンラインテキストの急増にともない，文章処理の技術は非常に重要になってきている．そのため，現在利用可能な知識の範囲でどのような処理が可能であるかをまず明らかにする必要がある．現在の自然言語処理のターゲットの中心である科学技術文では，文章構造理解の手がかりとなる情報が表層表現中に明示的に示されていることが多い．科学技術の専門的内容を伝えるためにはそのように明示的表現を用いることが必然的に必要であるといえる．このような観点から，本論文では，表層表現中の種々の情報を用いることにより科学技術文の文章構造を自動的に推定する方法を示す．文章構造抽出のための重要な情報の一つは，多くの研究者が指摘しているように「なぜなら」，「たとえば」などの手がかり語である.しかし，それらだけで文章全体の構造を推定することは不可能であることから，我々はさらに2つの情報を取り出すことを考えた．そのひとつは同一/同義の語/句の出現であり，これによって主題連鎖/焦点-主題連鎖の関係を推定することができる．もうひとつは2文間の類似性で，類似性の高い2文を見つけることによってそれらの間の並列/対比の関係を推定することができる．これらの3つの情報を組み合わせて利用することにより科学技術文の文章構造のかなりの部分が自動推定可能であることを示す．</section>
  <section title="文章構造のモデルと結束関係">従来，文章構造のモデルとしてはその基本単位の結束関係(2項関係)を再帰的に組み合わせることによる木構造(文章構造木)が一般的に用いられてきた．しかし，何をその基本単位とするか，また基本単位間にどのような結束関係を考えるかについては研究者ごとに独自の定義が与えられてきた．本論文では，文章構造の自動抽出の可能性を示すことを第一義的に考え，句点で区切られた文を基本単位とするもっとも単純な文章構造モデルを採用する．一方，結束関係としてどれだけのものを考えればよいかという問題は，対象とするテキストの種類に大きく依存する．たとえば，物語文などでは過去の事象間の時系列の関係が中心となるが，科学技術文や論説文などではそのような関係はほとんどみられない．本論文では，従来の研究で扱われてきた種々の結束関係のうち，対象とする科学技術文の構造を説明するために必要なものとして表に示すものを考える(付録に示した実験文の文章構造を図に示す)．さらに，文章構造モデルに対して以下の仮定を行なうことにする．これは，「新しい主題が導入された後は，古い主題に関する詳しい説明は参照されない」ということを意味する(図)．計算量の点で有効であり，また科学技術文の場合直観的に妥当であると考えられたことからこの仮定を採用した．なお，本論文で扱う実験テキスト(約200文)の各章(9章)についてはこの仮定のもとでそれぞれに適当な文章構造木を考えることが可能であった．以下ではある入力文に対してそれが接続される文を接続文，また，接続文になり得る文章構造木の右端の節点に対応する文を接続候補文とよぶことにする．</section>
  <section title="文章構造の自動抽出"/>
  <subsection title="概要">前節で示したモデルに基づくと文章構造の解析は，入力文章を前から1文づつ順に処理し，各文(入力文)に対して適切な接続文と適切な結束関係を決定するという問題になる．この処理を行うために，表層表現中の次の3つの情報に着目する．種々の結束関係を示す手がかり表現主題連鎖または焦点-主題連鎖関係における同一/同義の語/句の出現並列/対比関係にある2文の間の類似性以降に示す方法によって，入力文と接続候補文に対してこれらの情報を自動的に抽出し，対応する結束関係への確信度に変換することができる．この処理によって入力文と各接続候補文との間のすべての結束関係に対する確信度を計算し，最終的に最大の確信度をもつ接続候補文と結束関係を選択する(図).文章構造には初期状態として初期節点(文には対応しない)を与え，この初期節点と入力文の間の初期化関係に一定の確信度を与えておく(入力文と初期節点の組については上で述べた情報の抽出処理は行なわない)．いずれの接続候補文に対してもこの値よりも大きな確信度を持つ結束関係が存在しない場合には，その入力文は初期節点に接続されるとする．これはその入力文が新しい段落の始まりの文であるような場合に対応する．以下，各情報に対してそれらを抽出し結束関係への確信度に変換する方法を説明する．</subsection>
  <subsection title="手がかり表現の抽出">種々の結束関係を示す手がかり表現を取り出しその関係への確信度を得るために，ヒューリスティック・ルールを用意した．ルールは以下のものからなる．ルールの適用条件:ルールの適用範囲(どれだけ離れた接続候補文までルールを適用するか)接続候補文とその接続文との結束関係接続候補文の依存構造のパターン入力文の依存構造のパターン対応する結束関係と確信度接続候補文と入力文のパターンはそれぞれの文の依存構造解析結果に対して適用される．この処理は依存構造木に対する柔軟なパターン照合機能を用いて実現した．そこでは，依存構造木とその構成要素である文節(単語の並び)に対するパターンが，正規表現，論理和，論理積，否定などによって指定できる．ルールは各接続候補文と入力文の組に対して適用され，条件部が満たされれば対応する結束関係に指定された確信度の得点が与えられる(複数のルールがマッチした場合確信度の得点は加算されていく)．ルールの一例を表に示す(すべてのルールを付録に示す)．たとえば，ルールa(表)は入力文が「なぜなら」で始まる場合，その入力文と直前の接続候補文の間の理由関係に得点を与える(ルールの適用範囲が1であるので，直前の接続候補文との間の関係に対してのみ得点が与えられる)．ルールb(表)の場合は，条件部で同一の語の出現を指定しており，直前の接続候補文だけでなく他の接続候補文に対しても適用される．ルールc(表)では，条件として「接続候補文とその接続文との結束関係」を指定している．このルールは，「例提示関係によって具体例が導入されれば，次にその例の説明が続く場合がある」ことを表現している．ルールd(表)は時制の変化を手がかりとして文章構造の区切れを検出するためのルールで，連続する2文の時制が現在から過去に移行する場合，その間の全ての結束関係の確信度を指定された値だけ減少させる．このペナルティの値によって入力文が直前の文以外の接続候補文へ接続されることが優先される．</subsection>
  <subsection title="語連鎖の抽出">一般に文は主題を示す部分(主題部分)とそれ以外の部分(非主題部分)に分けることができる．2つの文が同じ主題について述べられている場合，それら2文は主題連鎖関係にあるとする．この関係は2つの文の主題部分に同一/同義の語/句(以下これを語連鎖とよぶ)が現れていることで発見できる．一方，ある文の主題以外の要素がその後の文の主題となるような結束関係を焦点-主題連鎖関係とよぶことにする(この時，後の文で主題となる要素は前の文において焦点要素であると考えられるため)．この関係は2文間の主題部分から非主題部分への語連鎖を調べることで発見できる．しかし，多くの場合一つの入力文に対して各接続候補文との種々の関係を支持する複数の情報が存在する．そのため，単に語連鎖を発見するだけでなく，その連鎖の強さに応じて主題連鎖関係あるいは焦点-主題連鎖関係に確信度を与えることが必要となる．そこで，主題部分，非主題部分の各語に対して，文中での重要度に応じた得点を与え，また同一/同義の語/句の照合に対してもその一致度に応じた得点を定義した．その上で，連鎖する2語/句のそれぞれの文での重要度の得点とその一致度の得点の総和を語連鎖の得点とし，これを主題連鎖関係あるいは焦点-主題連鎖関係に確信度として与えるということを行った(図)．これらの処理は，依存構造に対するパターンと得点からなるルールを適用するという形で実現した(ルールの一例を表に示す)．ルールa,b(表)は主題を示す助詞「は」を伴う語とその修飾語/句に，ルールc,d(表)は条件節内の語に，主題部分としての得点を与える．ここでは，主題部分の中でもっとも重要であると考えられる，助詞「は」を直接ともなう語に最大の得点を与えている．ルールe(表)は「〜Aがある」という文のAに対して非主題部分の要素として高い得点を与える．このような文体ではAが重要な新情報であり，この語が以降の文で主題として取り上げられる(焦点-主題連鎖関係が存在する)場合が多い．ルールf,g,h(表)は語/句の一致に対して得点を与えるルールである．ここでは「XのY」のような句の一致(ルールg)に対しては単なる語の一致(ルールf)よりも高い得点を与える．語連鎖の検出における最大の問題は，著者が，単に同一の語/句を繰り返すのではなく，微妙に異なった表現によってそのような連鎖を示す傾向にあるという問題である．シソーラスの利用，ルールh(表)などによってそのような表現の一部は検出可能であるが，検出できない微妙な表現は多数存在する．それらの取扱いについては本論文の範囲外とした．</subsection>
  <subsection title="2文間の類似度の計算">並列/対比の結束関係にある2文の間にはある種の類似性が認められる．しかしそれらは文全体についての類似性であるため，これまでに示したような文中の比較的狭い部分を調べるルールを適用することでは検出できない．そこで，1文内の並列構造の範囲を調べるために開発したダイナミックプログラミングによる類似性検出の方法を拡張するということを行った．この方法では任意の長さの文節列間の類似度を計算することが可能である．そこでは，まず文節間の類似度を，品詞の一致，語の一致，シソーラス辞書中での語の近さなどによって計算し，その上でそれらの文節間の類似度を組み合わせることによって文節列間の類似度を計算する．この手法は並列構造の構成要素を決定するために1文内の句/節間の類似度を計算するものとして開発した．これを2文間(入力文と接続候補文)の類似度を計算するように拡張することは，その2文を連結しそれらが仮想的に並列構造を構成すると見なすことによって簡単に実現することができる．このことにより，その仮想的並列構造の構成要素である2文間の類似度をまったく同じ枠組みで計算することができるからである．最終的には，この方法によってえられた類似度を2文の長さの和によって正規化した値を，それらの間の並列関係と対比関係の確信度に加算する．</subsection>
  <section title="実験と考察"/>
  <subsection title="実験方法と結果">実験には科学雑誌サイエンスのテキスト，「科学技術のためのコンピューター」(Vol.17,No.12)を用いた(付録にその一部を示す)．実験文はあらかじめ章ごとに分割し(全9章，1章は平均24文)，文章構造の推定は章単位で行なった．実験は以下の手順で行なった．まずはじめの3章に対して．主題部分/非主題部分の重要度のルール，語/句の照合ルール，手がかり表現のルールを作成し，できるだけ正しい文章構造が求まるようにそれらの得点を人手で調整した．2文間の類似度の計算については，単に並列構造検出のシステムを用いただけで，得点付けの調整/変更は行なわなかった．次に，残りの6章に対して手がかり表現のルールだけを追加し，その新しいルールセットによって残り6章に対する解析実験を行なった．これらの実験結果を表に示す．ここでは，各入力文に対して正しい接続文と正しい結束関係，また結束関係が主題連鎖または焦点-主題連鎖の場合はその正しい語連鎖が求まった場合を正解とした．結束関係ごとの解析結果の集計では，解析失敗のものについてはその正しい結束関係の欄に分類した．なお，残りの6章に対するルールを追加した新しいルールセットでもとの3章を解析したところ，解析結果は全く同じであった．これらの結果から，科学技術文の場合，表層表現中の情報をうまく取り出すことができればその文章構造のかなりの部分が自動的に推定可能であることがわかる．手がかり表現についての汎用性のあるルールセットを用意するためには，かなりの規模のテキストを対象としたルール作成作業が必要であると思われる．しかし，手がかり表現に関するルールの多くは排他的なものとして記述することができるので，本実験においてそうであったように，新しく追加したルールがもとのルールと競合して副作用を起こすということは非常に少ないと予想される．</subsection>
  <subsection title="解析例と考察">まず，文章構造推定の経緯の具体例を示す．付録のS1-11からS1-20までの文章は以下に示す情報によって図-aに示す構造に変換された．また付録のS4-1からS4-7までの文章は以下の手順で図-bに示す構造に変換された．接続詞「しかし」は，S1-12，S1-20のように変化関係を示す手がかり語であるだけでなく，S3-4のように対比関係を示す場合もある．この区別は，この手がかり語と他の情報を組み合わせて調べることによって可能となる．すなわち，S1-12，S1-20の場合は過去から現在への時制の変化を見ることによって変化関係を推定することができる．一方，S3-3とS3-4の間には高い類似度(得点23)があるため，これと手がかり語「しかし」によって対比関係が推定できる(これに対して，S1-11とS1-12の類似度は0，S1-19とS1-20の類似度は3である).連続する2文間の結束関係だけでなく，離れた2文間の関係も，種々の情報によって正しく推定することが可能である．例えば，S1-16，S1-12間の例提示関係は表層表現中の手がかり語によって，S1-19，S1-13間の主題連鎖関係は語連鎖によって，またS4-6とS4-3の並列関係は2文間の類似度によってそれぞれ正しく推定されている．S4-7については正しい結束関係が推定できなかった，ここではS4-6の「温度が上昇する」ことによって生じる「熱」がS4-7で主題となっている．すなわち，推論を介した焦点-主題連鎖関係が存在している．このように結束関係の推定に推論を必要とするような問題は本論文では対象としなかった．このような問題を含めて，実験テキストの解析誤りの原因は次のように分類できる．なお，学習サンプル，テストサンプルともに解析誤りの原因の種類は同じものであった．語連鎖の抽出について3.3節でも述べたように，主題連鎖/焦点-主題連鎖関係を示す語連鎖にはシソーラスやある種のパターン(表のルールhなど)を用いるだけでは検出不可能なものがある．上記のS4-7はその一例である．また逆に，主題連鎖/焦点-主題連鎖関係を示すものではない同一語句の出現に対して得点が与えられ，それが他の正しい関係の推定の妨げとなる場合がある．2文間の類似度の計算についてたとえば，という対比関係の2文では，同一/同義の単語も少なく構造(品詞の並び)的にも似ていないため我々の方法では高い類似度が与えられない．このような場合並列/対比関係が正しく推定されないということになる．また逆に，並列/対比関係にない2文でも同一の語を多数含んでいるような場合高い類似度が与えられ，誤ってそれら2文間の並列/対比関係が推定されてしまう場合がある．詳細化関係について詳細化関係ではたとえば次の例のように手がかり表現といえるものが存在しない場合がある．このような2文間の詳細化関係は本手法では正しく推定できない．表に示すとおり解析誤りの大部分は並列/対比関係，主題連鎖/焦点-主題連鎖関係についての誤りで，これらの多くは上の1,2の原因が組み合わさって生じたものである．たとえば，微妙な表現の語連鎖が抽出できない場合に，別の不適当な文との間の高い類似度によって並列/対比関係が推定されてしまったというような場合である．なお，本論文では同一著者のテキストを学習サンプル，テストサンプルとして実験を行なった．種々のテキストに対して本手法の有効性を検証することは今後の課題である．しかし，科学技術文の本質的目的がその内容を正確に伝えることであるということを考えれば，著者・テキストによって文体に差があるとしても，それは本手法の精度に大きな影響を与えるほどのものではないと考えられる．</subsection>
  <section title="結論">本論文では，手がかり表現，語連鎖，文間の類似性，という表層表現中の3つ情報に基づいて文章構造を自動的に推定する手法を示した．科学技術文の場合，これら3つの表層的情報を組み合わせて利用することにより，知識に基づく文理解という処理を行なわなくても，文章構造のかなりの部分が推定できることがわかった．微妙な表現による語連鎖の扱い，手がかり表現についての汎用性のあるルールセットの作成などの問題を克服すれば，大規模なテキストに対して文単位でなく文章単位の処理を実現することが可能となるだろう．</section>
  <section title="実験テキスト">「科学技術のためのコンピューター」(サイエンス，Vol.17,No.12)(以下，Si-jのiは章番号，jは文番号を示す)S1-1:コンピューターによる高速計算は科学研究の方法を、劇的に変えつつある。S1-10:たとえば、重力に関するニュートンの法則はすでによく理解されており、太陽系の正確な計算モデルが存在することから、計算機実験によって、火星がなければ地球の軌道がどう変わるか、といった問題を解くこともできる。S1-11:これまでの理論家は、近似的な結果を計算して、現実の世界と比較できるようにするために、極端な単純化を強いられることが多かった。S1-12:しかし科学者が利用できる計算機の能力が増大した１つの結果として、研究方法は従来の近似法から“合成による分析”へと移行しつつある。S1-13:合成法は、「あるシステムの各部分の間の相互作用の基本過程はわかっているが、当のシステムの細かな構成はわからない」という場合に使われる。S1-14:それにより、未知の構成を合成によって決定したり、可能な構成を考えて、その結果を試してみることも可能だからである。S1-15:そうした結果を実験から得られる細かなデータとつき合わせてみれば、観察の結果を最もよく説明できる構成を選ぶことができるわけである。S1-16:１９世紀以来の合成法の有名な例として、天王星の軌道に見られる不可解な摂動を理解しようとした試みをあげることができる。S1-17:研究者たちは太陽系に仮想の惑星を加え、満足のいく摂動が得られるまで、その軌道のパラメーターを変化させていった。S1-18:その結果は、予想された位置の近くでの海王星の発見という成果に直接結びついたのである。S1-19:この合成法が適用できるのは、過去には、比較的単純な場合に限られていた。S1-20:しかし、高速計算機の登場により、合成法は、伝統的な近似解析に次ぐ地位を確実に占めようとしている。S3-3:２つの恒星あるいは惑星間に働く重力の相互作用は、紙と鉛筆で容易に計算することができる。S3-4:しかし、３個の物体間の相互作用（すなわち３体問題）となると、その運動方程式は手におえないものになってしまう。S4-1:天文学者はこの種の衝突になぜ興味をもつのだろうか。S4-2:その答えは、“熱”を発生させるのに連星が演じている役割にある。S4-3:連星と単星が衝突する際、連星は縮んで小さくなり、単星にエネルギーを与え、その周囲の星の集団を温めることがある。S4-4:この過程は、原子核が衝突して融合し、より重い原子核になる際、エネルギーを放出する核融合とよく似ている。S4-5:核融合は、太陽を含む恒星を光らせるメカニズムである。S4-6:また、遭遇によって連星の軌道が縮小し、そのために高密度の星団の中核の温度が上昇することも考えられる。S4-7:この熱は、星が絶えず沸騰している星団の表面における熱損失と釣り合うことのできるものである。</section>
  <section title="手がかり表現のルール">欄:Oははじめの3章に対して作成したルール，Nは残りの6章に対して作成したルール．適用範囲:は制限なし．パターン:a|bは「aまたはb」を示す．document</section>
</root>
