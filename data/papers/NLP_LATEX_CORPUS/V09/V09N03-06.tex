



\documentstyle[epsf,jnlpbbl]{jnlp_j_b5}
\setcounter{page}{109}
\setcounter{巻数}{9}
\setcounter{号数}{3}
\setcounter{年}{2002}
\setcounter{月}{7}
\受付{2000}{3}{17}
\再受付{2000}{9}{25}
\採録{2002}{1}{10}

\setcounter{secnumdepth}{2}

\title{複数の対話エージェントを導入した\\
情報検索の対話モデル}
\author{酒井 桂一\affiref{Canon}}

\headauthor{酒井}
\headtitle{複数の対話エージェントを導入した情報検索の対話モデル}

\affilabel{Canon}{キヤノン株式会社プラットフォーム技術開発センターDRSプロ
ジェクト}
{DRS Project, Platform Technology Development Center, Canon Inc.}

\jabstract{
本稿では複数の対話エージェントを導入する効率的な情報検索の対話モデルを採用する．
情報検索という複雑な対話に対して，万能の対話エージェントを用意することは，
現状では困難である．そこで，以下の三つの局面で，対話エージェントを
切り替えることによって，ユーザは円滑な情報検索対話を進めることができる．
\begin{itemize}
\item ドメイン: 情報検索を行なうに当たって，ドメインの
存在を認識できる．
\item 対話戦略: 同一のドメインにおいても，検索を進める上で，様々な対話戦略が
用意されていることを認識できる．
\item 文脈: 条件分岐など，それぞれの文脈に対して対話エージェントを
割り当てることによって，検索を容易にする．
\end{itemize}
上記のように多数の対話エージェントを導入した対話モデルを用いることにより，
ユーザは対話の状況をよりたやすく理解できると考えられる．
評価実験により，本提案による良好な結果が得られた．}

\jkeywords{対話エージェント，インタフェース，情報検索}

\etitle{A Dialogue Model for Information Retrieval\\
with Multiple Dialogue Agents}
\eauthor{Keiichi Sakai \affiref{Canon}} 

\eabstract{
In this paper, we described a natural language dialogue model for 
information retreival with multiple dialouge agents. 
In the complex dialogue for information retrieval, it is difficult to realize
an effective dialogue with the almighty dialogue agent. Therefore, we propose
a dialogue model which mekes users proceed dialogue fluently 
in the following three situations by changing dialogue agents:
\begin{itemize}
\item the domain agents make the user aware of the boundary
between the domains.
\item the strategy agents make the user aware of the difference
between the strategies.
\item the context agents help the user to deal with multiple
goals.
\end{itemize}
We expect that the complex behaviours of the system will become
more easy to recognize to the user in different situations.
The experimental results show that the user can retrieve the expected 
goals effectively and obtain them easily by using these multiple agents.}

\ekeywords{Dialogue agent, Human interface, Information retrieval}

\begin{document}
\maketitle

\section{はじめに}
インターネットの急速な普及により，ユーザが閲覧可能なコンテンツは，
爆発的に増大している．そのようなコンテンツを検索するために，yahoo!や
infoseekなど，いくつもの検索エンジンが登場してきている．
そうした検索エンジンでは，ユーザがキーワードや文字列を論理式で
与えることによって，検索を実行するのが一般的である．
しかしながら，特に初心者ユーザにとっては，そうした検索エンジンへの
条件の与え方がまだ十分に使いやすいものではなく，自然言語による対話を
用いて検索を行ないたいという需要がある．

情報検索対話に自然言語を用いる利点は，以下が挙げられる．
\begin{itemize}
\item 自然言語は，ユーザにとって最も親しみやすく，自然なコミュニケーション
手段である．なお，大語彙連続音声認識技術の向上により，キーボード入力を
行なう負荷も軽減してきている．
\item 自然言語の修飾関係を利用することで，論理式よりも精度の高い
検索を行なえる可能性がある．
\item いわゆる「パラフレーズ(表現の言い換え)」を行なうことにより，
ユーザが思いついた表現が所望するコンテンツに含まれていない場合にも，
その表現を検索結果に利用できる可能性がある．
\item 対話戦略などに当たるキーワード(例えば，旅行における出張など)に対し，
キーワードとは異なる検索条件(出張では，例えば，宿泊料金をXXXX円
以下とする)や応答内容(コンテンツのtitle(宿泊施設名)だけでなく，
料金や立地条件)に展開することで，効率的に対話を進められる可能性がある．
\end{itemize}

しかしながら，情報検索というタスクに対して，現状の自然言語処理技術では，
自然言語を用いた万能の検索対話を実現することは現状では困難である．
また，上記のように有効な対話戦略はいくつか存在するが，そうした対話戦略を
導入することにより，ユーザが対話システムに過度の対話能力を期待し，
ユーザが期待する対話能力を対話システムが実現できていないことで，
ユーザが混乱し，結果的に対話システムを過小評価する場合も少なくない．
\bigskip

一方，近年の(自然言語)対話システムでは，音声認識・合成技術や画像処理技術の
向上により，より人間に近い振舞い(音声，顔の表情，感情など)を導入した「擬人化
エージェント」を計算機とユーザとのインタフェースとして用いる研究が盛んに
なってきている(例えば，\cite{tosburg,nagao,densouken,toyohasi}など)．
上記の対話システムで擬人化エージェントを導入した主目的は，擬人化エージェントを
導入することで，より自然なインタラクションを実現することであると考えられるが，
対話の相手である擬人化エージェントは，通常ひとつ(ひとり)である．

しかしながら，現実の世界での人間を対象とした情報検索においては，例えば，
「○○の技術については，××の部署が担当しているが，その中でも△△氏が
詳しいので，△△氏に聞こう」とか，「車を購入するのにどれにしようか迷っている．
それぞれのディーラーの担当者に同じ条件を与えて，一番良い回答を出した車種に
しよう」などということを知らず知らずのうちに行なっているものである．
\bigskip

そこで本稿では，ユーザが情報検索システムとの対話を行なう「窓口」を，
情報提供者サイドが予め設定した異なる属性により異なる振る舞いを
行なう「対話エージェント」として多数用意し，ユーザが対話エージェントを
選択・切り替えることで，効率的な情報検索を実現する対話モデルを採用した．
すなわち，現状の自然言語処理技術で解決できる(特定の用途に対しては
効率的な方策を実現しているが，汎用的には実現できていない)能力を
複数の「対話エージェント」(賢い対話エージェントもいるし，馬鹿な対話
エージェントもいる)というアナロジーによって，ユーザに違和感なく
受け入れさせ，ユーザに対話エージェントを使い分けさせることで，
自然言語を用いた効率的な情報検索対話を実現することを目的とする．

なお，本稿で述べる「対話エージェント」は，他の対話システムで実現されている
擬人化エージェントのように，書き下された文字列以外のモダリティを保持していないが，
情報検索に対して，個々の局面で異なる知識を保持した「個々の対話の相手」を
示すアイコンとして複数用意し，ユーザが対話エージェントを使い分けることで，
より効率的な情報検索の対話を実現することを試みた．
ただし，本稿の対話エージェントでは，エージェント間での協調や交渉といった
相互作用については，技術的に導入が可能であったが，本稿の主張と現状のマルチ
エージェントモデルの差異がわかりにくくなると判断し，導入していない．

本稿では，まず，\ref{sec:curnld}章において，自然言語を用いた現状の
情報検索対話の例を挙げ，現状の問題点について指摘する．
次に\ref{sec:multia}章では，本稿で提案する複数の「対話エージェント」を
導入した対話モデルについて説明し，
\ref{sec:daev}章では，複数の対話エージェントを導入した対話モデルの評価について
述べる．

\section{自然言語を用いた情報検索の対話例と問題点}\label{sec:curnld}

\subsection{単一ドメイン(旅行)に関する情報検索対話の例}

我々は，旅行に関する約8万件のモデル化文書を格納した2枚の市販の電子ブック
\cite{tabigura,jtb}を対象とした音声対話情報検索システムTARSANを作成した
\cite{tarsan}．
TARSANでは，モデル化文書を項目に分割して全文検索を行ない，
特に「地名」項目に注目して，効率的に適合文書を絞り込み，
その適合文書の特定の項目を提示する音声検索対話を実現した．

TARSANで実現した対話例を表~\ref{tab:travel}に示す．

\begin{table}[htp] 
\caption{旅行をドメインとする対話例}\label{tab:travel}
\bigskip\centering \tt

\begin{tabular}{lp{120mm}} \hline\hline
usr1:&温泉について調べたい。\rule{0pt}{10pt}\\
sys1:&何か条件を指定してください。\\
usr2:&効能が神経痛です。\\
sys2:&場所を指定してください。\\
usr3:&東北地方。\\
sys3:&福島県に80件，青森県に51件，山形県に41件，秋田県に39件など，合
計で257件あります。\\
usr4:&宮城県では。\\
sys4:&仙台市に8件，鳴子町に4件，宮城県川崎町に3件，花山村に3件など，
合計で23件あります。\\
usr5:&仙台市では。\\
sys5:&秋保温泉，神ヶ根温泉，作並温泉，広瀬川温泉など，8件あります。\\
usr6:&作並温泉の行き方は。\\
sys6:&作並温泉の行き方は作並駅バス５分です。\\
\hline\hline
\end{tabular}
\end{table}

このように，実用規模のテキストデータからユーザの検索条件に合致するものを
絞り込む対話では，ユーザは検索条件の追加や変更を繰り返すことで
目的とする文書にたどりつく({\tt usr2$\sim$5})．
このような対話を効率的に行なうには，システムが主導に立って対話の流れを制御し，
1) 検索条件が不十分な場合にはユーザに入力を要求したり({\tt sys1,2})，
2) ユーザが次に検索条件を追加／変更するための付加的な情報を提示したり
({\tt sys3,4})することが効率的である．

TARSANで実現した「旅行」をドメインとする対話では，「地名」という
特殊な検索条件に注目し，これを利用することで，効率的な対話を実現した．
すなわち，地名を必須条件とし，地名の階層構造を用いて検索結果を
グループ化する処理を行なうことにより，表\ref{tab:travel}に示した
ような対話を実現した．

\subsection{複数ドメインに関する情報検索対話の例}

TARSANにおける対話は，旅行という単一のドメインに限定したものであった．
そこで，TARSANで手続き的に実現した「対話の流れを制御するために用いる項目
(以下，{\bf 対話項目}と呼ぶ)」を宣言的に記述できるようにすることで，
複数のドメインを対象とするよう拡張した．

以下では，旅行ドメインにおける「地名」の役割を分析し，他のドメインに
適用する手法について説明する．

\subsubsection{ドメインの決定}

単一ドメイン(旅行)に関する情報検索の対話を複数のドメインに適用するにあたり，
問題となるのは，異なるドメインにおいては異なる意味で用いられる多義語である．
しかし，当面の目標として，旅行というドメインで確立した手法を他のドメインに
適用することとしたので，旅行以外のドメインとして，互いの関連性が少ない，
「プロ野球\cite{baseball}」と「映画\cite{cinema}」を選んだ．
そして，表\ref{tab:genre}に示す{\bf ジャンル名}が
ユーザの質問文に現れた場合に，その{\bf ジャンル名}が属するドメインに決定する．

\begin{table}[th]
\caption{ドメインごとのジャンル名の例}\label{tab:genre}
\bigskip
\centering
\begin{tabular}{c|l}\hline\hline
{\bf ドメイン}& \multicolumn{1}{c}{\bf ジャンル名}\\
\hline
旅行 & 温泉，神社・仏閣，博物館，美術館，動・植物園，城，庭園，ゴルフ場．．．\\
プロ野球 & 選手・監督，球団，球場，歴代優勝球団．．．\\
映画 & 洋画，邦画\\
\hline\hline
\end{tabular}
\end{table}

\subsubsection{各対話項目の説明}\label{sec:ditem}

これまでに述べたような検索対話を一般化するために，
TARSANの対話で果たした地名項目の役割を以下に示すデフォルト対象項目，
必須条件項目，シソーラス項目，優先条件項目という四つの「対話項目」に分類し，
ジャンルごとにそれぞれの宣言的に指定できるようにした．
また，これらの対話項目を参照して，対話の流れを制御する機能を実現した．
表\ref{tab:ditem}に，各ドメインにおける典型的なジャンルごとの対話項目の例を示し，
以下で，各対話項目について説明する．

\begin{table}[th]
\caption{ジャンルごとの対話項目の例}\label{tab:ditem}
\bigskip
\centering
\begin{tabular}{c|l|l|l|l}\hline\hline
& \multicolumn{1}{c|}{\bf 温泉}&
\multicolumn{1}{c|}{\bf 選手・監督}&
\multicolumn{1}{c|}{\bf 洋画}&
\multicolumn{1}{c}{\bf …}\rule{0pt}{10pt}\\ \hline
{\bf デフォルト対象項目} & 名称,読み方,地名& 名称,読み方,所属球団 & 名称 &\rule{0pt}{10pt}\\
{\bf 必須条件項目} & 地名 & --- & --- &\\
{\bf シソーラス項目} & 地名 & 所属球団 & ---&\\
{\bf 優先条件項目} & 効能 & 所属球団 & キャスト&\\
\hline\hline
\end{tabular}
\end{table}
\begin{description}
\item[デフォルト対象項目:] 
ユーザが検索対象項目を明示しない場合に，システムがユーザに提示する項目．
モデル化文書のラベルである「名称」項目は必ずデフォルト対象項目とする．
また，後述する「シソーラス項目」をデフォルト対象項目として指定すると，
検索結果が多い場合，検索条件として与えたシソーラス項目の
ひとつ下の階層の項目値で検索結果のグルーピングを行なう
(表~\ref{tab:travel} {\tt sys3,4})．

\item[必須条件項目:] 
ユーザによる指定を必須とする条件項目．
ここで指定された必須条件がユーザによって指定されていない場合には，
システムがいわゆる「問い返し」によってユーザに指定を要求する
(表~\ref{tab:travel} {\tt sys2})．

\item[シソーラス項目:] 
項目値をグループ化するための階層情報(シソーラス)をシステムが
保持している項目であり，ユーザがこの項目を検索条件として指定した
場合に，この情報を利用すると，その後の絞込みに有益な項目である．
例えば，旅行の所在地項目には，「都道府県」，「市町村」という
階層が存在するが，検索条件として，都道府県名が与えられ，検索結果が
多い場合には，市町村でグルーピングを行ない，応答文を生成する．

また，実際のデータのテキスト中に存在しない階層(例えば，旅行の
所在地項目では，都道府県をいくつかにグルーピングした「東海地方」などの
地方名，プロ野球の所属球団をグルーピングした「リーグ名」など)も，
システムがシソーラス項目として仮想的な階層情報を保持しており，
ユーザからそうした実際のデータのテキスト中に存在しない階層を
検索条件として指定された場合にも，実際のテキスト中に存在する項目値に
展開して検索を行ない（例えば，プロ野球で，「セリーグ」と指定された
場合には．現在の６球団と「大洋」，「国鉄」の８球団に展開する），
応答文に関して，上記と同様のグルーピングを行なう．

\item[優先条件項目:] 
ユーザが明示的に変更しない限り，検索条件として付与する項目．
対話外からも指定できるだけでなく，ジャンル名を含む文で
指定された検索条件も優先条件項目とする．
優先条件項目以外の条件項目は，それ以外の条件を変更した場合に
残すかどうかをシステムが確認するが，
優先条件項目は，それ以外の検索条件を変更した場合に確認しない．
\end{description}

以上の対話項目を2種類のドメイン(プロ野球\cite{baseball}，映画\cite{cinema})に
ついて作成した．

プロ野球，映画をドメインとする対話例を表\ref{tab:baseball},
\ref{tab:cinema}に示す．

\begin{table}[thp]
\caption{プロ野球をドメインとする対話例}\label{tab:baseball}
\bigskip \centering \tt

\begin{tabular}{lp{120mm}} \hline\hline
usr1:&阪神の選手を知りたい。\rule{0pt}{12pt}\\
sys1:&相羽 欣厚 (1943〜1988)，亀山 努 (1969〜  )，田淵 幸一 (1946〜  )，
藤本 勝巳 (1937〜  )など，310人います。\\
usr2:&ポジションがサードでは。\\
sys2:&朝井 茂治 (1941〜  )，掛布 雅之 (1955〜  )，西園寺 昭夫 (1937〜 )，
三宅 秀史 (1934〜  )など，23人います。\\
usr3:&掛布のタイトルを示せ。\\
sys3:&掛布のタイトルは本塁打王3回('79,'82,'84) 打点王1回('82)です。\\
usr4:&PL学園を卒業した選手を知りたい。\\
sys4:&広島に8人，ダイエーに5人，巨人に4人，阪神に4人など，合計で39人います。\\
usr5:&所属球団が巨人では。\\
sys5:&加藤 英司 (1948〜  )，桑田 真澄 (1968〜  )，橋本 清 (1969〜  )，吉村 禎章 (1963〜  )です。\\
usr6:&沢村賞を受賞した選手を教えて。\\
sys6:&巨人に13人，中日に7人，阪神に6人，広島に4人など，合計で29人
\footnotemark います。\\
usr7:&所属球団がヤクルトでは。\\
sys7:&松岡 弘 (1947〜  )です。
\\ \hline\hline
\\
\addtocounter{footnote}{-1}
& \footnotemark {\footnotesize 移籍した選手は所属したすべての球団で
カウントしているため，球団別の``のべ人数''より少ない．}
\end{tabular}
\end{table}
\begin{table}[thp]
\caption{映画をドメインとする対話例}\label{tab:cinema}
\bigskip \centering \tt

\begin{tabular}{lp{120mm}} \hline\hline
usr1:&洋画について検索したい。\rule{0pt}{12pt}\\
sys1:&何か条件を指定して下さい。\\
usr3:&どんな条件がありますか。\\
sys3:&製作年，原題，解説，評価，名称，上映時間，受賞，スタッフ，
キャスト，発売会社があります。\\
usr3:&キャストがハリソン・フォードです。\\
sys3:&インディ・ジョーンズ　魔宮の伝説，幸福の旅路，ナバロンの嵐，ブレー
ドランナーなど，16件あります。\\
usr4:&ブレードランナーのスタッフは。\\
sys4:&ブレードランナーのスタッフは監督：リドリー・スコット　原作：フィリッ
プ・Ｋ・ディック脚本：ハンプトン・ファンチャー／
デビッド・ピープルズ　音楽：バンゲリス　ＳＦＸ：ダグラス・トランブルです。\\
usr5:&評価が★★★★である邦画を調べてほしい。\\
sys5:&赤西蛎太，祇園の姉妹，すっ飛び駕，麦秋など，46件あります。\\
usr6:&監督が黒澤明では。\\
sys6:&赤ひげ，七人の侍，用心棒，羅生門など，8件あります。\\
usr7:&羅生門の上映時間は。\\
sys7:&羅生門の上映時間は８７ｍｉｎｓ．です。
\\ \hline\hline
\end{tabular}
\end{table}

\subsection{複数ドメインを扱う自然言語処理対話の問題点}\label{ssec:issue}
前節で述べたように，複数のドメインを検索できるようにした予備実験システムを作成し，
それを用いて対話収集および使用感についてのアンケートを行なったところ，
以下の問題点が判明した．

\begin{enumerate}
\item 複数のドメインにまたがる情報を一回の入力文で得られるとユーザが誤解する．
複数のドメインにまたがる入力文の例を以下に示す．
\begin{description}
\item[例1:] 「山口百恵が主演した映画にちなんだ温泉を知りたい。」
\item[例2:] 「プロ野球選手だった俳優が出演した邦画を教えて。」
\end{description}
最初の例は映画ドメインと旅行ドメインにまたがり，二番目の例は野球ドメインと
映画ドメインにまたがっている．
\item 特定の用途に対して効率的な対話戦略(対話の進め方)をシステムが行なうと，
ユーザはシステムが万能の対話戦略を保持していると誤解する．
仮に一つの対話エージェントが複数の対話戦略を保持している場合---特にある
対話戦略は効率的であるが用途が限られており，別の対話戦略はいろんな用途に
適用できるが，あまり効率的でないような場合---には，ユーザは
対話戦略間の格差に戸惑い，不快に感じる．
\item 現状のシステムが指示照応などの対話処理に関して十分な能力を持っていない
ために，システムの能力に合わせた入力をユーザが行わないと，ユーザは適切な応答が
得られない．\\
表\ref{tab:compare}は，複数の候補に対する検索条件を単一の文脈でユーザが比較した
対話例である．
この対話例では，ユーザが箱根と日光の情報を比較しようとして，うまく対話を
進めているが，非常に煩雑であり，対話システムの能力を知らずに，
このように円滑な検索対話を行なえるユーザは少ない．
\end{enumerate}
\begin{table}[htp]
\caption{複数の候補に対する検索条件を単一の文脈でユーザが比較する対話の例}
\label{tab:compare}
\bigskip
\centering \tt
\begin{tabular}{ll}
\hline\hline
usr1: & 箱根にある温泉を教えて。\\
sys1: & 16件あります。\\
usr2: & 日光では。\\
sys2: & 中禅寺温泉，日光湯本温泉があります。\\
usr3: & 箱根には寺院がありますか。\\
sys3: & 阿弥陀寺，九頭竜明神，早雲寺など，7件あります。\\
usr4: & 日光では。\\
sys4: & 日光東照宮があります。\\
usr5: & その説明を聞きたい。\\
sys5: & 徳川家康を崇る...\\
\hline\hline
\end{tabular}
\end{table}

\section{複数の対話エージェントの導入した対話モデル}\label{sec:multia}

前章で述べた三つの問題点は，ユーザとの対応をシステムが
一つの「対話エージェント(対話の窓口)」しか保持していないことに起因すると仮定した．
すなわち，対話エージェントが唯一であると，その対話エージェントがユーザとの対話の
すべてを扱うことになり，このことでシステムに何ができて何ができないかを
ユーザにわかりにくくしていると考えられる．

そこで，システムの能力をユーザにわかりやすくするために，複数の
対話エージェントを擁する対話モデルを提案する．
このように複数の対話エージェントを用いることで，ユーザはシステムにできることと
できないことがわかりやすくなる．

\subsection{個々の対話エージェントが保持する情報}

本対話モデルにおける各対話エージェントは，図\ref{fig:eachagent}に示す
以下の五つの情報を保持する．
\begin{description}
\item[一般検索知識:] 情報検索の自然言語対話を行なうための汎用的な
知識であり，全対話エージェントに共通のもの
\item[ドメイン知識:] 個々の対話エージェントが扱うドメインにおけるジャンル名や
個々のジャンルに属する項目などの知識
\item[対話戦略:] \ref{sec:ditem}節で述べた個々のジャンルの対話項目
\item[文脈情報:] 個々の対話エージェントがユーザと対話を行なった検索履歴
\item[待遇判定情報:] 各対話エージェントが，その個性(他の対話エージェントと
異なることをアピールする属性)を決定する情報\cite{taiguu}
\end{description}
以下では，個々の対話エージェントが，上記のドメイン知識，対話戦略，文脈を
それぞれに保持することで変化する対話について説明する．

\begin{figure}[hp]
\begin{center}
\epsfile{file=eagent.eps,height=130pt}
\end{center}
\caption{各対話エージェントが保持する情報}\label{fig:eachagent}
\end{figure}

\subsection{ドメインごとに割り当てる対話エージェント}
\ref{ssec:issue}節で述べた最初の問題点を解決するために，
検索を行なう対話エージェントを異なるドメインごとに用意した．
このような対話エージェントをドメインエージェントと呼ぶ．
ドメインエージェントのイメージを図\ref{fig:agentD}に示す．

\begin{figure}[htbp]
\begin{center}
\epsfile{file=agentD.eps,height=180pt}
\end{center}
\caption{ドメインエージェント}\label{fig:agentD}
\end{figure}
ドメインエージェントは，各ドメインにおいて初歩的な対話戦略を保持し，
ユーザとシステム間のやりとりが可能な対話エージェントである．
ユーザがそれまで対話しているドメインと異なるドメインに関する入力を
行った場合には，その異なるドメインに割り当てられたドメインエージェントが
応答を行なう．
したがって，こうしたドメインエージェントを用意することで，ユーザは自分と
対話している対話エージェントがドメインにまたがる質問を受理できないと
気づき，ドメインにまたがる質問を行わないようになることが期待される．
\ref{ssec:issue}節の例1 に対するドメインエージェントを導入した例を
表\ref{tab:d-agent}に示す．この例では，ユーザが入力した質問文に対して，
映画に関するドメインエージェント({\tt C.agt})と旅行に関するドメインエージェント
({\tt T.agt})がそれぞれ，自分が可能な応答を行なっている．
このように，ドメインエージェントを用いることで，システムが異なるドメインに
またがる質問を受理できないことがユーザに理解されると期待する．

\begin{table}[ht]
\caption{ドメインエージェントを導入した対話例}\label{tab:d-agent}
\bigskip
\centering \tt
\begin{tabular}{ll}
\hline\hline
usr: & 山口百恵が主演した邦画にちなんだ温泉を知りたい。\\
C.agt: & 山口百恵が主演した邦画は，伊豆の踊り子，春琴抄など，13件あります。\\
T.agt: & 説明が邦画である温泉はありません。\\
usr: & 伊豆の踊子にちなんだ温泉を知りたい。\\
C.agt: & 別の言い方をしてください。\\
T.agt: & 場所を指定してください。\\
usr: & 日本全国。\\
C.agt: & 別の言い方をしてください。\\
T.agt: & 湯ケ野温泉です。\\
\hline\hline
\end{tabular}
\end{table}

\subsection{対話戦略ごとに割り当てる対話エージェント}\label{sec:strategy}
\ref{ssec:issue}節で述べた二番目の問題点を解決するために，
情報検索に関する特定の対話戦略ごとに割り当てた対話エージェント，
--対話戦略エージェント--を用意した．
対話戦略エージェントのイメージを図\ref{fig:agentS}に示す．

\begin{figure}[htbp]
\begin{center}
\epsfile{file=agentS.eps,height=180pt}
\end{center}
\caption{対話戦略エージェント}\label{fig:agentS}
\end{figure}
対話戦略エージェントは，単一のドメインにおいて，情報提供者側が
用意した対話戦略ごとに定義される．

本稿の実験システムでは，旅行のドメインに対して，以下の二種類の
対話戦略エージェントを用意した．
\begin{quote}
\begin{description}
\item[出張エージェント:] 必須条件を目的地とし，
付加条件を宿泊料と立地条件とする．
付加条件がユーザに指定されない場合，出張エージェントは
あらかじめ定義された付加条件の値をユーザに提案する．
また，デフォルトの結果項目として出張エージェントが応答する項目は
ホテルの名前とその電話番号である．
\item[リクレーションエージェント:] 必須条件はレジャー施設と
参加人数であり，それ以外の項目はオプショナルである．
ユーザがオプショナルの項目を指定しない場合，リクレーションエージェントが
あらかじめ定義された値をユーザに提案する．
デフォルトの結果項目としてレクレーションエージェントが応答する項目は
出張エージェントと同様，ホテルの名前とその電話番号である．
\end{description}
\end{quote}

対話戦略エージェントは，ユーザがシステムを容易に使えるようにするだけでなく，
単一ドメインにおいても，タスクに応じていろんな対話戦略が存在することを
ユーザに気づかせることができる．

旅行ドメインのドメインエージェントと，出張エージェントを用いた
対話の比較を表\ref{tab:s-agent}に示す．
表\ref{tab:s-agent}からわかるように，ユーザは対話戦略エージェントを
用いることによって，容易に自分の目標を達成できている．

\begin{table}[ht]
\caption{ドメインエージェントを用いた対話と対話戦略エージェントを用いた対話
の比較}\label{tab:s-agent}

\bigskip
\centering \tt
\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{旅行ドメインのドメインエージェント}\\
\hline\hline
agt0:& はい，旅行エージェントです。\\
usr1:& 鳥取市にあるホテルを知りたい。\\
agt1:& 34件あります。\\
usr2:& 駅前にあるホテルは。\\
agt2:& 8件あります。\\
usr3:& 宿泊料が8000円以下では。\\
agt3:& 他の条件，「立地条件が駅前」，を残しますか。\\
usr4:& はい。\\
agt4:& AAAホテル，ホテルBBBです。\\
usr5:& その電話番号を教えて。\\
agt5:& AAAホテルの電話番号は XXX-XXXX，ホテル BBB の電話番号はYYY-YYYYです。\\
\hline\hline
\end{tabular}　
\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{出張エージェント}\\
\hline\hline
agt0:& はい，出張エージェントです。どちらに出張なさいますか。\\
usr1:& 鳥取市です。\\
agt1:& 立地条件は駅前，宿泊料は8000円以下でよろしいですか。\\
usr2:& はい。\\
agt2:& 2件あります。AAAホテルの電話番号は XXX-XXXX，ホテル BBB の電話番号はYYY-YYYYです。\\
\hline\hline
\end{tabular}
\end{table}

\subsection{文脈ごとに割り当てる対話エージェント}

\ref{ssec:issue}節で述べた最後の問題点を解決するために，
一連の検索条件ごとに同一の対話戦略を持つ複数の対話エージェント
--文脈エージェント--を利用できるようにした．
文脈エージェントを用いると，ユーザは同一の対話戦略を用いて
異なる検索条件で一度に検索することができるようになる．
文脈エージェントのイメージを図\ref{fig:agentS}に示す．
\begin{figure}[htbp]
\begin{center}
\epsfile{file=agentC.eps,height=180pt}
\end{center}
\caption{文脈エージェント}\label{fig:agentC}
\end{figure}

典型的な検索条件，例えば，旅行ドメインにおける有名な観光地や
プロ野球ドメインにおける人気球団などは，それらの検索条件を予め
与えた文脈エージェントを用意している．
また，ユーザが対話の課程で別々の検索条件を割り当てた対話エージェントを
文脈エージェントとして扱うこともできる．

所在地の検索条件に「箱根」と「日光」を予めそれぞれ割り当てた
二つの文脈エージェントを用いた対話例を表\ref{tab:c-agent}に示す．
表\ref{tab:compare}と表\ref{tab:c-agent}を比較するとわかるように，
ユーザは複数の文脈エージェントを用いることによって，自分が比べたいと
思っている候補を容易に比較できている．

\begin{table}[htp]
\bigskip
\centering \tt
\caption{二つの文脈エージェントを用いた対話例}\label{tab:c-agent}
\begin{tabular}[t]{lp{120mm}}
\hline\hline
\multicolumn{2}{l}{(箱根エージェントと日光エージェントに対して)}\\
usr1:& 温泉を知りたい。\\
H.agt1:& 16件あります。\\
N.agt1:& 中禅寺温泉，日光湯元温泉です。\\
usr2:& 寺院はありますか。\\
H.agt2:& 阿弥陀寺，九頭竜明神，鎖雲寺，正眼寺など，7件あります。\\
N.agt2:& 大猷院霊廟，日光山輪王寺，日光東照宮，湯元温泉寺など，8件あり
ます。\\
\multicolumn{2}{l}{(日光エージェントに対して)}\\
usr3:& 日光東照宮の説明を聞きたい。\\
N.agt3:& 日光東照宮の説明は徳川家康の霊を崇る。陽明門に代表される華やかな
建築物は，神仏混合の様式で他に類をみない。です。\\
\hline\hline
\end{tabular}
\end{table}

\section{複数の対話エージェントの導入した対話モデルの評価}\label{sec:daev}
本章では対話エージェント導入の効果の評価実験について述べる．

\subsection{複数の対話エージェントを導入した検索システム--Multi TARSAN--}
今回提案した複数の対話エージェントを導入した対話モデルとを検証するための
実験システム - MultiTARSAN - を作成した．

\subsubsection{実行画面}
MultiTARSANの実行画面を図\ref{fig:main-w}に示す．
技術的には3つ以上の対話エージェントを同時に表示し，選択させることも
可能であるが，今回の実験システムでは，レイアウトの都合上，2つまでの
対話エージェントとの対話を同時に可能とした．
各対話エージェントには，3つのドメイン(旅行，プロ野球情報，映画情報)ごとに，
エージェント切替えメニューとエージェントアイコンおよび対話ログを持つ．

エージェント切替えメニューにより，各ドメインにおける戦略および文脈
エージェントの切替えを行なう．エージェントを切り替えると，エージェント
アイコンがそのエージェントのものに切り替わり，そのドメインがアクティブになる．
なお，アクティブになっているエージェントアイコンを押すと，そのエージェントは
アクティブでなくなる．
また，アクティブになってないエージェントアイコンを押すと，そのエージェントが
アクティブになるとともに，他のドメインでアクティブになっているエージェントが
あれば，アクティブになっているエージェントはアクティブでなくなる．
なお，図\ref{fig:main-w}は，システム立ち上げ後，ユーザが
エージェント1として一般旅行エージェントアイコンを押すことで，一般旅行
エージェントがアクティブになったところを示している．

ユーザが入力文を入力すると，アクティブになっているエージェントに入力文が
送られる．
すなわち，エージェント1で一般映画エージェント，エージェント2で一般旅行
エージェントをアクティブにすると表7のような対話を行なうことができ，
エージェント1で一般旅行エージェント，エージェント2で出張エージェントを
アクティブにすると表8のような対話を行なうことができる．
また，エージェント1と2で同じエージェントを選択すると，対話履歴は別々に
保持され，独立した対話を行なうことができる．したがって，エージェント1と2
の両方で一般旅行エージェントを選び，それぞれに，所在地として箱根と日光を
与えると，表9のような対話を行なうことができる．

なお，実際の導入前の対話システムは，旅行，プロ野球，映画という3つの
ドメインに対して，唯一の対話エージェントがユーザと対話を行なうもので
あったが，便宜上，MultiTARSANで，エージェント1のみを用い，対話
エージェントを一般旅行エージェントに固定したものを導入前のシステムと
等価であるとして，以下の実験を行なった．

\begin{figure}[htbp]
\begin{center}
\epsfile{file=main-w.eps,height=300pt}
\end{center}
\caption{MultiTARSANの実行画面}\label{fig:main-w}
\end{figure}
\subsection{対話エージェントの導入効果の評価実験}

複数の対話エージェントを導入したシステム(「導入後」と呼ぶ)を
対話エージェントが一つのシステム(「導入前」と呼ぶ)と比較することにより，
複数の対話エージェントを導入したことの効果を評価した．
ここで，「導入前」の一つの対話エージェントは旅行ドメインの
ドメインエージェントである．

8名の被験者を用いて実験を行ない，以下の二つの面から比較した．
\begin{quote}
\begin{description}
\item[ターン数:] 被験者がそれぞれのシステムとやりとりを行なった回数．
エージェント切り替えメニューからのエージェントの選択，エージェント
アイコンの押下によるエージェントのon/offも1回のターンとしてカウントする．
\item[セッション時間:] 被験者がそれぞれのシステムを用いて，
与えられた課題を達成するのに要した時間(秒)
\end{description}
\end{quote}

被験者は全員女性のタイピストであり，かつ，情報検索システムについても
自然言語処理対話システムについても初心者である．
被験者は実験システムの簡単な説明を受け，おのおの実験システムを約15分間
試用した後に，実験を行なった．
実験は二つのグループに分けて行なった．
グループ1(被験者a〜d)は，導入後を先，導入前を後に用い，
グループ2(被験者e〜h)は，導入前を先，導入後を後に用いた．

\subsubsection{実験1}
各被験者に以下の課題を与えた．
\begin{description}
\item[課題1:] あなたは倉敷市に出張します。
自分が泊まりたいホテルを見つけて下さい
\footnote{\cite{jtb}には倉敷市のホテルとして41軒が記載されている．}。
ただし，システムごとで異なるホテルを選んでも構いません。
\end{description}

実験1の結果を図\ref{fig:exam1}に，ターン数，セッション時間の平均を
表\ref{tab:mtexam1}に示す．また，実験で行なわれた対話の例を
表\ref{tab:ex1ex}に示す．

\begin{figure}[htbp]
\begin{center}
\epsfile{file=exam1.eps,height=150pt}
\end{center}
\caption{実験1の結果(全員)}\label{fig:exam1}
\end{figure}

\begin{table}[htp]
\caption{実験1の結果(平均)}\label{tab:mtexam1}
\centering \bigskip
\begin{tabular}{c|ccc|ccc}
\hline \hline
&\multicolumn{3}{c|}{グループ1(a〜d)} &
\multicolumn{3}{c}{グループ2(e〜h)}\\
& 導入前 & $\rightarrow$ & 導入後 &
導入後 & $\rightarrow$ & 導入前\\ \hline
ターン数 & 7.3 & & 4.0 & 4.5 & & 5.5\\
セッション時間 & 640 & & 175 & 190 & & 360\\
\hline \hline
\end{tabular}
\end{table}

\begin{table}[htp] 
\caption{実験2の対話例(グループ2の同一被験者)}\label{tab:ex1ex}
\bigskip\centering\footnotesize\tt

\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{導入前}\\
\hline\hline
一般旅行&	はい。一般旅行エージェントです。\\
USER&	倉敷にあるホテルを知りたい\\
一般旅行&	吉井旅館，倉敷ターミナルホテル，やま幸　，山水苑など，41件あります。\\
USER&	ホテルの条件を教えて\\
一般旅行&	行き方，料金，名称，場所，電話番号，立地条件，説明，駐車場，レジャー施設，室数があります。\\
USER&	その立地条件は\\
一般旅行&	市街が15件，海岸が7件，高台が5件，駅前が4件，田園が3件，河畔が2件，宅地が2件，駅内が1件，境内が1件，山上が1件あります。\\
USER&	立地条件が駅前では\\
一般旅行&	国民旅館大熊，倉敷ターミナルホテル，倉敷ステーションホテル，みさを旅館です。\\
USER&	その料金は\\
一般旅行&	国民旅館大熊の料金は60〜100　室40〜48，倉敷ターミナルホテルの料金はS60〜75　T120〜180，倉敷ステーションホテルの料金はS50〜56　T100〜110，みさを旅館の料金は100〜200　です。\\
USER&	倉敷ステーションホテルの電話番号は\\
一般旅行&	倉敷ステーションホテルの電話番号は0864-25-2525です。\\
\hline\hline
\end{tabular}　
\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{導入後}\\
\hline\hline
USER& (出張エージェントを選択)\\
出張&	ようこそ。出張エージェントでございます。場所を指定して下さい。\\
USER& 倉敷市です\\
出張&	立地条件は駅前，料金はS80以下でよろしいですか。\\
USER& はい\\
出張&	倉敷ターミナルホテルの電話番号は0864-26-1111，倉敷ステーションホテル
の電話番号は0864-25-2525でございます。\\
USER&	その説明は\\
出張&	倉敷ターミナルホテルの説明は駅近く商用・観光に適。レディースルームが14室あり好評。倉敷美観地区へ徒歩15分と近く観光に便利。
倉敷ステーションホテルの説明は駅前でビジネスに最適。内海の鮮魚の活魚料理と岡山ずしが好評。美観地区にも徒歩５分と近い。
でございます。\\
\hline\hline
\end{tabular}
\end{table}

導入前のシステムの対話エージェントは一般旅行エージェントに固定であるが，
導入後のシステムでは，被験者はすべて出張エージェントを選んだ．

両方のグループとも，ターン数，セッション時間の両方で，
導入前を用いた対話より導入後を用いた対話の方が少なかった．
また，導入前を用いた対話は，先に導入前を用いたグループ2に比べ，
導入後を先に用いたグループ1の方が，特にセッション時間について
少なかった(グループ2の640秒に対し360秒)．
このことは，典型的な対話戦略を持つ導入後のシステムを用いたことにより，
被験者が対話戦略を持たない導入前のシステムに対して容易に検索が
可能になったことを示していると考えられる．
また，両者のシステムで異なるホテルを選んだ6名の被験者は全員
導入後のシステムを用いて選んだホテルの方が条件が良いと答えた．

\subsubsection{実験2}

各被験者に以下の課題を与えた．
\begin{description}
\item[課題2:] あなたは観光旅行で行くのに金沢か仙台のどちらかを
選ばなければなりません．
検索した情報を用いて両者を比較し，どちらかを選んで下さい．
(検索結果の多少にかかわらず，どちらかに決めた時点で終了して
構いません．)
\end{description}

実験2の結果を図\ref{fig:exam2}に，ターン数，セッション時間の平均を
表\ref{tab:mtexam2}に示す．また，実験で行なわれた対話の例を
表\ref{tab:ex2ex}に示す．

\begin{figure}[htbp]
\begin{center}
\epsfile{file=exam2.eps,height=150pt}
\end{center}
\caption{実験2の結果(全員)}\label{fig:exam2}
\end{figure}

\begin{table}[htp]
\caption{実験2の結果(平均)}\label{tab:mtexam2}
\centering \bigskip
\begin{tabular}{c|ccc|ccc}
\hline \hline
&\multicolumn{3}{c|}{グループ1(a〜d)} &
\multicolumn{3}{c}{グループ2(e〜h)}\\
& 導入前 & $\rightarrow$ & 導入後 &
導入後 & $\rightarrow$ & 導入前\\ \hline
ターン数 & 7.0 & & 13.0 & 12.8 & & 8.5\\
セッション時間 & 442 & & 420 & 458 & & 526\\
\hline \hline
\end{tabular}
\end{table}

\begin{table}[htp] 
\caption{実験2の対話例(グループ1の同一被験者)}\label{tab:ex2ex}
\bigskip\centering\footnotesize\tt

\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{導入前}\\
\hline\hline
一般旅行&	はい。一般旅行エージェントです。\\
USER&	金沢にある郷土料理を教えて。\\
一般旅行&	甘えび，カニ料理，ごり料理，たらの子つけなど，12件あります。\\
USER&	郷土料理の条件を教えて。\\
一般旅行&	名称，場所，説明，読み方があります。\\
USER&	ごり料理の説明は。\\
一般旅行&	場所を指定して下さい。\\
USER&	金沢です。\\
一般旅行&	ごり料理の説明は金沢市内を流れる川にすんでいるまごりを使った料理。ごりは体長７〜１０ｃｍ程の魚で、見かけ良くないが、香ばしい独特の味を持つ。昔は冬の保存食として佃煮などに使われたが、今は貴重な魚となってしまっている。料理は主に唐揚げと味噌汁など。市内常盤町のごりや（０７６２）５２−２２８８などで。
です。\\
USER&	仙台にある郷土料理を知りたい。\\
一般旅行&	おくずかけ，カキ料理，山菜料理，ずんだ餅など，5件あります。\\
USER&	ずんだ餅の説明は。\\
一般旅行&	ずんだ餅の説明は枝豆をすりつぶし、砂糖と少量の塩，しょう油，酒，みりんで味を整えたアンをからめたお餅。鮮やかな緑色が美しく、自然の豆の香りが郷愁をさそう。７〜８月が最もおいしい。高新餅店（０２２）２２２−２２５０，河童亭（０２２）２６５−１８７６。
です。\\
\hline\hline
\end{tabular}　
\begin{tabular}[t]{lp{50mm}}
\multicolumn{2}{c}{導入後}\\
\hline\hline
USER& (金沢エージェントを選択)\\
金沢&	ようこそ。金沢エージェントでございます。\\
USER& (仙台エージェントを選択)\\
仙台&	はい。仙台エージェントです。\\
USER&	郷土料理を教えて。\\
金沢&	甘えび，カニ料理，ごり料理，たらの子つけなど，12件ございます。\\
仙台&	おくずかけ，カキ料理，山菜料理，ずんだ餅とか，5件あります。\\
USER&	美術館はありますか。\\
金沢&	石川県立美術館，中村記念美術館でございます。\\
仙台&	赤門美術館，仙台市民ギャラリー，福島美術館，宮城県美術館です。\\
    & (中略)\\
USER&	行事祭事を知りたい。\\
金沢&	加賀とび出初式，加賀百万石まつり，金石湊まつり，観光花火大会など，6件ございます。\\
仙台&	秋保大滝春の大祭，定義如来夏の祭典，仙台七夕まつり，七日堂ごまたきと
か，13件あります。\\
    & (中略)\\
USER&	公開日が5月では。\\
金沢&	条件に該当するデータはございません。\\
仙台&	仙台青葉まつりです。\\
USER& (金沢エージェントをoff)\\
USER&   その説明は。\\
仙台&   仙台青葉まつりの説明は伊達模様武者行列，おみこし，山鉾巡行，すずめ踊
りが街をねり歩く，です。\\
\hline\hline
\end{tabular}
\end{table}

導入前のシステムの対話エージェントは一般旅行エージェントに1つに固定であるが，
導入後のシステムでは，被験者はすべて，一般旅行エージェントに検索条件として
予め所在地に金沢と仙台を与えた文脈エージェントである金沢エージェントと仙台
エージェントの両方を2画面で選んだ
\footnote{実験システムの旅行ドメインには，3.3節で述べた日光，箱根や仙台，
金沢の他に，函館，高山，伊勢等，16箇所の観光地を予め検索条件とした文脈エージェントを
用意した．}

本実験では，興味深い現象が観察された．
このような複雑な処理を伴なう複数の目標を比較する課題において，
被験者は，検索した情報を比較した結果よりもむしろ，
あるセッション時間が来ると比較をやめる傾向があった．
被験者のセッション時間は，用いたシステム，得られた検索結果の
多少にかかわらず，すべて5分から10分の間であった．
そして，導入後のシステムの方が導入前のシステムより
多くの検索結果が得られていた．
\bigskip

上記の実験結果をまとめると，複数の対話エージェントを導入することにより，
\begin{itemize}
\item 用意された対話戦略を保持する(賢い)対話エージェントと対話する
ことにより，それ以外の(馬鹿な)対話エージェントに対しても効率的な
情報検索を行なえた．
\item 候補を択一する状況において，ユーザは，比較検討する条件の
検索結果より，決定するまでの時間に左右される傾向がある．
しかし，決定するまでの時間内に，より多くの検索条件による結果を
得られたほうが，ユーザはより得心できたであろう．
\end{itemize}
と考えられる．

\section{おわりに}
本稿では，自然言語の対話を用いた情報検索において，複数の対話エージェントを
導入し，ドメイン，対話戦略，文脈という３つの局面で，ユーザが対話エージェントを
切り替えることで，効率的な情報検索対話を行なう対話モデルを採用した．
そして，その対話モデルをモデル化文書をコンテンツとした複数の電子ブックの
情報検索に適用し，その対話モデルの有効性を確認した．

今後の課題としては，以下のものが挙げられる．
\begin{itemize}
\item 複数のドメインを統合する対話知識の検討
\item より自由な対話局面で，対話エージェントを設定・切り替えるための
ユーザインタフェースの改良
\item インターネットなど，よりオープンな環境での情報検索を実験することでの
本提案の有効性の検証
\end{itemize}

\acknowledgment

本研究は，(当時)情報メディア研究所 ヒューマンインタフェース第三研究室にて
行ないました．
議論をしていただいた藤田稔部長，八木沢津義室長にお礼を申し上げます．
また，本発表を行なうに当たり，お力添えをいただいた柴山茂樹所長，
小森康弘室長に感謝をいたします．


\bibliographystyle{jnlpbbl}
\bibliography{honbun}

\begin{biography}
\biotitle{略歴}
\bioauthor{酒井 桂一}{
1987年京都大学工学部電気工学第二学科卒業．
1989年同大学院修士課程修了．
同年，キヤノン株式会社入社，現在に至る．
自然言語処理，音声対話処理，マルチモーダルインタフェースの研究に従事．}
\bioreceived{受付}
\biorevised{再受付}
\bioaccepted{採録}

\end{biography}

\end{document}
