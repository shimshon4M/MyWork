<?xml version="1.0" ?>
<root>
  <jtitle>レシピ用語の定義とその自動認識のためのタグ付与コーパスの構築</jtitle>
  <jauthor>笹田鉄郎森信介山肩洋子前田浩邦河原達也</jauthor>
  <jabstract>自然言語処理において，単語認識（形態素解析や品詞推定など）の次に実用化可能な課題は，ある課題において重要な用語の認識であろう．この際の重要な用語は，一般に単語列であり，多くの応用においてそれらに種別がある．一般的な例は，新聞記事における情報抽出を主たる目的とした固有表現であり，人名や組織名，金額などの7つか8つの種別（固有表現クラス）が定義されている．この重要な用語の定義は，自然言語処理の課題に大きく依存する．我々はこの課題をレシピ（調理手順の文章）に対する用語抽出として，レシピ中に出現する重要な用語を定義し，実際にコーパスに対してアノテーションし，実用的な精度の自動認識器を構築する過程について述べる．その応用として，単純なキーワード照合を超える知的な検索や，映像と言語表現のマッチングによるシンボルグラウンディングを想定している．このような背景の下，本論文では，レシピ用語タグセットの定義と，実際に行ったアノテーションについて議論する．また，レシピ用語の自動認識の結果を提示し，必要となるアノテーション量の見通しを示す．</jabstract>
  <jkeywords>固有表現認識，用語抽出，レシピ，コーパス，アノテーション</jkeywords>
  <section title="はじめに">自然言語処理において，単語認識（形態素解析や品詞推定など）の次に実用化可能な課題は，用語の抽出であろう．この用語の定義としてよく知られているのは，人名や組織名，あるいは金額などを含む固有表現である．固有表現は，単語列とその種類の組であり，新聞等に記述される内容に対する検索等のために7種類（後に8種類となる）が定義されている．固有表現認識はある程度の量のタグ付与コーパスがあるとの条件の下，90%程度の精度が実現できたとの報告が多数ある．しかしながら，自然言語処理によって自動認識したい用語は目的に依存する．実際，IREXにおいて固有表現の定義を確定する際もそのような議論があった．例えば，ある企業がテキストマイニングを実施するときには，単に商品名というだけでなく，自社の商品と他社の商品を区別したいであろう．このように，自動認識したい用語の定義は目的に依存し，新聞からの情報抽出を想定した一般的な固有表現の定義は有用ではない．したがって，ある固有表現の定義に対して，タグ付与コーパスがない状態から90%程度の精度をいかに手早く実現するかが重要である．昨今の言語処理は，機械学習に基づく手法が主流であり，様々な機械学習の手法が研究されている．他方で，学習データの構築も課題であり，その方法論やツールが研究されている．特に，新しい課題を解決する初期は学習データがほとんどなく，学習データの増量による精度向上が，機械学習の手法の改善による精度向上を大きく上回ることが多い．さらに，目的の固有表現の定義が最初から明確になっていることは稀で，タグ付与コーパスの作成を通して実例を観察することにより定義が明確になっていくのが現実的であろう．本論文では，この過程の実例を示し，ある固有表現の定義の下である程度高い精度の自動認識器を手早く構築するための知見について述べる．本論文で述べる固有表現は，以下の条件を満たすとする．以上の条件は，品詞タグ付けに代表される単語を単位としたタグ付けの手法を容易に適用させるためのものである．その一方で，日本語や中国語のように単語分かち書きの必要な言語に対しては，あらかじめ単語分割のプロセスを経る必要があるという問題も生じるが，本論文では単語分割を議論の対象としないものとする．本論文では，題材を料理のレシピとし，さまざまな応用に重要と考えられる単語列を定義し，ある程度実用的な精度の自動認識を実現する方法について述べる．例えば，「フライ返し」という単語列には「フライ」という食材を表す単語が含まれるが，一般的に「フライ返し」は道具であり，「フライ返し」という単語列全体を道具として自動認識する必要がある．本論文ではこれらの単語列をレシピ用語と定義してタグ付与コーパスの構築を行い，上述した固有表現認識の手法に基づく自動認識を目指す．レシピ用語の想定する応用は以下の2つであり，関連研究（2.3節）で詳細を述べる．これらの応用の先には，レシピの手順書としての構造を考慮し，調理時に適切な箇所を検索して提示を行う，より柔軟なレシピ検索や，レシピの意味表現と進行中の調理動作の認識結果を用いた調理作業の教示がより高い精度で実現できるであろう．本論文では，まずレシピ用語のアノテーション基準の策定の経緯について述べる．次に，実際のレシピテキストへのアノテーションの作業体制や環境，および作業者間の一致・不一致について述べる．最後に，作成したコーパスを用いて自動認識実験を行った結果を提示し，学習コーパスの大きさによる精度の変化や，一般固有表現認識に対して指摘されるカバレージの重要性を考慮したアノテーション戦略の可能性について議論する．本論文で対象とするレシピテキストはユーザ生成コンテンツ(UserGeneratedContents;UGC)であり，そのようなデータを対象とした実際のタグ定義ならびにアノテーション作業についての知見やレシピ用語の自動認識実験から得られた知見は，ネット上への書き込みに対する分析など様々な今日的な課題の解決の際に参考になると考えられる．</section>
  <section title="関連研究">節で述べたとおり，我々の提案するレシピ用語タグ付与コーパスは，レシピテキストが単語に分割されていることを前提としている．本節では，まずレシピテキストに対する自動単語分割の現状について述べる．次に，系列ラベリングによるレシピ用語の自動認識手法として用いる，一般的な固有表現認識手法について説明する．最後に，レシピ用語の自動認識結果の応用について述べる．</section>
  <subsection title="レシピテキストに対する自動単語分割">本論文で提案するレシピ用語タグ付与コーパスは，各文のレシピ用語の箇所が適切に単語に分割されていることを前提としている．したがって，コーパス作成に際しては，自動単語分割や形態素解析などを前処理として行い，レシピ用語の箇所のみを人手で修正することが必要となる．点予測による単語分割自動単語分割器や形態素解析器をレシピテキストに適用する際に問題となるのは，分野の特殊性に起因する解析精度の低下である．実際，文献では，『現代日本語書き言葉均衡コーパス』から学習した自動単語分割器によるレシピに対する単語分割精度が96.70%であり，学習コーパスと同じ分野のテストコーパスに対する精度(99.32%)よりも大きく低下することを報告している．この文献ではさらに，10時間の分野適応作業を行い，精度が97.05%に向上したことを報告している．本論文で詳述するレシピ用語タグ付与コーパスの構築に際しては，レシピ用語となる箇所の単語境界付与も行うことになる．この作業を実際に行う際には，まず前処理としてレシピテキストに対する自動単語分割を行い，その後人手でレシピ用語となる箇所を確認しながらタグ付与を行っている．しかしながら，レシピ用語とならない箇所への単語境界情報付与はアノテーションコストの増加を避けるため行っていない．したがって，自動単語分割の学習コーパスとしては，文の一部（レシピ用語となる箇所）にのみ信頼できる単語境界情報が付与されており，レシピ用語以外の箇所においては信頼性の低い単語境界情報を持つ部分的単語分割コーパスとみなすことができる．部分的単語分割コーパスも学習コーパスとすることが可能な自動単語分割器(森他2011)を用いる場合は，我々のコーパスにより，自動単語分割の精度も向上すると考えられる．</subsection>
  <subsection title="固有表現認識">一般分野の固有表現タグ付与コーパスとして，新聞等に人名や組織名などのタグを付与したコーパスがすでに構築されている．~節で述べたように，本論文で述べる固有表現は単語列であり，コーパスに対するアノテーションでは，以下の例が示すようにIOB2方式を用いて各単語にタグが付与される．ここで，Datは日付，Perは人名，Orgは組織名を意味し，それぞれに最初の単語であることを意味するB(Begin)や同一種の固有表現の継続を意味するI(Intermediate)が付与されている．さらに，O(Other)はいずれの固有表現でもないことを意味する．本論文では，各単語に付与されるタグをIOB2タグと呼ぶ．また，単語列に与えられる固有表現クラスを固有表現タグ（上の例ではDatやPerなど）と呼ぶこととする．したがって，IOB2タグの種類数は固有表現タグの2倍より1多い．これは本論文で取り扱うレシピ用語に関しても同様であり，それぞれをIOB2タグ・レシピ用語タグと記述する．自動固有表現認識は，系列ラベリングの問題として解かれることが多い．一般分野の固有表現認識に対しては，1万文程度の学習コーパスが利用可能な状況では，80%〜90%の精度が得られると報告されている．レシピの自然言語処理においては，これら一般的分野の固有表現タグセットは有用ではない．出現する人はほぼ調理者のみであり，人名や組織名は出現することはない．人工物のほとんどは，食材と道具であり，これらを区別する必要がある．数量表現としては，継続時間と割合を含む量の表現が重要である．さらに，一般分野における固有表現タグセットとの重要な差異として，調理者の行動や食材の挙動・変化を示す用言を区別・認識する必要が挙げられる．このような分析から，我々はレシピ用語のタグセットを新たに設計した．レシピ用語の定義については，次節以降で詳述する．ただし，多くの固有表現抽出の研究を踏襲し，レシピ用語は互いに重複しないこととし，レシピ用語の自動認識の課題に対しては，一般的分野の固有表現認識と同様の手法を用いることが可能となるようにした．</subsection>
  <subsection title="レシピ用語の自動認識の応用">レシピを対象とした自然言語処理の研究は多岐にわたる．ここでは，我々のコーパスが貢献できるであろう取り組みに限定して述べる．山本らは，大量のレシピに対して食材と調理動作の対を抽出し，調理動作の習得を考慮したレシピ推薦を提案している．この論文では，レシピテキストを形態素解析し，動詞を調理動作とし，予め用意した食材リストにマッチする名詞を食材としている．食材に対しては，複合語が考慮されており，直前が名詞の場合にはこれを連結する．この論文での食材と調理動作の表現の認識は非常に素朴であり，未知語の食材名に対応することができないことや，食材が主語となる動詞（レシピテキストに頻出）を調理動作と誤認するなどの問題点が指摘される．Hamadaらは，レシピを木構造に自動変換することを提案している．変換処理の第一段階として，食材や調理動作の認識を行っている．しかしながら，認識手法は予め作成された辞書との照合であり，頑健性に乏しい．以上の先行研究では，いずれも，食材や調理動作等をあらかじめリストとして用意することで問題が生じていると考えられる．我々の提案するレシピ用語タグ付与コーパス，およびそれを学習データとして構築されるレシピ用語の自動認識器は，その問題を解決しようとするものである．加えて，レシピ用語の自動認識には，これを実際に行っている調理映像とのマッチングなどの興味深い応用がある．映像処理の観点からは，調理は制御された比較的狭い空間で行われるので，カメラなどの機材の設置が容易であり，作業者が1人であるため重要な事態はほぼ1箇所で進行し，比較的扱いやすいという利点がある．実際，映像処理の分野では，実際に調理を行っている映像を収録しアノテーションを行っている．あるレシピのレシピ用語の自動認識結果と当該レシピを実施している映像の認識結果とを合わせることで，映像中の食材や動作の名称の推定や，テキスト中の単語列に対応する映像中の領域の推定（図参照）を含む自然言語処理以外の分野にも波及する研究課題を実施する題材となる．さらに，本論文で詳述するコーパス作成に関する知見は，レシピ以外の分野の手順文章においても，映像との統合的処理や新たな機能を持つ検索などの実現の参考になると考えられる．</subsection>
  <section title="レシピ用語タグセットの定義">節で述べたとおり，レシピテキストのように，新聞とは異なる利用目的をもつ言語資源を取り扱う場合，一般的な固有表現の定義は有用ではない．そこで我々はレシピを用いて調理を行う際に必要となるレシピ用語を分類，定義した．本節で述べるレシピ用語の一部は先行研究で用いられていた表現分類を踏襲しているが，コーパス構築を行う過程で，先行研究における分類だけではカバーできないと判断したレシピ中の重要表現を新しく定義し，追加した．レシピ用語タグの一覧を表に示す．実際のコーパス構築においては各単語にIOB2タグ（節参照）を付与するという形でCOOKPADが公開しているレシピの中から無作為抽出で選択した436レシピにアノテーションを行った．構築したコーパスの詳細を表に示す．なお，後述する評価実験ではコーパスを学習・テストに分割して実験を行うため，表~には分割後の詳細を示している．また，アノテーションを行ったコーパス中のレシピ用語タグ付与数の分布，ならびにタグごとの平均単語長と最大単語長を表に示す．以下では，8種類のレシピ用語タグについて個別に例を挙げながら述べる．なお，本節以降では簡単の為IOB2タグ形式を用いた表記ではなく，「例）/パイ生地/Fを/焼/Acく」のように，「/単語列/レシピ用語タグ名」の形式でレシピ用語タグの範囲を示し，例文を記述する．</section>
  <subsection title="F: 食材">レシピテキストにおいては調理対象である食材，ならびに調理を行うための道具が主な人工物として記述される．中でも食材は調理における動作の目的語，食材の変化や状態の遷移の主語となるため，レシピに記述された手続きの要素として過不足無く抽出されることが望ましい．また，レシピにおいては，中間食材や食材の集合を番号や記号・代名詞によって表現する事例が多い．以上を踏まえ，以下に挙げる単語列を『F:食材』と定義した．</subsection>
  <subsection title="T: 道具">鍋，蓋，包丁，コンロなど，調理道具や器等を道具表現とする．手や指などの体の一部も道具表現になる場合がある．食せない，量が変化しない点以外は『F:食材』のルールを踏襲する．例）/3分/D/レンジ/Tを/し/Acてからただし，「『T:道具』（する）」という表現は，後述する『Ac:調理者の動作』となりうる．この場合には，『Ac:調理者の動作』のアノテーションを優先する．例）/3分/D/レンジ/Acする以下に示す「弱火」の例では「コンロ」「鍋」といった調理に必要な道具が明示されていないが，実際の調理ではそのような道具を用いて調理する意味を含んでいるため，道具とする．例）/弱火/Tで/煮/Acる以下の「水」や「手」も道具とする．例）/水/Tで/洗/Acって例）/手/Tで/洗/Acって</subsection>
  <subsection title="Ac: 調理者の動作 / Af: 食材の変化">『Ac:調理者の動作』は調理者を主語にとって調理者が行う動作を示す用言であり，『Af:食材の変化』は『F:食材』を主語として食材の変化を示す用言である．『Ac:調理者の動作』と『Af:食材の変化』は異なるレシピ用語として定義されるが，アノテーションの際には両者を混同しやすい事例が頻出するため，本項でまとめて例を述べる．いずれも，同一性判定を容易にするために，活用語尾を含めない．動作を修飾する，「よく」「ざっくり」などの副詞表現も，同様の理由によりレシピ用語としない．調理者が行う動作を示す用言を『Ac:調理者の動作』とする．例）/フライパン/Tを/温め/Acる『F:食材』を主語としてその変化を示す用言を『Af:食材の変化』とする．例）/沸騰/Afし始めたら使役・否定の助動詞を伴う場合のみ，これらの助動詞語幹までを含めて『Ac:調理者の動作』とする．受動の助動詞を伴う場合，主語が『F:食材』であれば実際には調理者を主語として『F:食材』を対象とした調理行動を行っているとし，『使役，否定』の場合と同様に助動詞語幹までを含め『Ac:調理者の動作』とする．なお，本論文でタグ付与の対象としたレシピテキストにおいて『F:食材』を主語とした受動態の事例は確認されなかったため，以下では使役・否定の事例のみを挙げる．例）/沸騰させ/Acたら例）/沸騰しな/Afいように目的語など格助詞で示される「項」を含めない．例）/皮/Fを/む/Acいて複合動詞は全体を調理動作とする．例）/ふる/Acっておいた/薄力粉/Fを/振るいいれ/Ac開始や完了などをあらわす補助的な動詞は含まない．例）/煮込/Acんでいく例）/煮た/Afってくる動詞派生名詞やサ変名詞などの事態性名詞も動作とする．例）/ねぎ/Fを/みじん切り/Acする．例）/ねぎ/Fを/みじん切り/Sfに/する/Ac．『F:食材』で述べたように，商品名など，実際に行わない用言は『F:食材』に含める．例）/とろけるチーズ/F例）/水溶き/Ac/片栗粉/F</subsection>
  <subsection title="Sf: 食材の様態">レシピテキストでは，調理の進行度合いや食材の変化を伝えるために個々の時点における食材の様態が記述される．『Ac:調理者の動作』や『Af:食材の変化』の影響によって食材が変化する（した）状態を表す表現を『Sf:食材の様態』とする．例）/柔らか/Sfく/な/Afるまで/煮/Acる例）/色/Sfが/変わ/Afる以下の例に示すように，『Sf:食材の様態』は，見た目，大きさ，分量などの様々な単語を含んでおり，一つのレシピ用語を構成する単語数が多くなりやすい．このため，アノテーションを行う際に作業内容の一貫性を担保しにくい未知の『Sf:食材の様態』が多く出現するという問題が発生する．この問題の詳細については3.8節で後述する．例）/やっと手を入れられるくらい/Sfのお/湯/F例）/にんじん/Fを/だいたい薄さ５ｍｍ/Sfに/切/Acる</subsection>
  <subsection title="St: 道具の様態">用意された道具様態の初期状態を表す表現，並びにAcやAfの影響で遷移する（した）状態を表す表現をStとする．例）/弱火/Stの/フライパン/Tで/炒め/Acる例）/オーブン/Tを/150度/Stに/予熱/Acする『St:道具の様態』は，『T:道具』の例例）/弱火/Tで/煮/Acると混同しやすいが，文中で調理過程における道具が明示され，その道具の状態を示している表現を『St:道具の様態』と定義する．</subsection>
  <subsection title="D: 継続時間">加熱時間や冷却時間など，加工の継続時間を示す．数字と単位のほか，それらに対する修飾語句も含める．例）/12〜15分間/D/煮込/Acみます例）/5分くらい/D例）/2日後くらい/Dが/食べ時/Afです!</subsection>
  <subsection title="Q: 分量">食材の一部を用いた調理動作を行う場合，その一部が量として表される場合にその表現を『Q:分量』とする．数字と単位のほか，それらに対する修飾語句も含める．例）/人参/F/３〜４ｃｍくらい/Qを/鍋/Tに/入れ/Ac例）/酒/F/大さじ２/Qを/加え/Ac</subsection>
  <subsection title="レシピ用語タグの付与が困難な事例">1節で述べたように，本論文においてアノテーションの対象とするレシピテキストは推敲が乏しく，レシピとは関係のない内容も多く含まれる．このため，本節で述べたレシピ用語の定義を用いて実際にアノテーションを行うと，レシピ用語タグを付与するべきか否かの判断に迷う部分が出現する．とくに，タグ付与数の多いレシピ用語タグほど，レシピ用語となる表現のバリエーションも多く，その分アノテーション作業に時間を要すると考えられる（タグ付与数の分布は表を参照）．以下では，レシピ用語タグを付与する際にアノテーションの困難であった事例を列挙し，現状でのアノテーション処理を述べる．入れ子：表の平均単語数と最大単語数からわかるとおり，『Sf:食材の様態』，『D:継続時間』，『St:道具の様態』，『Q:分量』は他のレシピ用語タグと比較して長い単語列となりやすく，以下の例のように入れ子構造が発生することがある．例）/やっと/手/Tを入れられるくらい/Sfのお/湯/Fこのような場合は，より長い単語列のレシピ用語タグ（上述した例では『Sf:食材の様態』）を優先し，アノテーションを行う．調理と関係のない記述：食事の感想など，調理とは直接関係の無い記述に調理に関連する表現が出現することがある．例えば，レシピ中に出現する用言のほとんどは『Ac:調理者の動作』もしくは『Af:食材の変化』であるが，上述した理由によりそれ以外の用言も存在する．これらの表現にはレシピの検索や構造の把握といった応用においては優先度が低く，また作業者への負担が大きくなるため，すべてOタグを付与する．また人名や地域名といった，調理とは直接関係のない固有名詞に関しては，本節で述べた各レシピ用語タグの付与対象となる単語列の一部となっていない限りOタグを付与する．他のレシピIDの参照：まれに他のレシピIDを参照して調理手順や材料を示す事例が見られるが，これらのレシピIDにはOタグを付与し，1つのレシピのみでアノテーション作業を完結させる．記述内容の一部だけが実際の調理に対応付けられる：「〜ならば，〜する」，「〜する（または〜する）」といった仮定表現や括弧表現などには，実際に行われない調理行動を含めた表現が複数レシピに記述されることがある．この場合は，実際に行われる調理行動は不明であり，また，一般的な固有表現認識の手法ではそれらを区別することはできない．このような事例では，すべての表現にレシピ用語タグを付与する．例）/フライパン/Tに/グレープシードル/F（または/オリーブオイル/F）をひいて</subsection>
  <section title="レシピ用語の自動認識">固有表現認識タスクは，各単語に対してIOB2タグを推定する，系列ラベリング問題として解くことが一般的であり，SVMや点予測などを用いた手法が提案されている．本節では，点予測によるIOB2タグ推定と動的計画法による経路探索による手法を用いてレシピ用語の自動認識実験を行い，作成したコーパスの精度を評価する．また，学習コーパスに現れない未知のレシピ用語の推定事例についての事例を示し，議論する．本実験のための学習コーパスならびにテストコーパスとして，節で述べたレシピ用語タグ付与コーパスを用いる（表参照）．</section>
  <subsection title="レシピ用語の自動認識と精度評価">本節では点予測によるレシピ用語の自動認識手法について概説し，自動認識実験の結果と考察を述べる．まず，IOB2タグの付与された学習コーパスを用いてロジスティック回帰に基づく識別器を構築し，テストコーパスの各単語w_iに対応するIOB2タグt_jごとの確率s_i,jを以下の式により推定する．[s_i,j=P_LR(t_j|x^-,w_i,x^+).]x^-=x^-2x^-1,x^+=x^+1x^+2はそれぞれ単語w_iの前後の文字列を示す．本論文で用いるロジスティック回帰識別器の素性の一覧をfeat_lrに示す．表中のc(x)はxに対応する文字種（漢字，平仮名，片仮名，数字，アルファベット，記号）を得る関数である．次に，IOB2タグを用いた固有表現はIタグから始まらない等のタグ制約を適用しながら，各単語までの経路の中で確率最大となるようにIOB2タグを順に選んでいくことで最適経路を決定し，自動認識器の最終的な出力とする（図参照）．学習コーパスの量を5段階に調節して自動認識実験を行った結果を表に示す．また，レシピ用語タグ別の評価として，各タグごとのカバレージを図に，自動認識精度（F値）を図に示す．ここで，表，図，図におけるカバレージは，テストコーパスに出現するIOB2タグあるいはレシピ用語タグのうち，学習コーパスにも出現したタグの割合（頻度を加味する．）である．また，表におけるIOB2タグ推定精度は，テストコーパス中のIOB2タグに対する，自動認識システムが出力したIOB2タグの一致率を示し，レシピ用語タグの自動認識精度はF値を示している．表から，一般分野の固有表現認識と同様に，学習コーパスの増加に伴い自動認識精度が向上していることが分かる．また，学習コーパスの分量が少量の状態で，学習コーパスのテストセットカバレージが50%程度の場合であっても，自動認識精度は70%以上の水準を達成しており，レシピ用語タグ付与コーパスを用いた固有表現認識手法が有効に機能していることがわかる．特に，『D:継続時間』に関しては，図と図の該当タグ部分より，10%程度の低いカバー率しか達成できていない学習コーパスを利用した場合においても70%以上の自動認識精度を達成可能であることがわかる．この要因として，『D:継続時間』が数詞と単位からなる単語列に付与されるレシピ用語タグであるために，文字並びに文字種を素性とした固有表現認識が効果的に機能していることが考えられる．次に，図から，『F:食材』，『T:道具』，『Ac:調理者の動作』，『Af:食材の変化』，の4種類のタグについては，一般分野の固有表現認識精度（1万文程度の学習コーパスで80%〜90%）と同程度であり，すでに比較的高い精度が達成されていることがわかる．『Sf:食材の様態』に関しては，『T:道具』と同程度のアノテーション数があるにも関わらず精度は70%程度にとどまっている．この要因として，『Sf:食材の様態』には機能語や別のレシピ用語タグの一部がしばしば含まれており，長い単語列となっている（節を参照）ことが自動認識を困難にしているということが考えられる．『St:道具の様態』，『D:継続時間』，『Q:分量』については，『D:継続時間』のみ90%を超えているが，他の2種類に関しては60%〜70%の精度である．また，表から，上述した3種類のタグは他のタグに比較して学習コーパス中のアノテーション数が不十分であることがわかる．今後は，これらのタグに対するアノテーションを増加させることで容易に精度を向上させることが可能であろう．また，レシピ以外の分野における固有表現認識タスクにおいても，本実験で示したようにタグごとの検討を行って優先的にアノテーションするべきタグを選択し，効率的に固有表現認識器を構築することが可能である．</subsection>
  <subsection title="未知のレシピ用語タグの推定事例">本節では，上述のレシピ用語の自動認識実験において，テストセットにおける未知のレシピ用語に対し，正しくタグが推定されているかどうかについて，その事例を示し，議論する．以下に示す自動推定結果の例では，学習セットに現れなかった未知のレシピ用語を太字で示す．未知の『Sf:食材の様態』が出現する場合，ニ格を伴う場合や食材の切り方を示す場合には，識別器によって適切にタグ推定が行われている．例）/サイコロ切り/Sfにする/Ac．その一方で，節で述べた『Sf:食材の様態』のような長い単語列となるレシピ用語タグの自動推定精度は下がる傾向にある．以下の例において，正しい『Sf:食材の様態』の範囲は「１〜２ｍｍ位」であるが，自動推定では「１〜２」と誤って推定されている．例）/１〜２/Sfｍｍ位で．テストセットでは現れなかったが，節に示したようにさらに長い単語列を『Sf:食材の様態』とする場合もあるため，『Sf:食材の様態』の自動推定は他のレシピ用語タグに比較して困難になると考えられる．『Ac:調理者の動作』に関しては，以下の例のように1文中において複数の単語が連続でAcと推定される事例（「所々」はAcではないため，誤り）が見られた．例）皮/Fを/所々/Ac/剥/Acきレシピテキストにおいては，「『F:食材』を『Ac:調理者の動作』」という表現が多く出現することが原因であると考えられるが，レシピの構造を把握するなどの応用を考えると，誤った『Ac:調理者の動作』が増加することは応用全体の精度低下につながるため，品詞情報を識別器の素性に加えるなどの対策が必要になると考えられる．</subsection>
  <section title="実際のアノテーション作業とその考察">本節では，実際にコーパスを作成した過程で得られた知見として，まずコーパスのアノテーション手順について述べる．次に，レシピ用語の自動認識器の精度を効率的に向上させるためのアノテーション戦略のシミュレーションについて述べる．</section>
  <subsection title="アノテーション手順">大量のレシピテキストに対して研究者がレシピ用語タグを付与することは事実上不可能であるため，まずアノテーション基準を決めた上で作業者にアノテーションを行ってもらうことが一般的である．しかしながら，節で述べた通り，レシピ用語タグによっては付与が困難な事例が存在するため，適切な手順を用いて効率的に作業を行う必要がある．本節では，節で述べたレシピ用語タグの基準に従い，作業者を含めた全体として効率的なアノテーションを行うための手順を述べる．また，管理者と作業者の作業一致率を測ることによりその有効性を評価する．本研究におけるレシピ用語アノテーションの作業にあたっては，図のような固有表現アノテーションツールを利用し，各単語にIOB2タグの付与を行った．図では，「鍋を熱して…」の「熱」という動詞に，『Ac:調理者の動作』の開始タグである「Ac-B」を割り当てている．アノテーション作業の管理手順は以下のとおりである．管理者がレシピ用語の定義（節参照）を作成する．本研究においては，管理者1名（筆者）と研究者3人を合わせた4人で議論を行い，レシピ用語の定義を作成した．管理者が実際にレシピ用語の定義に従ってアノテーションを行い，サンプルデータを作成する．作業者にレシピ用語の定義とサンプルを渡し，一定時間のアノテーション作業を行ってもらう．管理者は作業者のアノテーション結果に対するチェックを行う．この際，作業者の作業結果と管理者がさらに修正を加えたアノテーション結果の間で作業一致率を測る．管理者は必要に応じて作業者にアノテーション基準に関するコメントを返し，レシピ用語の定義並びにサンプルの修正・更新を行う．(3),(4)を繰り返す．本論文を執筆するにあたり，作業者にアノテーションを依頼したコーパスの一部（節の表~で示した436レシピのうち，初めにアノテーションを行った40レシピ）を対象として，上述した手順に従って4日間（1回4日）のアノテーション作業管理を行い，管理者1名（筆者）と作業者1名との作業一致率を測った．この際，作業者は管理者と同様に，全ての種類のタグに関するアノテーションを担当した．作業一致率[%]は，[単語数100]で求められる．結果を表に示す．また，表のうち，4日目の作業におけるIOB2タグごとの作業一致率を表に示す．表より，上述した手順に従うことで管理者・作業者間の作業一致率が向上し，最終的にIOB2タグの自動認識精度（表参照）を有意に上回ることがわかる．また，表より，4日目には事例の少ないSt-B，St-Iを除く全てのIOB2タグにおいて作業一致率が91%以上となっていることがわかる．以上の結果より，作業者にアノテーションを任せることで自動認識の精度向上を図ることが可能であることを確認した．</subsection>
  <subsection title="効率的な精度向上を目的としたアノテーション作業のシミュレーション">前項で述べたアノテーション基準の確定の過程の結果，少量ながらレシピ用語のアノテーションがなされたコーパスが得られる．節で述べたような応用を考えると，短期間での自動認識精度の向上が重要である．一般分野の固有表現の自動認識においては，人名・組織名・地名のような固有表現のカバレージを上げることで高い精度を達成することが可能である．これは，レシピ用語の自動認識においても同様であろうと推測される．本節では，カバレージを重視した簡単なアノテーション戦略について，シミュレーションの結果とともに議論する．なお，レシピテキストを対象とした実際のアノテーションでは，単語分割境界ならびにレシピ用語となる単語列の範囲を決定してからタグを付与する必要があるが，本節で述べるシミュレーションには上述の2種類の情報があらかじめ付与されている状態のコーパスを用いているため，実際のアノテーション作業にそのまま適用できるものではない．カバレージを重視すると，新しいレシピ用語に集中的にアノテーションすることになる．結果として，文中の一部のレシピ用語にのみアノテーションされた部分的アノテーションコーパスが得られる．逆に，アノテーション基準の確定の過程で得られるコーパスは，文中の全てのレシピ用語にアノテーションされたフルアノテーションコーパスである．カバレージを重視した簡単なアノテーション戦略と通常のアノテーション方法を比較するために，次のようなシミュレーションを行った．まず，我々の作成したレシピ用語タグ付与コーパス（表参照）のうち，学習コーパスをC_fとC_aに2等分し，C_fを既に作成済みのフルアノテーションコーパス，C_aをこれからアノテーションを行う単語分割済みコーパスとみなす．ここで，C_fはレシピ用語タグの定義を確定する際に得られる少量のフルアノテーションコーパスを，C_aはカバレージを優先してアノテーションを行う追加用コーパスを想定している．本実験ではC_aに対して，以下に示す2種類の方法でコーパスアノテーションのシミュレーションを行う．C_fとC_aの一部を合わせたものを学習コーパスとしてレシピ用語の自動認識精度を測った．なお，手法PartにおけるA_max=0と手法Fullの追加コーパスが0/10の状態は同じものであり，どちらも追加コーパスの無い状態である（つまりC_fのみ）．また，手法PartにおけるA_max=のときは手法Fullにおいて追加コーパスが10/10の状態と同じであり，どちらもC_aの全ての単語にアノテーションを行ったものを追加コーパスとする状態である．ここでのシミュレーションでは，C_aが人手によりフルアノテーションされているので非常に少量であるが，実際にアノテーションを行う状況ではC_aは利用可能な全ての生のレシピテキストであり，非常に大きい．つまり，手法Fullにおける10/10の追加コーパスを作成することは現実的ではないことに留意されたい．本実験の結果を図に示す．図における横軸は各手法におけるIOB2タグのアノテーション回数を示しており，これはアノテーションにおける作業時間を想定したものである．しかしながら，実際のアノテーションにおいては，アノテーション箇所ごとの判断の難しさの違い，節で示した各アノテーション手順ごとの所要時間，などの要因により，必ずしも正確な作業時間を反映しているものではないことに留意されたい．図から，手法の1/10と2/10は不安定（1/10から2/10に増量すると精度が低下している）ではあるが，全体の傾向からカバレージを最重要に考えて，各レシピ用語について1回のアノテーションを行う場合は，PartのA_max=1と大差はない．しかし，手法PartにおいてA_max2とした場合に，手法Fullにおいて同じ単語数のアノテーションをする場合に比較してより高い精度が得られることがわかる．つまり，数回の出現に対してアノテーションすることで多様な出現文脈が学習できるようにしつつ，高いカバレージを確保するアノテーション戦略が自動認識の精度向上には有効であると期待される．実際のアノテーションにおいては，上述の通りC_aのサイズは非常に大きいため，この差はより顕著になるであろう．さらに，上述の「簡単な戦略」はアノテーション戦略のシミュレーションに過ぎない．本論文でのスコープ外ではあるが，能動学習等に基づくより効率的なアノテーション戦略が存在すると考えられる．基準が確定した後の精度向上においては，アノテーション作業を考慮に入れた効率的なアノテーション戦略の研究が重要である．</subsection>
  <section title="おわりに">本論文では，レシピテキストを対象としたレシピ用語タグの定義について述べた．この定義にしたがって，実際にアノテーションを行い，定義が十分であることを確かめた．また，作成したコーパスを用いてレシピ用語の自動認識実験を行い，認識精度を測定した．自動認識の精度は十分高く，作成したコーパスはやなどのレシピテキストを対象とする応用の精度向上に有用であると考えられる．さらに，人手によるアノテーションの過程で出現した判断の難しい事例や，自動認識の結果得られる学習データに含まれない事例を観察し，提案するレシピ用語の定義についての議論を行った．加えて，実際のアノテーション作業についても説明し，カバレージを重視した単純な戦略で部分的アノテーションコーパスのシミュレーションを行った．今後の課題として，能動学習等に基づくより効率的なアノテーションを行うことが挙げられる．</section>
</root>
