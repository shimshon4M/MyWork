<?xml version="1.0" ?>
<root>
  <jtitle>自然なコンピュータ会話のための違和感形容表現の検出</jtitle>
  <jauthor>吉村枝里子土屋誠司渡部広一河岡司</jauthor>
  <jabstract>コンピュータとの人間らしい会話のために，代表的な応答事例を知識として与え，文章の可変部を連想によって変化させることができれば，より柔軟で多種多様な会話ができると考えられる．しかし，機械的な語の組み合わせに起因する一般的に見て不自然な語の組み合わせの応答を生成する恐れがある．本論文では，機械的に作成した応答文の内，名詞と形容語の関係に注目し，違和感の有無の観点からその関係を整理することで，形容語の使い方の知識構造をモデル化する．更に，その知識構造を用いて，合成した会話応答文中の違和感のある組み合わせの語を検出する手法を提案する．本稿の手法を用いることで，形容語の違和感のある使い方の判定に関し，87%の高い精度を得，有効な手法であることを示した．</jabstract>
  <jkeywords>会話処理，違和感，形容語，常識</jkeywords>
  <section title="はじめに">近年，コンピュータを含め，機械は我々の生活・社会と密接に関与し，必要不可欠な存在となっている．そのため，機械の目指すべき姿は「人と共存する機械（ロボット）」だと言えるだろう．この夢は，二足歩行ができる，走ることができる，踊ることができるなど，身体能力に長けたロボットが数多く開発されたことにより，その一部が実現されつつある．今後，機械が真に「人と共存」するためには，優れた身体能力を持った機械に「知能」を持たせ，人間と自然な会話を行う能力が必要になる．機械が人間を主体としたスマートな会話を行うことにより，人と機械の円滑なコミュニケーションが可能となる．そこで，自然な会話を行うための自然言語処理の研究が注目を浴びている．しかしながら，従来の自然言語処理では，文の表層的な形式を重視し，ある限定された目的や特定の状況下での会話処理（タスク処理型会話）に重点を置いた研究が主流となっている．コンピュータ技術の進展に伴って，応答事例を大量に収集し知識ベース化する傾向が強い．このような方法はユーザの発した言葉の理解が，構築した知識ベースの大きさやシステム設計者の取得したデータに束縛されてしまうため，パターンに一致する会話事例が随時必要とされたり，限定された応答となってしまう．このような理由により，コンピュータとの人間らしい会話のためには，ただ応答事例や知識を大量に集めるだけでは対応しきれないと考えられる．そこで，コンピュータ自身によって会話文を生成する必要がある．人間は，基本的な文章の言い回し（応答事例）を元に，臨機応変に文章の可変部を変化させ，組み合わせることで文章を生成している．このように，コンピュータにおいても，基本的な応答事例を知識として与え，文章の可変部を連想によって変化させることができれば，より柔軟で多種多様な会話ができると考えられる．この考えに基づき，コンピュータによる会話文生成が研究された．しかし，は機械的な語の組み合わせに起因する一般的に見て不自然な語の組み合わせの応答を生成する恐れがある．例として次の会話を挙げる．A「休暇にサハラ砂漠へ行ってきました．」B「砂漠はさぞ暑かったでしょう．」この応答を生成する場合，「雪国はさぞ寒かったでしょう」という文章事例（知識）より，［雪国］と［寒い］という可変部を連想によって変化させることで，「砂漠はさぞ暑かったでしょう」という文章を生成することができる．しかし，機械的に語を組み合わせることにより，「砂漠はさぞ寒かったでしょう」や「砂漠はさぞ涼しかったでしょう」のような人間が不自然と感じる組み合わせの応答をも生成する．そこで，このような違和感のある組み合わせの語の検出能力が必要となる．このため，本稿では，この違和感のある組み合わせの語の検出方式について論じる．本稿における「違和感表現」とは，聞き手が何らかの違和感を覚えたり，不自然さを感じる表現として用いる．違和感表現には以下のような表現が挙げられる．			文法的知識が必要な違和感表現			「水が飲む」「本が読む」		意味に関する常識的知識が必要な違和感表現			「黒い林檎を食べた」「7月にスキーに行った」「歯医者へ散髪に行く」	()の表現を理解するには，助詞の使い方や動詞の語尾変化に関する文法的知識が必要である．コンピュータに文法的な知識を与えることで．「水が飲む」という表現を「水を飲む」，「本が読む」という表現を「本を読む」の誤りであると検出し，訂正することが可能になる．これは，文法的な知識や大規模コーパス等を用いることにより，検出可能と考えられる．本稿では，この範囲については扱わないものとする．これに対し，()のような表現は，文法的な知識や事例を集めたコーパスだけでは対応できない．文法的にも，助詞の使い方や動詞の語尾変化に関しても誤りではないからである．しかし，人間は「黒い林檎を食べる」と聞けば，「林檎」が「黒い」ことに違和感を覚える．また，「7月にスキーに行った」という表現では，「スキー」を「夏」である「7月」に行ったということに違和感を覚え，「歯医者に散髪に行く」と聞けば，「散髪に行く」ためには「美容院」等に行くはずなのに歯を治療する場所である「歯医者」に行ったことに不自然さを感じる．これらの文章を理解するには，文法的な知識だけでなく，我々が経験上蓄積してきた，語に対する常識を必要とする．このような違和感表現を検出することができれば，応答合成だけでなく，人間が表現する違和感のある会話に柔軟に応答できると期待される．何故ならば，人間はこれらの文章に違和感を覚え，その違和感について話題を展開することで，会話を進めていくことができる．「7月にスキーに行った」のは，南半球の国や年中雪のある北国かもしれない．また，単なる言い間違いや聞き間違いかもしれない．人間は違和感のある表現を検出したとき，この疑問を具体的に相手に尋ねるような応答をする．これが人間らしい会話の一因となる．しかし，従来の機械との会話は質問応答が基本であり，違和感は考慮されていない．人間ならばどこがどのように不自然かをすぐに判別できる．これは人間が語の意味を知り，語に関する常識を持っているからである．しかし，機械は人間の持つ「常識」を持たず，理解していない．そこで，機械が「不自然だ」「一般的でない表現だ」と気づくためには，機械にも，一般的で矛盾のない表現を識別できる機能が必要だと考えられる．自然な応答を返すことは，機械が意味を理解し，常識を持って会話を行っていることを利用者に示すことになる．つまり，このような文章に対応できるシステムは聞き返すことで，話し相手としての存在感を強調し，人間らしい柔軟な会話ができると期待される．そこで，違和感表現を検出する手法の開発が必要となる．違和感表現には時間，場所，量，感覚などの様々な観点が存在する．			時間に関する違和感表現			「7月にスキーに行った」		場所に関する違和感表現			「歯医者へ散髪に行った」		量に関する違和感表現			「机に家を入れました」		感覚に関する違和感表現			「黒い林檎を食べました」	このような違和感表現を検出するにはそれぞれの観点での常識に着目することが必要となるが，本稿では，その中でも，感覚に着目した違和感表現検出手法について述べる．これは，ある名詞に対する一般的な感覚を必要とする形容語に関する矛盾を判断する．つまり，「黒い」「林檎」などのように，名詞とそれを形容する語（以降，形容語）との関係の適切さを判断する．形容語とはある名詞を形容する形容詞・形容動詞・名詞（例：黒い，大きな，緑の）を指す</section>
  <section title="名詞と形容語の関係">本論文では，提案する違和感表現検出処理のために，違和感の有無の観点から名詞と形容語の関係を整理し，どのような語が違和感の無い語であるかについて考察する．そこで，「林檎」という対象物を例に出す．「林檎」から人間が一般的に想起する形容語には「赤い，甘い，丸い」が存在する．この形容語は「林檎」を表現する上で特徴的な形容語であると言える．これらの形容語と「林檎」の関係は違和感がない．しかし，「赤い」と同様に，色を表現する形容語である「黒い」「白い」と，「林檎」の関係は違和感を覚える．このようなある対象物に対して人間が一般的に連想できる形容語の表現に対し，その対象物に対して連想は行われないが論理的に正しい形容語の表現が存在する．例えば，「重い林檎」「軽い林檎」という表現には人間は違和感を覚えない．この「重い，軽い」は「林檎」を特徴的に表現する形容語ではないため，人間は「林檎」から連想しない．ところが，「林檎」は質量を持つ物体であるため，「重い，軽い」という表現は論理的に正しく，違和感を覚えない表現だと言える．そこで，このような名詞と形容語の関係を整理するため，下記の4グループに分類した．この4グループをそれぞれ「特徴的」「反特徴的」「論理的」「非論理的」と呼ぶこととする．先に述べた例において，「特徴的」と「反特徴的」はその対象物に対して人間が一般的に連想する形容語に関係する表現である．これに対し，「論理的」「非論理的」はその対象物に対して人間が一般的に連想はしないが論理的に正しい形容語に関係する表現である．「論理的」の関係では，「黒い」「車」のように，対象物「車」に対し，一般的に想起する特徴的な性質（色）の形容語は存在しないが，その性質（色）を対象物は表現できる．これに対し，「非論理的」の関係は，「四角い」「病気」のように，対象物「病気」に対し，その性質（形）を対象物が持たない場合である．これらの「特徴的」「反特徴的」「論理的」「非論理的」の名詞と形容語の関係について，一般的に人間がどのように感じるかについて調べる必要がある．これについて実験を行った</section>
  <subsection title="人間による評価実験">節で分類した「特徴的」「反特徴的」「論理的」「非論理的」の4パターンそれぞれについて，形容語と名詞のセットを各50セットずつ，全200セット用意した．この評価セットはシステム設計者とは異なる複数人物から「特徴的」「反特徴的」「論理的」「非論理的」の説明を行った上で，アンケートによって収集したものである．この形容語と名詞のセットをランダムな順番で表示し，被験者5名に「違和感なし」「どちらともいえない」「違和感あり」の3分類に分けてもらった．評価に用いた形容語と名詞のセット例と結果を表に示す</subsection>
  <subsection title="実験結果と考察">あるセットに対し，5名中3名以上が分類した項目を一般的な感覚の分類項目として，採用する．各50セットの人間による分類は表のようになった．全てのセットにおいて，偏りが見られ，3項目に対し，2名・2名・1名のように分散することは無かった．表を見ると，「特徴的」「論理的」「非論理的」の関係については特に顕著な偏りが見られることがわかる．そこで，「特徴的」「論理的」の関係については違和感なしの表現，「非論理的」の関係については違和感表現と機械が判断してもよいと考えられる．しかし，反特徴的にはある程度の揺れが見られた．例えば，西瓜の形状は一般的に，球形〜楕円形だが，近年では成長過程で枠にはめてしまう「四角い西瓜」というものが贈答用などで作られている．この「四角い西瓜」という表現のように，西瓜は丸いものだという通常観念があるにも関わらず，特殊な場合として存在する可能性があるために反特徴的には揺れが見られたと考えられる．このような表現は「美味しい関係」や「黒いバナナ」のように，日常会話では一般的ではないが，それゆえに，話題性があり，小説の題，広告の宣伝文句などに用いられ，目にした人をひき付ける効果を持つ．これは表現に違和感を覚えるからこそ，ひきたつと考えられる．本稿における違和感表現の検出は，文章の機械的合成において違和感表現を排除することや，相手の会話文に違和感を覚えることで相手に聞き返しを行うという目的に則り，このような表現に対しても違和感があるとして検出する．このため，「どちらともいえない」と「違和感あり」の項目をあわせると，「反特徴的」の関係については，90%の割合で違和感表現であるといえる．そこで，この「反特徴的」の関係について機械は違和感表現と判断してよいと考える</subsection>
  <section title="違和感表現検出">違和感表現を検出する手法として，言葉の統計情報を利用したデータベースを利用する方法（例：WEBを用いた大規模格フレーム，WEB検索システム）と，人間が記述したデータベースを用いる方法（IPAL形容詞版）の二手法が考えられる．まず，言葉の統計情報を利用したデータベースはWEBなどを用いるため，規模が大きく，一般的に利用されている語が多く存在する．このため，形容語と名詞のセットを検索することで違和感表現を検出できると考えられる．しかし，この手法はその表現の出現の有無で検出するしかない．つまり，一度でもその表現が出現すれば，一般的な表現と判断することになる．この手法では，節で述べた，常識として一般的ではないが，それゆえに，小説の題，広告の宣伝文句などに用いられるような違和感表現には対応できない．対応案として，出現数の低い表現を違和感表現とする方法も考えられるが，語によって適切な閾値が異なり，適切な閾値の設定に根拠が存在しない．次に，人間が記述したデータベース，IPAL形容詞版（語彙体系上ならびに使用頻度上重要であると考えられる基本的な形容詞（136語）について，意味及び統語的な特徴を記述）のような，形容語と名詞との関係を格納したデータを用いる方法が考えられる．IPAL形容詞版では，ある形容語に対し，一般的に繋がりやすい名詞を記述している（例：青い−海，空，葱，瞳）．これは「特徴的」の関係であり，このような関係を網羅的に把握することができれば，「特徴的」の文章を切り出すことが可能となる．しかし，人間が作成したデータベースにおいて網羅的にデータを格納することは不可能であり，また人により入れる名詞が異なると考えられる．更に，このようなデータベースにおいて記述される，ある形容語（例：青い）に関係する名詞（例：海，空，葱，瞳）は，我々が利用する頻度に関係する．つまり，よく使われる語の関係ほど想起されやすく，データベースに含まれやすい．しかし，特徴的ではないが論理的に正しい関係は，頻度としては低いが違和感はないにも関わらず，データベースに含まれにくい．このような関係を検出するためには，違和感という観点で整理した知識ベースが必要となる．そこで，本論文で提案する形容語に関する違和感表現の検出の方法は，感覚判断システム，と形容語属性付きシソーラスを組み合わせている．後に節で感覚判断システムと形容語属性付きシソーラスについて説明する．違和感表現検出の方法の全体的な流れとして，まず，入力された文章から，判断対象となる名詞と形容語を取得する．このために，後述する意味理解システムを用いて文章を解析し，比較・判断対象となる可能性のある二語の対を全て取得する．更に，対象となる二語について，名詞・形容語の関係を「特徴的」「反特徴的」「論理的」「非論理的」のどれかに分類する．前述した実験より，「特徴的」「論理的」を違和感なしの表現，「反特徴的」「非論理的」を違和感表現と判断し，判断結果を取得する</section>
  <subsection title="判断対象取得知識">違和感ありの表現の検出処理を行うためには，まず，文章中から判断対象となる名詞と形容語を取得する必要がある．対象となる名詞と形容語の出現を整理すると，以下のような一定のパターンが存在することがわかった．	「形容語＋名詞」節		ex.赤い林檎，緑の西瓜，簡単な問題	「名詞」が（は）「形容語」（主格に対象となる名詞，用言に形容語）		ex.林檎は赤い，西瓜は緑だ．形容語は，形容詞・形容動詞・名詞を含む．文章構造解析を行い，文章構造パターンを用意することで，これらのパターンを見つけ，判断対象となる名詞と形容語を取得する．文章構造解析のために，意味理解システムを利用する．本稿における意味理解システムとは機械が文章の内容を把握するために整理するものである．これは，複文や重文を含まない入力文（単文）を6W1H＋用言(verb)のフレームに分割して格納する．意味理解システムを用いた例を図に挙げる．違和感表現検出処理を行うために，文章中から判断対象となる名詞と形容語を見つけるための文章構造パターンを用意した．そのパターンを表に示す．表において，「who-verb」は意味理解システムによって6W1Hに分類されたフレームのうち，whoフレームとverbフレームが一文中に共に存在しているという条件を示す．また，「allframe」は全てのフレームのうちどれかが存在しているという条件を示す．更に，条件を詳細化し，それぞれのフレームが取るべき品詞の条件を詳細情報として表のように格納している．また，どの二語が対象となる名詞とそれを形容する語であるかを共に格納している．この比較対象の二語は「情報フレーム内の条件」の語に準拠する．入力文が文章構造パターンに合致した場合，「対象語」とその語を形容する「対象語の形容語」を取得する</subsection>
  <subsection title="違和感表現判断知識">対象語と形容語の関係を知るために対象物に対する一般的な性質に関する知識構造が必要となる．例えば，「林檎」は「赤い」，「丸い」，「甘い」という具体的な特徴を持ち，「色」，「形」，「味」，「匂い」，「重さ」という性質を持ち，「明暗」「音」という性質は持たないという常識を知っておく必要がある．上記の「特徴」と「性質」の考え方はシソーラス構造を使い効率よく表現できる．対象概念の性質は親ノードから継承され，子ノードや個々のリーフには具体的な特徴を持たせる．例えば，「食料」というノードには「味」という性質を持たせる．このため，「食料」を継承する子ノード，リーフは「味」の形容語である「美味しい」や「まずい」などの語で形容できることを表現できる（例：美味しい林檎）．一方，「味」という性質を継承しない別ノードであれば，「味」の形容語である「美味しい」や「まずい」などの語では形容できないことを表現する（例：美味しい辞書）．以降，このような問題の追究を論理的矛盾の追究と呼ぶ．これに対し，例えば，「食料」を継承するリーフ「レモン」には具体的な特徴「酸っぱい」を持たせる．これにより，「レモン」は「酸っぱい」で形容できることを表現する（酸っぱいレモン）．一方，「辛い」「甘い」「塩辛い」などの「レモン」に対して一般的でない特徴は「レモン」に持たせない．これにより，このような語では形容が難しいことを表現できる．以降，このような問題の追究を感覚的矛盾の追求と呼ぶ．つまり，「論理的」「非論理的」の名詞と形容語の関係は論理的矛盾の追究であり，「特徴的」「反特徴的」の名詞と形容語の関係は感覚的矛盾の追究であるといえる．このように，「特徴」と「性質」の概念はシソーラス構造で表記できる．そこで，NTTシソーラスを元にして作成された，感覚判断システムと形容語属性付きシソーラスを利用することによってこのデータ構造を表現する．感覚的矛盾の追及のために，感覚判断システムを用いる．名詞から，感覚判断システムによって得られた結果をその名詞の「特徴」とする．更に，論理的矛盾の追及のために形容語属性付きシソーラスを利用し，その名詞の親ノードから「性質」を導き出す．感覚判断システム，とは，ある名詞に対して人間が一般的に連想でき，特徴付けられる感覚（形容語）を取得するシステムである．感覚判断システムは自然会話において感覚という観点で言葉を扱うために開発された．この「感覚」とは視覚・聴覚・嗅覚・味覚・触覚の刺激によって得られる「五感」と，人間が一般的に抱く印象である「知覚」の2つを指す．感覚判断システムにおいて，全ての形容詞，形容動詞から五感に関する形容語（熱い，寒いなど）を人手で抽出した98語を感覚語，知覚に関する形容語（なつかしい，寂しいなど）を人手で抽出した114語を知覚語と呼ぶ．感覚判断システムはこの感覚語と知覚語の両方を用いて構築される．感覚判断システムは名詞とその特徴である感覚の関係を日常的な名詞の知識ベース（感覚判断知識ベース）を構築することによって明確にし，必要な感覚（感覚語及び知覚語）を取得する．感覚判断知識ベースはシソーラス構造をとる．感覚に関する語という観点で見た場合，名詞にはその名詞のグループが持つ感覚とその名詞固有の感覚の2種類がある．感覚判断知識ベースはこの2種類の感覚を継承できるようにするためにシソーラスのリーフとノードの関係を用いて構築されている．具体的には，日常よく使用される680語をシソーラスのリーフ（代表語）として登録し，それぞれにその語固有の感覚を付与している．また，それらをグループ化しシソーラス構造をとるための語をノード（分類語）として153語登録し，そのグループが持つ五感の感覚を付与している．この感覚判断知識ベースのイメージ図を図に示す．しかし，人間が登録した代表的な名詞と形容語の関係を格納した感覚判断知識ベースは，全ての単語を網羅しているわけではない．そこで，感覚判断システムは，汎用知識である概念ベースとNTTシソーラスを用いることで，構築した感覚判断知識ベースにない語（未知語）に対しても感覚の連想を行う（未知語処理方法の詳細は文献を参照されたい）．このことによって，単に人間が記述したデータベースよりも網羅できる範囲を拡大することができる．感覚判断システムを用いた例を表に示す．感覚判断システムにおける感覚判断知識ベースはある名詞に対し，特徴的な感覚の形容語を取得するという観点で作成された．この考え方を基とし，論理的な形容語と名詞の関係を検出するために作成したのが形容語属性付きシソーラスである．論理的矛盾の追究のためにこの形容語属性付きシソーラスを用いる．感覚判断知識ベースと同じシソーラスのデータ構造を持つが，それぞれのノードの持つ固有の形容語ではなく，更に一般的な性質の形容語を付与している．例えば，［具体物］ノードには重量（重い，軽い）があり，［人］ノードには老若（若い，年老いた）が付与されている．シソーラス構造を用いることで，ノードの性質を表した形容語は下位ノードに継承することが可能となる．形容語属性付きシソーラスのイメージ図を図に示す．図はイメージ図であり，実際には感覚判断知識ベースに追記する形で格納した．また，主な感覚（112語）に対し分類語（五感語（5語）と五感度語（10語））を格納した五感知識ベースを用意した．五感語は視覚・聴覚・触覚・味覚・嗅覚の5つに大別した語であり，五感度語は更に詳細に分類した語である．五感知識ベースの一部を表に示す．また，本論文における提案手法では，人間で作成した代表的な知識だけでは補えない部分を汎用的な知識ベースである概念ベースとそれを用いた関連度計算によって，知識に一般性を持たせる．この概念ベースと関連度計算について，説明を加える．概念ベースとは，複数の国語辞書や新聞等から機械的に自動構築した，語（概念）とその意味を表す単語集合（属性）からなる知識ベースのことである．この概念と属性のセットにはその重要性を表す重みが付与される．任意の概念Aは，概念の意味特徴を表す属性a_iとこの属性a_iが概念Aを表す上でどれだけ重要かを表す重みw_iの対の集合として定義する．属性a_iを概念Aの一次属性と呼ぶ．これに対し，a_iを概念とした場合の属性をAの二次属性と呼ぶ．展開していけば一つの概念は任意の次数までその属性を持つことができる．当初の概念ベースは，複数の電子化国語辞書を用いて機械的に自動構築されたものである．この概念ベースは人間の感覚では必要な属性が抜け落ち，明らかにおかしい属性が雑音として含まれている．このため本稿では，不適切なデータを削除し，必要なデータを追加する自動精錬処理を行った概念ベース（概念数約9万語）を利用する．また，関連度とは，概念と概念の関連の強さを定量的に評価するものである．関連度の計算方式は，それぞれの概念を二次属性まで展開し，重みを利用した計算によって最適な一次属性の組み合わせを求め，それらの一致する属性の重みを評価することで算出する．この関連度の値は0〜1の実数値をとり，値が高いほど関連の深い語であることを意味する．概念Aと概念Bに対して関連度計算を行った例を表に挙げる</subsection>
</root>
