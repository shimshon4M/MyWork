<?xml version="1.0" ?>
<root>
  <section title="The Sketch Engine">Ofallthemajorworldlanguages,Japaneseislaggingbehindintermsofpubliclyaccessibleandsearchablecorpora.ThispaperreportsonthedevelopmentofJpWaC(JapaneseWebasCorpus),alargecorpusofJapanesewebtext,whichhasbeenloadedintotheSketchEngine,whereittakesitsplacealongsideChinese,English,French,German,andarangeofotherlanguages.TheSketchEngineKilgarriff_2004isacorpustoolwithseveraldistinctivefeatures.Itisfast,givingimmediateresponsesformostregularqueriesforcorporaofuptotwobillionwords.Itisdesignedforuseovertheweb.Itworkswithallstandardbrowsers,sousersneednotechnicalknowledge,anddonotneedtoinstallanysoftwareontheirmachine.Ithasbeenusedfordictionarycompilationat,amongstothers,OxfordUniversityPress,MacmillanKilgarriff_2002,ChambersHarrapandCollins,andalsoforlanguageteaching&lt;e.g.&gt;Chen_2007andlanguagetechnologydevelopment&lt;e.g.&gt;Gatt_2006,Chantree_2005.Aswellasofferingstandardcorpusqueryfunctionssuchasconcordancing,sorting,filteringetc.,theSketchEngineisuniqueinintegratinggrammaticalanalysis,whichmakesitpossibletoproducewordsketches,one-pagesummariesofaword'sgrammaticalandcollocationalbehaviourasillustratedinFigure1.Figure1givesawordsketchforthenounお湯(oyu).Differentgrammaticalrelations,suchasAiandAnaadjectivesmodifyinganoun,noun-particle-verbcollocates(をverb,でverb,がverb),noun-pronominalrelations(withの)etc.,aredisplayedinorderoftheirsignificance,revealingthemostfrequentandmostsalientsetsofcollocations(thefirstandsecondcolumnwithnumbersrespectively).Thelistofcollocatesnicelyrevealsthedifferentsensesofthenoun:(1)`hot/warmwater(waterthatisheated)'（お湯を沸かす，熱いお湯，ポットのお湯，鍋のお湯，お湯で茹でる，お湯で温める），(2)`bath(waterfortakingabath)'（お湯に入る，お湯から上がる，湯舟のお湯，浴槽のお湯，風呂のお湯，易しいお湯，いいお湯）The``coord''relationrevealsthecoordinatenounofお湯，thatis水(mizu`water').Basedonthegrammaticalanalysis,wealsoproduceadistributionalthesaurusforthelanguage,inwhichwordsoccurringinsimilarsettings,sharingthesamecollocates,areputtogetherSparck_1986,Grefenstette_1994,Lin_1998,Weeds_2005,and``sketchdiffs'',whichcomparerelatedwords(seesection3below).TheSketchEngineisaccessibleeitherbyapersonusingawebbrowser,orbyprogram,withtheoutputfromtheSketchEngine(inplaintext,XMLorJSON)beinganinputtosomeotherNLPprocess.</section>
  <section title="The JpWaC corpus">InthissectionwereviewthestepstakentocompiletheJpWaCcorpus,giveaquantitativeaccountofitscontentsanddiscussthevalidityofthiskindofcorpusforgenerallanguageresearch.ThecorpushasbeengatheredusingmethodsasdescribedbySharoff_2006a,Sharoff_2006b,Baroni_2006c,andforJapaneseUeyama_2005.Thecorpusconsistsoftextsobtainedfromaround50,000webpagesandcontainsjustover400milliontokens.</section>
  <subsection title="Compiling the corpus">Foreasywebcorpuscompilation,agreatstepforwardhasbeenmadebythepubliclyavailableBootCat/bootcat.htmlBaroni_2004,Baroni_2006a,WAC(WebasCorpusToolkit)andrelatedworkoftheWackyProjectBaroni_2006b.Theseopensourcetoolsprovidethefunctionalityforcompilingabasicwebcorpus,andarestraightforwardtoinstallanduseonaLinuxplatform.ThemainstepsforcompilingJpWaCwerethefollowing,explainedinmoredetailbelow:obtainlistofJapaneselanguageURLsdownloadtheWebpagesnormalizecharacterencodingsextractmetadataremovedocumentboilerplateannotatewithlinguisticinformation1.ThelistofURLstobuildthecorpusiscriticalforanywebcorpus,asitdeterminestheoverallcomposition,intermsoflanguage(s),registers,lexis,etc.Inordertoobtainagoodcorpusofgenerallanguage,theURLlistforJpWaClistwasobtainedviathemethodologydescribedinSharoff_2006a.First,thetop500non-functionwordsoftheBritishNationalCorpus(seehttp://natcorp.ox.ac.uk;hereafterBNC)weretranslatedintoJapanese.Random4-tuplesweregeneratedfromthislistandtheGoogleAPIwasusedtoquerytheinternetwiththem.ThesetofretrievedpagesgavethefinalURLlist.2.WedownloadedtheHTMLpageswiththeWACtoolkitprogramparaget,whichimplementsparalleldownloadingofpages,whiletakingcarenottooverloadparticularservers;italsoseparatesthelargenumberofretrievedfilesintoseparatetree-structureddirectories.3.FornormalizingthecharactersetsofthedownloadedpagesweusedtheBootCattoolencoding-sort.pl,whichimplementsaheuristictoguesstheencodingofeachHTMLpage,andthenthestandardUNIXutilityiconvtoconverttheactualfiletoUTF-8.4.Theextractionofmeta-dataimplementedinBootCat/WAC,inparticulartitleandauthor,didnotworkwellonJapanesepages,sotheonlymetadataweretainedistheURLofeachdocument.5.ForboilerplateremovalweusedBootCatclean_pages_from_file_list.pl,whichremovesHTMLtags,JavaScriptcodeandtext-poorportionsofthepages,suchasnavigationalframes,leavingonlythepuretextofeachpage.6.Finally,weannotatedthecorpususingChaSen,whichsegmentsthetextintosentences,tokenisesit,lemmatisesthewordsandassignsthemmorphosyntacticdescriptions(MSDs).TheMSDsthatChaSenreturnsareinJapanese:tomakeiteasiertounderstandandusetheannotationsbynon-Japanesespeakers(andthosewithoutJapaneselanguagekeyboards),wetranslatedtheJapaneseMSDsintoEnglish.</subsection>
  <subsection title="Copyright">Therehasbeenmuchdiscussionamongstcorpus-buildersaboutcopyright.Manyhavetakentheviewthat,foranytexttobeincluded,thecopyrightholdermustbecontactedandthedocumentcanonlybeincludediftheirconsentisgranted.Thisperspectivedatesbacktoapre-webera.AcorpustoolsuchasSketchEngine,whenloadedwithawebcorpus,isperformingataskthatisequivalenttoasearchenginesuchasGoogleorYahoo.Ineachcase,theownersoftheservicehaveautomaticallygatheredlargenumbersofwebpages,processedthem,andindexedthem.Then,usersareshownsmallextracts.Thisbasicfunctionofsearchengineshasnotbeenlegallychallenged.GoogleandYahoodonotaskcopyrightownersforpermissiontoindextheirpages.They,likeus,observethe``norobots''conventionfornottrawlingpageswheretheownerhasspecifiedina``robots.txt''filethattheyshouldnot.Variousrelatedsearchenginefunctionshavebeenchallenged,suchaswhereGooglepreserves,andshowsusers,cachedcopiesofpageswhicharenolongerfreelyavailablebecausetheownerofthematerialchargesforaccesstotheirarchive.TherehavealsobeenchallengeswherecopyrightedvideoshavebeenplacedonYouTube:YouTubeoffersthedefencethatitdidnotknowthatthematerialwasthere,whichisanacceptabledefence(inUSlaw)providedthatYouTubepromptlyremovestheoffendingmaterialwhenaskedtodoso.Thecurrentissueinthiscase(YouTubevs.Viacom,alargecasewhichisongoingasatOctober2007)ishowquicklyandeffectivelyYouTuberesponds,whenthecopyrightownerbringsittoYouTube'sattentionthatitishostingcopyrightedmaterial.Takingnoteofsuchcases,LexicalComputingLtdhasmechanismsforpromptlyremovingcopyrightedmaterialfromitscorporashouldacopyrightownerobjects.Thereisnolegalquestionoverthelegitimacyofthecoreactivityofcommercialsearchengines,or,thereby,ofthelegitimacyofpresentingwebcorporaintheSketchEngine.</subsection>
  <subsection title="Corpus statistics">Inthissectionwegivesomestatisticsoverthecorpusintermsofoverallsize,thenumberofwebsitesanddocuments,andthestatisticsoverlinguisticcategories.Thetotalcorpussizeis7.3,GB,or2,GBifcompressed(.zip).Anoverviewofthecorpussizeintermsofwebdocumentsisgivenintheleftsideoftab1.Thedocuments,justunder50thousand,correspondtoWebpages,eachoneidentifiedbyitsURL,e.g.http://www.arsvi.com/0e/[2]ps01.[2]htm.Thenumberofhosts(16,000)correspondstodistinctWebsites,suchashttp://www.[2]arsvi.com.Dividingtheformerbythelattergivesustheaveragenumberofpagesperhost,3.1.Thelasttwolinesinthetablegivethenumbersofpagesfromeachofthetwodomainspresentinthecorpus,withthreequartersofthepagesbeingfrom.jpandonequarterfrom.com.Itisalsointerestingtoseewhatkindsofwebsitesthedocumentscomefrom.Thecenteroftab1givesthekeywords,definedasalphabeticstringsappearinginURLs,whichcovermorethanathousanddocuments.ThekeywordstoacertainextentreflecttheWebsiteswiththegreatestnumberofdocuments,inparticularblog.livedoor.jp(1,646documents),www.amazon.co.jp(1,048documents),d.hatena.ne.jp(759documents),andblog.goo.ne.jp(690documents).LinguisticprocessingwithChaSengaveus12,759,201sentencesand409,384,411tokens;statisticsovertokensperdocumentisgivenontherightsideoftab1.</subsection>
  <subsection title="JpWaC validity, and comparison with a newspaper corpus">Atthispoint,thereaderwillnaturallywanttoknowwhatsortoflanguagethereisinthewebcorpus.Peopleareoftenconcernedthatwebcorporawillgiveapartialanddistortedviewofalanguage.Thesearedifficultconcernstoaddressbecausethereisnosimplewaytodescribeacollection,whichis,bydesign,heterogeneous,andwheretherehasbeennoprocessofassigninglabelslike``journalism''or``novel'',toindividualpages.ThisisacentralproblemincorpuslinguisticsKilgarriff_2001.Onestraightforwardstrategyistomakecomparisonswithothercorpora.AsnewspapercorporahavebeenwidelyusedinJapaneselanguageresearchandwehadatourdisposalthedatafromMainichiShimbunnewspaperfortheyear2002(hereafterNews),wecomparedJpWaCwiththat.TherawNewscorpuswasprocessedwithChaSen,inthesamewayasJpWaC,andhasaround30milliontokens.Weanalyzedthedifferencesbetweenthetwocorporawithfrequencyprofiling,asdescribedinRayson_2000.Themethodcanbeusedtodiscoveritemsofinterest(say,keywordsorgrammaticalcategories)inthecorpora,whichdifferentiateonecorpusfromanother.Inourcase,weusedittodiscoverlexicalitems(wordform+ChaSentag)orjusttagsinisolation.Themethodisstraightforward:wefirstproducefrequencylistsandthencalculatethelog-likelihoodstatisticforeachitem.LLtakesintoaccountthetwofrequenciesoftheitemandthesizesoftherespectivecorporaandthelargeritis,themoretheitemissalientforoneofthetwocorpora.StartingwiththeitemsthathavethehighestLLscores,itisthenpossibletoinvestigatethemajordifferencesbetweenJpWaCandNews.ThehighestLLscoresresultedfromdifferencesincodingpractices.BothcorporauseUnicode,whichallowsforcodingthealphanumericcharactersandbasicpunctuationinthestandardASCIIrangeor,forJapanese,inthe``HalfwidthKatakana''block(U+FF00--U+FFEF).Similarly,thespacecharacterexistsinASCII,butalsoastheUnicodecharacter``Ideographicspace''U+3000.Thisspace(analysedasatokenwiththetagSym.wbyChaSen)istheitemwiththehighestLLscore.Itappearsover24timesper1000wordsinNews,whilehardlyeverinJpWaC.JpWaCuses,forthemostpart,ASCIIcharactersforWesternspaces,lettersandnumbers,whileNewsusestheirEasternUnicodeequivalents.Furthermore,ChaSentokeniseswordswritteninASCIIintoindividualcharacters(andtagsthemwithSym.a).Beingunawareofsuchdifferencescanhavepracticalconsequencesincaseswherearesearcherisinterestedinpatternsincludingthesecharacters.tab2showsthetwentymostsalientlog-likelihooddifferencesinChaSentagsbetweenthetwocorpora.Asexplained,thefirstonemarksIdeographicspace,thesecondASCIIletters,andthethird(Sym.g)ASCIIpunctuation.Thefourthshowsthatunknownwords(i.e.wordsthatarenotintheChaSendictionary)aremuchmorefrequentonthewebthaninthenewspapercorpus.ThesethreehighLLscoresthusstemforacombinationofdifferentcodingpractices,coupledwithdifferencesinChaSenprocessing.Thefifthrow(N.Num)showsthatnumeralsaremorefrequentinNews.(Thisisatruedifferenceincontent,asChaSencorrectlytagsbothASCIInumbersandtheirEasternUnicodeequivalentswithN.Num.)MorefrequentinNewsarealsomeasuresuffixesandpropernouns.Boundingnouns,pronouns,auxiliariesandadverbsaremuchmorefrequentinJpWaC.InJpWaCthefollowingforms/grammaticalcategoriesaremoresalientthaninNews:auxiliaryverbsformsます，です，まし，ませshowingthatsentenceendingsinthewebdata,incontrasttothenewspaperdata,frequentlyusesthemasu/desuformformsexpressingmodalityか，でしょ，よう，思う，ので，わけformsexpressingpolitenessお，ございformsexpressinginformallanguageって，よ，ね，んpersonandplacedeixis:thefirstpersonalpronoun私，andplacediexisこの，その，それnounboundformsことandものInthenewspapercorpusthefollowingaremoresalientthaninJpWaC:pasttenseformたshowingthatthenewspaperdataismainlywritteninthepasttense,incontrasttothewebdata.varioussuffixesandprefixesexpressingtime,place,numerals,measures,people日，市，県，役，円，メートル，際，人，さんadverbialnounsexpressingtime昨年，後，元propernouns東京，大阪，鈴木generalnounsthatarespecificfornewspaperscontentandpoliticallyoriented容疑，首相，米国，テロ，自民堂(Nonounsthatarespecifictowebdataoccurredamongstthe100highest-LLentries.WebelievethisisbecauseWebdataismoreheterogeneous,so,whilethereareverymanynounswhichhavehigherrelativefrequencyinJpWaCthanNews,nonehadhighenoughfrequencyandbiastoreachthe`top100'.)tab3givesthetwentywords(togetherwiththeirChaSentag)thathavethehighestLLscores.Basedonthetophundredwords,theanalysisrevealsanumberofinterestingdifferencesbetweenthecorpora.Thecomparisonofthetwocorporashowsthatnewspaperdataismorespecificbothintermsofform(beingwrittenmainlyinpasttenseandnotusingmasu/desu),aswellascontent(highproportionofnewsspecificnouns).Ontheotherhand,JpWaCcontainsmoreinformalandinteractionalmaterial,andmorediversecontent.Thedistinctionbetweenformal,distancedlanguageandinformal,interactionallanguageisthemostsalientdimensionoflanguagevariation,ashasbeenexploredandestablishedinanumberofstudiesbyBiberandcolleaguesBiber_1988,Biber_1995,seealsoHeylighen_2002.TheeffectforJpWaCmatchesthedifferencesthatSharoff_2006afoundwhencomparingwebcorporawithnewspapercorporaforEnglishandGerman.ForEnglish,healsoconsidersathirdpointofcomparison:theBNC,acorpuscarefullydesignedtogiveabalancedpictureofcontemporaryBritishEnglishandoftencitedasamodelforothercorpus-buildingprojects.Sharofffindsthathiswebcorpus(preparedusingthesamemethodwehaveused)ismoresimilartotheBNC,thaneitherofthemaretothenewspapercorpus.ThissuggeststhatJpWaCgivesafullerpictureofcurrentJapanesethandonewspapercorporasuchasMainichiShimbun.Thefindingsareinaccordancewithseveralotherstudiesthatexplorethenatureofwebcorpora.Kilgarriff_2003reviewthefieldandshowthatapprovedorcorrectformsaretypicallyordersofmagnitudemorecommononthewebthanincorrectordisparagedforms.InKeller_2003theyundertakepsycholinguisticstudieswhichshowthatassociationsbetweenpairsofwordsasfoundontheweb,usingsearchenginehit-counts,correspondcloselytoassociationsinthementallexicon(andforrareritems,thewebassociationsdoabetterjobofapproximatingmental-lexiconassociationsthandoextrapolationsfromtheBNC).Theissueofcorpuscompositioniscrucialformanypotentialusersofthecorpus.Considerforexampledictionarypublishers,whoareperhapstheuserswiththegreatestneedforlarge,balancedcorpora.(TheimpetusfortheBNCcamefromdictionarypublishingatOxfordUniversityPressandLongman.)Forthem,newspapercorporaareinadequatebecausetheyincludeonlyjournalism,andjournalismisarelativelyformaltexttype.Dictionariesneedtocoverthevastnumberofinformalwords,phrasesandconstructionsthatarecommoninthespokenlanguagebutwhichrarelymakeitintonewspapers.Theywouldlikethecorporatheyusetobenotonlyverylarge,butalsotoincludeasubstantialproportionofinformallanguage.IntheBNC,thiswasaddressedbygatheringandtranscribing(atgreatexpense)fivemillionwordsofconversationalspokenEnglish.Sizeisalsoanissue.At100millionwords,theBNCwas,intheearly1990s,avastresource,whichlexicographersandotherlanguageresearchersrevelledin.Butfifteenyearson,itnolongerlookslargewhencomparedtotheweb,andlexicographerswhohavebeenusingitextensivelyatOxfordUniversityPressandLongman,arevividlyawarethatforsomephenomena,itdoesnotprovideenoughdata.TheleadingUKdictionary-makersarenowallworkingwithlarger(andmoremodern)corpora,ofbetween200millionand2billionwords.At400millionwordsofheterogenousJapanese,JpWaCisagoodsizeforcontemporarydictionarymaking.OurinitialinvestigationssuggestthatJpWaCwillbeagoodcorpus,intermsofsize,composition,andavailability,forJapaneselexicography.ForthesamereasonsitwillbeausefulresourceforexercisessuchasthepreparationofwordlistsforJapaneselanguageteachingandotherresearchrequiringgoodcoverageofcurrentJapanesevocabularyacrossthefullrangeofgenres.</subsection>
  <subsection title="Other Japanese web corpora">WeareawareoftwoJapanesewebcorporathatarecomparabletoours.Ueyama_2005usedverysimilarmethods.Thedifferencesaresimplythattheircorpusissmaller(at62millionwords)andthattheyalsoclassifythecorpusintermsoftopicdomainsandgenretypes.Kawahara_2006crawledtheJapanesewebveryextensivelyandhavepreparedacorpusaroundfivetimeslargerthanJpWaCinformofextractedsentences.Theauthorskindlyallowedusaccesstothedata,andwehaveexaminedsamplesandbelieveittobeahighqualityresource,comparableinmanywaystoJpWaC.</subsection>
  <section title="The Sketch Engine for Japanese">InthissectionwedescribehowJpWaCwaspreparedfortheSketchEngineandthedevelopmentoftheshallowgrammaticalrelationdefinitionstosupportwordsketching.LoadingacorpusintotheSketchEngineenablestheuseofstandardfunctions,suchasconcordances,whichincludesearchingforphrases,collocates,grammaticalpatterns,sortingconcordancesaccordingtovariouscriteria,identifying``subcorpora''etc.Inaddition,afterdefiningthegrammaticalrelationsandloadingthemintoSketchEngine,thetoolfindsallthegrammaticalrelationinstancesandoffersaccesstothemoreadvancedfunctions:wordsketches,thesaurus,andsketchdiffs.</section>
  <subsection title="Loading the corpus">TheSketchEnginesupportsloadingofanycorporaofanylanguage,eitheronthecommandlineforlocalinstallationsofthesoftware,orusingthe`CorpusBuilder'webinterface.Inordertocreategoodwordsketchresults,thecorpusshouldbelemmatizedandPoS-tagged.(Itisalsopossibletoapplythetooltowordformsonly,whichcanstillgiveusefuloutput.)Theinputformatofthecorpusisbasedonthe``wordperline''standarddevelopedfortheStuttgartCorpusToolsChrist_1994.Eachwordisonanewline,andforeachword,therecanbeanumberoffieldsspecifyingfurtherinformationabouttheword,separatedbytabs.Thefieldsofinterestherearewordform,PoS-tagandlemma.Otherconstituentssuchasparagraphs,sentencesanddocuments,canbeaddedwithassociatedattribute-valuepairsinXML-likeformat)..AnexampleisgiveninFigure2.Asdescribedabove,JpWaChadbeenlemmatizedandpart-of-speechtaggedwiththeChaSentool.Itwasthenconvertedintoword-per-lineformat.</subsection>
  <subsection title="Preparing grammatical relations">Forproducingwordsketches,thesaurusandsketchdiffsgrammaticalrelationsneedtobedefined.Thismini-grammarofsyntacticpatternsenablesthesystemtoautomaticallyidentifypossiblerelationsofwordstoagivenkeyword.Itislanguageandtagset-specific.TheformalismusesregularexpressionsoverPoS-tags.Asanexamplewegivebelowasimpledefinitionforanadjectivemodifierrelation:=modifies2:[tag=&quot;Ai&quot;]1:[tag=&quot;N&quot;]Thegrammaticalrelationstatesthat,ifwefindanadjective(PoStagAi)immediatelyfollowedbyanoun(PoStagstartswithN),thenamodifiesrelationholdsbetweenthenoun(labelled1)andtheadjective(labelled2).Amorecomplexdefinition,asusedinJpWaC,isgivenbelow.Herewedefineapairofrelations,modifier_Aiandmodifies_N,whicharedualsofeachother:ifw1isintherelationmodifier_Aitow2,thenw2isintherelationmodifies_Ntow1.Westartbydeclaringthatwehavetwo`dual'relations,andgivethemtheirnames.Thencomesthepatternitself,withthetwoargumentsforthetworelationslabelled2and1.Thepatternexcludesthenaiadjectivalform(usingtheoperator``!'')andpossiblyincludesaprefixbeforethenoun(usingtheoperator``?'').Sincethetag``N.*''includesalsosuffixesandboundnouns,weexcludethesefromtheresults.*DUAL=modifier_Ai/modifies_N2:[tag=&quot;Ai.*&quot;&amp;word!=&quot;ない|無い&quot;][tag=&quot;Pref.*&quot;]?1:[tag=&quot;N.*&quot;&amp;tag!=&quot;N.Suff.*&quot;&amp;tag!=&quot;N.bnd.*&quot;]TheSketchEnginefindsallmatchesforthesepatternsinthecorpusandstorestheminadatabase,completewiththecorpuspositionwherethematchwaslocated.Thedatabaseisusedforpreparing(atruntime)wordsketchesandsketchdifferencesand(atcompiletime)athesaurus.Whentheusercallsupawordsketchforanoun,thesoftwarecountshowofteneachadjectiveoccursinthemodifier_Airelationwiththenoun,andcomputesthesalienceoftheadjectiveforthenounusingasalienceformulabasedontheDiceco-efficient.Iftheadjectiveisabovethesaliencethreshold,itappearsinthewordsketch.Asmentioned,theJapanesegrammaticalrelationsarepreparedusingtheChaSenPoStagsandtokens.TheChaSentagsarequitedetailed(88tags),andthetokenisationis``narrow'':itsplitsinflectionalmorphemesfromtheirstems.Thishasadvantagesanddisadvantagesinthecreationofgrammaticalrelations.Theadvantageisthatbyusingalreadypreciselydefinedtagsandsmalltokens,itiseasiertodefinedesiredpatternsandtheneedtospecifyadditionalconstraintsislower.Themaindisadvantageisthatsometimesatargetedstringisdividedintoseveraltokensbytheanalyzer,makingitmoredifficulttodefinepatternsandimpossibletoretrievesometypesofresults(forexample,女の人isdividedinto3tokens,onna-no-hito,andisthereforenotconsideredasaunitbythesystem).However,itispossibletosearchforthiskindofstringsintheConcordancewindow,usingtheCQLfunctionality.Wedefined22grammaticalrelationsforJapanese,mostlyusingthe``dual''type.Thereisalsoonesymmetricrelation(whereamatchforrelationRbetweenw1andw2isalsoamatchforRbetweenw2andw1,andoneunaryrelation(involvingonlyoneword).AlthoughthegrammaticalrelationsforotherlanguagesintheSketchEnginenamerelationsbytheirfunctions,suchassubjects,objects,wefounditeasiertoremainonthelevelofparticles(が,は,をetc.)andavoidthecomplexityoftopicvs.subjectfunctions-differencesbetweenはandがparticles.AsimilarapproachisseeninKawahara_2006.Sincethegrammaticalrelationsformalismissequence-based,itisbettersuitedtolanguageswithfixedwordorder,suchasEnglish.TherearealreadysomereportsonaddressingtheproblemoffreewordorderincreationofCzechandSlovenewordsketchesKilgarriff_2004,Krek_2006,wherethesimplemechanismofgapsinthepatternsisemployedasoneofthesolutions.WealsouseitfortheJapanesewordsketches.Intheexamplebelow,upto5tokensareallowed,usingthenotation[]0,5,betweenthecaseparticleでandthecorrespondingverb.*DUAL=nounで/でverb2:[tag=&quot;N.*&quot;][tag=&quot;P.c.g&quot;&amp;word=&quot;で&quot;][]0,51:[tag=&quot;V.*&quot;]|[tag=&quot;N.Vs&quot;][tag=&quot;V.*&quot;]Thiskindofpatterncoversanexamplesuchas:授業で，少しだけ講演させて頂きました．N.*P.c.g&amp;で[]0,5N.VsV.*Whileforsomelanguagestrinaryrelations(betweenthreedependentitems)wereusefulforidentifyingprepositionalphrases,wedefinedprepositionalphrasesemployingdualrelations.Inthisway,wewereabletospecifyconstraintsrelevantforaspecificparticle,whichgavehigherprecisionoutput.Ontheotherhand,todefinegrammaticalrelationsforthephrasalverbsinJapanese(forexample,toquerymostrelevantobjectsandsubjectsofidioms,suchasSがOを気に入る)theexistingrelationsprovedtobetooweak,astheyarelimitedto3-tokenrelations.Whiletheserelationsarenotdisplayedinthewordsketch,theycanbefoundusingthe`sortcollocations'functionalityintheconcordancer.Thegrammaticalrelationswouldideallybemoresophisticated,butwehavefoundthatverysimpledefinitions,whilelinguisticallyunambitious,producegoodresults.Linguisticallycomplexinstancesaremissedwhenusingsimpledefinitions,butitisgenerallythecasethatasmallnumberofsimplepatternscoverahighproportionofinstances,sothemajorityofhighsaliencecollocatesarereadilyfound,givenalargeenoughcorpusKilgarriff_2004.ForJapanese,asforotherlanguages,PoS-taggingerrorscausemoreanomalousoutputthandoweaknessesinthegrammar.Howevertheseerrorsarerareandthequalityofthewordsketchoutputisgood.Weevaluatedtheoutputofsixitems（元気，閉める，女の子，多分，温かい，温泉）thathadalltogetherapprox.1000collocationalinstances(grammaticalrelations'instances)inthewordsketchesoutput.TheresultshowedthatonlysevenoutputmistakeswereduetoPoS-taggingerrors(forexample,温泉へ行う（おこなう）insteadof行く（いく）)andfourofthemwereduetoashortcomingofthegramrelspecification.FourteencasesofferedvaluablecollocationalinformationbutwereincompleteduetoChaSen'snarrowtokenization（っぽいの女の子）.Nonetheless,infutureversions,weplantoaddmoreadvancedrelationsintothesystemandcoveralsotheinstancesthatarenowmissedandnotabletosearchfor(forexample,mutli-wordunitsand`suru'verbs).</subsection>
  <subsection title="Word sketches">Thewordsketchforawordpresentsalistofallofitssalientcollocates,organisedbythegrammaticalrelationsholdingbetweenwordandcollocate.Thegrammaticalrelationsareasnamedanddefinedintheprevioussection,andthecollocatesareasfoundinthecorpus.Foreachcollocatelisted,thewordsketchprovides:thestatisticalsalienceandfrequencywithwhichkeywordandcollocateoccurtogether;linkstoconcordances,sowecanexplorethepatternbylookingatthecorpusexamples.Thewordsketchalsoprovideslinkstogrammaticalrelations,wherewecanseehowthepatternisdefinedinsidethesystem.Wepresentedwordsketchesforthenounお湯intheopeningsection;herewegiveanotherexample,thistimefortheverb閉める(shimeru)(Figure3).Herethegrammaticalrelationsrevealdifferentnoun-particle-verbrelations,suchasドアを閉める，カーテンは閉める，カーテン・扉・店が閉められる，後ろ手・鍵で閉める．Wecanalsoeasilyfindthemostrelevantboundverbsthatappearwiththeverb:閉めきる，閉め直す，閉めてくれる・いただく・もらうetc.Adverbsthatusuallymodifytheverb,しっかり，きちんと，必ずimplythattheactionisdone/shouldbedonefirmly,tightly,definitely.Thesuffixesthatappearwiththeverb（られる，させる，っぱなし）suggestthefrequentpassiveandcausativeusageoftheverb.Aftercheckingtheconcordance,wecanalsoselectanumberofusefulusageexamples:ドアがきちんと閉められています，雨戸を閉めさせる，カーテンを閉めっぱなしにする).</subsection>
  <subsection title="Thesaurus">ThesemanticsimilarityintheSketchEngineisbasedon``sharedtriples''(forexample,雑誌and本sharethesametriple?を読む).Whenwefindapairofgrammaticalrelationinstances,suchas雑誌を読むand本を読むwithhighsalienceforbothwords,本and雑誌,weuseitasapieceofevidenceforassumingthewordsbelongtothesamethesauruscategory.Thethesaurusisbuiltbycomputing``nearestneighbours''foreachword,andbasedonthetraditionofautomaticthesaurusbuildingSparck_1986,Grefenstette_1994,Lin_1998.Wepresentathesaurusentryforthewordお湯inFigure4.Ascanbeseenfromthelistofthewordsinthethesaurus,theycanalsosuggestdifferentsensesofaword.Inthecaseofお湯,theseare`bath'（風呂）andお湯asaliquid`hot/warmwater'（液体，熱湯）(seealsoSection1).Thethesaurusalsorevealsthatthewordissemanticallymostsimilartotheword湯(yu),whichisactuallyavariationoftheお湯(oyu),andaddsonanadditionalsense`hotspring'（温泉）．Italsoofferssetsofrelatedwordsbelongingtothesamesemanticdomains,indicatingthatお湯issemanticallyrelatedtofood/drinkanditspreparation（スープ，牛乳，お茶，紅茶，ご飯，鍋など），towaterflow/liquids（液体，液，海水，水道），tobathing（シャワー，汗，湯船）etc.Italsorelatesto水，熱湯anditsantonym冷水．</subsection>
  <subsection title="Sketch Differences">Thedifferencebetweentwonear-synonymscanbeidentifiedasthetriplesthathavehighsalienceforoneword,butnooccurrences(orlowsalience)fortheother.Basedonthistypeofdataonvariousgrammaticalrelationsandtheirsalience,aone-pagesummaryforsketchdifferencesbetweentwosemanticallysimilarwordscanbepresented.Thesystemisalsousefulforshowingdifferencesinlanguageusageforwordsthatareconsideredsemanticallysimilarbutdifferentorthographically,forexample良い(yoi/ii)andいい(ii),aswellasforshowingdifferencesoftransitive/intransitivesemanticpairs,suchas閉める・閉まる(shimeru/shimaru).Thesketchdifferencesummaryoffersthelistofcollocatesthatarecommonforthecomparingpairshowingtheirsalienceandfrequencyvariance,aswellasthelistofcollocatesthatappearonlywithonewordofthecomparingpair.Figure5showspartialresultsofthesketchdifferencefor女の子(onnanoko,`girl')and男の子(otokonoko,`boy').Aiadjective-nounrelationsthatarecommontoboth(commonpatterns),andthatapplyonlytooneofthewords(``女の子''onlypatternsand``男の子''onlypatterns)aredisplayed.Fromtheresultswecanseethat可愛い，いい，althoughcommontoboth,ismorepresentasthecollocationto女の子．``Onlypatterns''revealthatかわいらしい，美しい，強いcollocateonlywith女の子andthatカッコイイ，かっこいい，弱いappearsonlywith男の子．Beforewepresentedwordsketchesforthewordお湯．Comparingitwithitscoordinatenoun水inthesketchdifferenceshowsclearlythatonly水collocateswith冷たい，おいしいandonlyお湯with熱い．</subsection>
  <section title="Evaluation">WeevaluatedthewordsketchesresultsbycomparingthemtotenrandomlyselectedentriesintheJapanesecollocationaldictionary『日本語表現活用辞典』Himeno_2004.Herewebrieflysummarizetheresults,foradetaileddescriptionpleaserefertoSrdanovic_2008.Thefirstdifferencetobenoticedisinthenumberofgrammaticalrelationsholdingbetweenthewordsofacollocation,orcollocationtypes.TheSketchEngineoffersaricherset.AswellasAnaadjectivesandverbs,therearenouns,Aiadjectives,adverbsandothers.Alsoforonewordclassthereisarichervarietyofcollocations.Forexample,forverbs,therearenotjustcollocationswithが，を，と，にasinthedictionary,butalsowithで，まで，から，へandはparticles.Thecomparisonalsosuggeststhatthewordsketchisausefultoolforselectingthemostrelevantcollocations---forexample,theveryfrequentかすかな記憶wasmissedinthedictionary.Therearealsosomecollocationsinthedictionary,whichwerenotpresent(ornotregardedassignificant)intheJpWaCwordsketches.Forverbs閉めるand閉まるwefindcollocationssuchasドア，まど，カーテン,butwedonotfind襖and障子whicharepresentinthedictionary.Thissuggestsdifferencesinthecorporaused(thedictionaryusesnewspapercorpus,modernliteratureetc.)andindicatesthatlanguagechangehasoccurredandthesetwocollocationsarenolongercurrent.Inaddition,thedictionaryusuallyoffersexamplesformostsignificantcollocations.TheSketchEngineisusefulforfindinggoodexamplesbecausetheusercanclickonthewordinthewordsketchtoseeaconcordanceofthesentencesthatthecollocationoccursin.Lastly,ThesaurusandSketchDifffunctionscanalsobeusedtoeasilyobtainrelevantdataonsimilarwords.Thistypeofdatacanbeusedforcross-referencesandtoshowthedifferencesbetweensimilarwords,whicharerarelycapturedinthedictionary.Althoughitseemsthat閉めるand閉まるsharealmostthesamecollocations,somedifferencescanberapidlyfoundintheSketchDiff---forexample,レストラン，商店，図書館areusedonlywith閉まる．Inthisevaluation,weconcentratedoncollocationaldictionariesandconfirmedthatwordsketchesareausefultoolincompilingsuchdictionaries.Ashasalreadybeenshownforotherlanguages,theapplicationofthetoolisinfactbroader---inlexicography,forcompilationofvariousdictionarytypes,aswellasforNLP,languageresearch,andlanguageteaching.</section>
  <section title="Conclusion and further work">InthispaperwepresentedhowJpWaC,a400-million-wordJapanesewebcorpus,andasetofJapanesegrammaticalrelationswerecreatedandemployedinsidetheSketchEngine.TheSketchEngineusesgrammaticalrelations(definedwithregularexpressionsoverpart-of-speechtags)andlexicalstatistics,appliedtoalargecorpus,tofindusefullinguisticinformation:themostsalientcollocationandgrammaticalpatternsforaword.ThetoolhasalreadyprovedtobeusefulforEnglishandotherlanguages,andwebelievethattheJapaneseversionofthetoolisastepforwardincorpus-basedlexicography,languagelearning,andlinguisticresearchforJapanese.ItspossibleapplicationinthevariousfieldsisinvestigatedandexemplifiedinSrdanovic_2008.Asfuturework,weplantomakethesystemuser-friendlyforbothnative-speakersandlearnersofJapanese,byprovidingaJapaneseinterfaceandbyofferingoptiontochoosebetweenEnglishandJapanesetagsetsandgrammaticalrelationnames,andbyprovidingthecorpusalsoinfuriganaandromajitranscriptions.Weshallalsoenrichthegrammaticalrelationset.WealsoaimtoaddsomeotherJapanesecorporaintothesystem,whichamongotherthingswouldbeinterestingfromthepointofviewofcomparingvariouscorpora.Currentlyalong-termcorpusdevelopmentprojectisinprogressattheNationalInstituteoftheJapaneseLanguageMaekawa_2006.LoadingthesecorporaintotheSketchEnginetoolisbeingconsideredTono_2007.WewillalsoconsiderpossiblebenefitsofimplementingsomeothermorphologicalandstructuralanalysersfortheJapaneselanguage.Finally,weshallexploreadirectapplicationofthesystemtothecreationoflearner'sdictionariesErjavec_2006andCALLsystemsNishina_2007.authorswouldliketothankSergeSharoffforprovidingtheURLlist,whichservedasthebasisforconstructingtheJpWaCcorpus,allthecollaboratorsoftheWACprojectformakingtheirsoftwareavailable,andtheanonymousreviewersfortheirusefulcomments.document</section>
</root>
