<?xml version="1.0" ?>
<root>
  <title>日英機械翻訳システムTWINTRANの言語知識と翻訳品質の評価</title>
  <author>吉見毅彦Jelinek西田収田村直之村上温夫</author>
  <jabstract>本稿では，日英機械翻訳システムTWINTRANの言語知識(辞書と規則)と翻訳品質の評価結果について述べる．TWINTRANは次のような設計方針に基づくシステムである．1)翻訳対象と翻訳方向を日本語テキストから英語テキストへの翻訳に固定し，日本語の解析知識の記述を，日本語文法だけでなく英語文法も考慮に入れて行なう．2)解釈の曖昧性の解消は，各規則に与えた優先度に基づいて解釈の候補に優劣を付け，候補の中から最も優先度の高い解釈を選択することによって行なう．3)動詞の主語や目的語など日本語では任意的だが英語では義務的である情報を得るために照応解析を行なう．機械翻訳機能試験文集を対象として行なったウィンドウテストでは，我々の評価基準で，試験文集の73.1%の文が合格となり，試験文集全体の平均点も合格点を上回る結果が得られた．</jabstract>
  <jkeywords>機械翻訳，曖昧性解消，優先度，照応解析，日英対照分析</jkeywords>
  <section title="はじめに">これまでに開発されている機械翻訳システムの多くはトランスファ方式に基づいており，原言語の性質だけに依存する解析辞書・規則と，原言語と目的言語の両方の性質に依存する対照辞書・規則が個別に記述されている．他方，翻訳対象言語対と翻訳方向を固定した上で，解析知識の記述を，原言語の性質だけでなく目的言語の性質も考慮に入れて行なうという設計方針もある．このような方針を採ると，ある原言語(例えば日本語)の解析知識を，異なる目的言語へのシステム(例えば日英システムと日中システム)で共用できるというトランスファ方式の利点が失われ，別の目的言語へのシステムを開発する場合には新たな解析知識の記述が必要になる．しかし，当面，ある特定の原言語から特定の目的言語への翻訳に焦点を絞れば，以下のような利点が得られる．原言語の表現と目的言語の表現を比較的表層のレベルで対応付けることができる．例えば動詞と補足語との結合関係は，翻訳対象と翻訳方向を日本語テキストから英語テキストへの翻訳に固定した場合，日本語の助詞と英語の前置詞との対応として記述できる．従って，結合関係を深層格として抽象化する必要がなくなり，深層格の認定基準の設定などの困難が避けられる．翻訳対象言語対と翻訳方向を固定しない場合，ある目的言語の生成には必要ないが別の目的言語の生成には必要な情報も解析過程で抽出しておく必要がある．これに対して，翻訳対象と翻訳方向を固定すると，原言語を解析する知識を記述する際に目的言語の性質を考慮することが可能になるため，目的言語の生成に必要な情報のみを抽出すればよくなり，無駄な処理が避けられる．このようなことから，我々のシステムTWINTRANでは，目的を日英翻訳に限定した上で，英語の適切なテキストを生成するためには日本語テキストがどのように解析されていなければならないかという観点から辞書と全規則群を記述している．辞書では，英語に翻訳する際にこれ以上分解するとその意味が変化してしまう表現はそれ以上分解せずに一見出しとして登録する(,節)．構文解析規則では，動詞と補足語との結合関係を日本語の助詞とその英訳との対応に基づいて区別し，動詞型を日本語の結合価パターンと英語の結合価パターンとの対に基づいて設定する(,節)．また，日本語の連体従属節を英語の関係節に翻訳するための関係詞決定規則を設ける(,節)．日本語で明示することは希であるが英語では明示しなければならない言語形式上の必須情報(名詞句の定/不定性の区別や，動詞の主語や目的語になる代名詞など)を得るために，照応解析規則を陳述縮約パラダイムに基づいて記述する(,節)．TWINTRANと同じように日本語の解析知識を日英対照の観点から記述しているシステムとして，ALT-J/Eや，US式翻訳システムなどがこれまでに報告されている．これらのシステムでも照応解析が行なわれているが，構造を持たない言語表現の間で成立する照応すなわち語と語の間の照応の解析に留まっている．これに対してTWINTRANでは，文や句など構造を持つ言語表現間の照応も扱う．機械翻訳システムにおける重要な課題の一つは，テキスト解釈の曖昧性を解消し妥当な解釈を一意に決定することである．曖昧性解消へのアプローチには，言語知識を絶対的な基準(制約)とみなす立場と，相対的な比較基準(選好)とみなす立場がある．前者では，ある解釈を受理するか棄却するかの判断は，その解釈と他の解釈を比較せずに行なわれる．これに対して後者では，ある解釈の選択は他の解釈との比較に基づいて行なわれる．TWINTRANでは後者の立場から，各規則に優先度を付与し，それに基づいて解釈の候補に優劣を付け，候補の中から最も優先度の高い解釈を選択することによって曖昧性の解消を行なう．テキスト解析では，形態素解析規則から照応解析規則に至るまでいくつかの種類の規則が利用され，それぞれ異なる観点から一つの解釈の良さが評価される．このとき，ある種類の規則による解釈の良さと他の種類の規則による解釈の良さが競合する可能性があるため，各観点からの評価をどのように調整するかが重要となる．TWINTRANでは，構文，共起的意味，照応に関する各規則による優先度の重み付き総和が最も高い解釈をテキストの最良解釈とする(,節)．以下，,節ないし,節で各処理過程について説明し，,節で翻訳品質評価実験の結果を示す．</section>
  <section title="辞書">TWINTRANには，解析に必要な情報だけでなく変換や生成に必要な情報の大半も記述した辞書と，屈折形や派生形の生成に必要な情報を記述した辞書が存在する．以降，前者を単に辞書と呼ぶ．辞書には現在約13万見出しが登録されており，各見出し表現に与えられている情報は形態素前接番号，形態素後接番号，同形異義に関する優先度(自然数)，語種(品詞)，人称，性，数，意味標識，共起制約，陳述縮約度，対訳情報である．各情報についての説明は，それらを利用した処理について述べる節で行なう．辞書は，英語でのひとまとまりの表現に対応する日本語でのひとまとまりの表現を認識することを目的としている．このため，日本語文法単独ではひとまとまりの表現ではないが日英翻訳の観点からはひとまとまりとみなすべき表現は一つの見出しとして登録している．例として，「雨」という語で始まる見出しの一部について語種と対訳情報を表,に示す．語種``sgnpli''と``ntmo''と``nuc''は名詞類，``a2v''は副詞類，``ve1''は動詞類，``subj''は主語格標識をそれぞれ意味する．「雨が降(る)」と「雨模様(だ)」には，一つの語種ではなく``nucsubjve1''という語種列を与えているが，これによって一つの見出しを構文木上の複数の終端節点に対応付けている．この語種列からどのような構文木が構成されるかは,節で述べる．実際の辞書の対訳情報には，英単語だけでなく，変換と生成のための特殊記号が含まれているが，表,では簡単のために英単語のみを示した．実際の処理では，この特殊記号に基づいて動詞の屈折形などを決定する．</section>
  <section title="形態素解析">形態素解析では，辞書情報のうち見出し表現，形態素前接番号，形態素後接番号，同形異義に関する優先度を参照する．さらに，後接番号と前接番号の接続可能性を記述した接続表を利用する．接続表には，接続可能な後接番号と前接番号の組と，その接続に関する優先度(0.1,0.2,,1.0の十段階)が記述されている．形態素解析は，チャート構文解析法の原理に従って行なう．入力文を構成する各文字の間に番号付きの節点が存在すると考えると，チャート法による形態素解析は，前述の前接，後接番号と接続表に基づいて，節点の間を結ぶ弧を順次生成することによって進む．_1_iから成る弧と，の右側に隣接する弧_i+1を結合して新たな弧を生成するとき，弧に与える優先度は1)弧が持つ接続優先度と，_iと_i+1の接続優先度との積と，2)弧が持つ同形異義優先度と，_i+1の同形異義優先度との和の二種類とする．形態素解析での最良解釈の選択は，これら二種類の優先度に基づいて二段階で行なう．まず，ある同一節点区間を結ぶ弧の中から，最も高い接続優先度を持つ弧を選び出し，それ以外の弧は棄却する．この選択で解釈が唯一に決まれば，それを最良解釈とする．さもなければ，接続優先度が最も高い弧の中から同形異義優先度が最も高い弧を選び，それ以外は棄却する．同形異義優先度が最も高い弧が複数存在する場合，それらすべてを最良解釈とする．形態素解析の後処理として，構文的な構造を作る必要がない語種，すなわち構文木の一節点とみなす必要がない語種を一つにまとめる．例えば動詞の語幹を表す語種と屈折を表す語種をまとめる処理を行なう．</section>
  <section title="構文解析">拡張文脈自由文法形式に基づいて，構文解析規則の記述形式を次のように定める．ここで，B_i/はB_iの主辞がAの主辞になることを意味し，Augは補強項であり，Prioはこの規則の適用優先度(自然数)，DLは構文範疇Aの陳述縮約度である．陳述縮約度については,節で説明する．TWINTRANに実装されている構文解析規則の総数は1734であり，規則記述に用いられている終端構文範疇の数(異なり数)と非終端構文範疇の数(異なり数)はそれぞれ307と208である．規則の一部を図,に示す．図,の規則(a)と(b)は，複数の文から成るテキスト全体を一つの構文木で表現するための規則である．規則(h)ないし(k)は，動詞の補足語をまとめる規則である．動詞と補足語の結合関係は，深層格として抽象化せず，日本語の助詞とその英訳との対応に基づいて表層で区別し，表,の16種類を設定している．表,の「雨が降(る)」に与えられている語種列``nucsubjve1''からは，規則(m)，(l)，(h)，(f)によって次のような構文木が構成される．[	]規則(f)の手続きcheck_vpat(ve1)は，VPATとしてまとめられた補足語のすべてが動詞型ve1の動詞と結合できるかどうかを表,に基づいて調べる．表,は，動詞がどのような補足語と結合できるかという観点から能動態の動詞を19種類に分類したものの一部である．この他に，受動態，使役態，間接受動態，可能態と，これらの組合せ(受動使役態など)について結合可能な補足語の種類を記述している．構文解析規則の記述では，,節で述べた形態素解析での優先度や，,節で述べる共起的意味や照応に関する優先度と異なり，優先的に適用したい規則ほど小さい数値を与える．各規則に付与されている優先度の分布を表,に示す．Aを頂点とする構文木の優先度は，B_i(1im)を頂点とする構文木の優先度の和に，規則の優先度Prioを加えた値とする．終端構文範疇を頂点とする構文木の優先度は0とする．構文解析では最良解釈の選択は行なわず，規則で許されるすべての解釈を出力する．これらは圧縮したチャート表現で表される．</section>
  <section title="英語必須補足語の補完と関係節の処理">よく知られているように，日本語動詞の主語や目的語などはそれらが何を指しているかが文脈から推測できる場合には明示する必要がないのに対して，英語動詞の主語や目的語は言語形式上の必須要素であるため代名詞などとして明示する必要がある．従って，適切な代名詞を補うことが，品質の高い英語テキストを生成するためには必要不可欠である．TWINTRANでは，適切な代名詞を決定する処理を1)まず，どの補足語を補う必要があるか(例えば主語を補うべきか目的語を補うべきか)を決定し，2)次に，補われた補足語を具体的にどのような代名詞(I，you，sheなど)として英訳するかを決定するという二段階で行なう．後者の処理は,節で述べる共起的意味解析と照応解析で行なう．前者の処理は図,に示すような規則に従って実行する．図,の規則は，現在着目している節の主動詞がvg3型の能動態である場合の規則であり，1)SUBJもAGもその動詞と結合していないならばSUBJを補い，2)SUBJは結合していないがAGが結合しているならばAGをSUBJとみなすことを意味する．関係節として英訳しなければならない従属節に補足語を補う場合，どの補足語を補うかの決定は，関係詞の先行詞になる名詞が従属節の主動詞とどのような関係で結合するかを判定した後，すなわち関係詞を決定した後に行なう．関係詞を決定する規則は1)関係詞の先行詞になる主名詞の意味標識，2)従属節の主動詞の型，3)従属節の主動詞と結合している補足語の種類に基づいて記述されている．関係詞決定規則には適用の優先度を五段階で付与しており，優先度の高い規則から順に適用を試み，ある段階の優先度の規則の適用が成功すれば，それより低い優先度の規則の適用は行なわない．この優先度は構文に関する優先度に加算される．この優先度も,節で述べた構文に関する優先度と同じく，数値が小さいほど良い．図,に示す第一の規則は，最も優先度が高い規則群に属する．この規則は，従属節の主動詞がOBJと結合できる場合の規則であり，関係詞の先行詞になる主名詞の意味標識がHUM(人間)の下位概念を表し，かつ従属節の主動詞にOBJが結合していなければ，関係詞``whom''を構文木に補うことを意味する．第二の規則は，他のどの規則も適用できなかった場合に無条件で適用される規則であり，関係詞``whereby''を生成する．</section>
  <section title="共起的意味・照応解析">共起的意味解析と照応解析は一つの枠組で統合的に実行する．共起的意味・照応解析では，AND/ORグラフ上での遅延評価による優先度計算機構によって，テキスト解釈候補の中から(準)最良解釈を効率的に選び出す．</section>
  <subsection title="共起的意味解析">動詞とその補足語の間の共起的意味解析は，上位下位関係を記述した意味体系を参照しながら，動詞の結合価パターンの各スロットに記述されている共起制約と補足語の人称，性，数，意味標識を照合し，その結果に応じて共起的意味に関する優先度を与える．もし必要ならば，共起制約に違反する解釈も生成する．なぜならば，構文，共起的意味，照応の観点からの優先度がそれぞれ最も高い解釈から，システムが持つ知識全体での最良解釈が構成されるとは限らず，共起制約に違反する解釈からシステム全体での最良解釈が生成される可能性もあるからである．共起制約に違反する解釈を必要に応じて生成するもう一つの理由は，意味的に不適格な文に対して頑健な処理を実現するためである．このような処理が必要になる表現の典型的な例は比喩である．共起制約に違反する解釈を棄却する立場では比喩に対する解釈を生成することができない．これに対して，共起制約に違反する解釈であっても相対的に見て最良解釈であるならば，これを受理する本稿のような立場では，比喩に対しても解釈を生成することができる．ただし，共起制約に違反する解釈をすべて比喩として受理するのではなく，比喩とみなせる解釈とそうでない解釈を弁別する処理が必要であるが，TWINTRANでは実現されていない．共起的意味に関する優先度は，共起制約が満たされる場合10とし，満たされない場合には-6としている．</subsection>
  <subsection title="照応解析">適格なテキストでは文と文のつながりによって結束が維持されている．テキストの結束を維持する言語的手段には，照応，代用，省略，接続表現の使用，語彙的つながりがある．照応は，複数の言語表現が一つの事象に言及することによってテキストの結束を生む手段であり，文や句や語などの様々な言語表現の間で成立する．例えば次のテキスト,では，文「ソ連の国家非常事態委員会は19日，ゴルバチョフ大統領を解任した」と，名詞句「大統領の解任」と，照応詞「この」と，空主語「_」との間で照応が成立している．ソ連の国家非常事態委員会は19日，ゴルバチョフ大統領を解任したと発表した．大統領の解任が西側の対ソ政策に重大な影響を及ぼすことは必至である．政府は，臨時の閣議を開き，この事態への対応を協議している．また，_為替相場へ及ぼす影響も懸念されている．TEXTテキストでこのような照応解釈が成立するのは，陳述縮約パラダイムによれば，例えば文「ソ連の国家非常事態委員会は19日，ゴルバチョフ大統領を解任した」をXとし，名詞句「大統領の解任」をYとしたとき，これらが次の三つの制約を満たすからである．ここで，解釈XとYは構文木上の節点XとYにそれぞれ対応するものとする</subsection>
  <subsection title="構文，共起的意味，照応に関する優先度に基づく総合評価">共起的意味・照応解析系では，さらに，次のような総合評価式に基づいて構文，共起的意味，照応に関する各優先度を組み合わせた評価を行ない，解析系全体での(準)最良解釈を選び出す．S_，S_，S_はそれぞれ構文，共起的意味，照応に関する優先度であり，W_，W_，W_は各優先度についての相対的重要度である．理想的なテキストでは，構文，共起的意味，照応の各最良解釈から全体での最良解釈が構成される可能性が高いと考えられる．これに対して現実のテキストでは，各優先度に基づく最良解釈の間で競合が生じ，各最良解釈が相容れないことがある．このような場合，どの解釈を優先させるかは，主に相対的重要度W_，W_，W_を調整することによって経験的に決定する．今回の実験では，W_，W_，W_を，訓練用テキストの分析結果に基づいて，それぞれ21，3，1とした．</subsection>
  <section title="動詞型に基づく変換">動詞型に基づく変換の目的は，補足語に前置詞を付加することと，英文での補足語の位置を決定することである．この処理は図,に示すような規則に従って行なう．図,の手続きprefix()は，第一引数の補足語に，第二引数で指定された前置詞を付加する．手続きmove()は，補足語を動詞の後方に移し，引数で指定された順序に並べ換える．引数に記述されていない補足語は元の位置に残しておく．例えば「少年が(SUBJ)犬と(CP)川を(PTR)泳いでいる(vh)．」という文から生成される構文木は，図,の規則により``boyswimover|across|throughriverwithdog''に対応する木に変換される．</section>
  <section title="個別の変換情報に基づく変換">個別の変換情報による変換は，辞書の対訳情報に基づいて木構造を書き換える．対訳情報は英単語，中間記号，セパレータから成る．中間記号は，さらに，ここで扱う変換記号と生成系で扱う生成記号に分けられる．対訳情報の例を表,に挙げる．表,において，英大文字と数字は中間記号を，英小文字は英単語をそれぞれ意味し，それ以外はセパレータである．変換記号は全部で53種類定義されているが，その一部を表,に示す．簡単な変換の例として「この理論は発話行為の観点からの意図が扱える．」という文に対する処理を図,に示す．変換の前処理として，対訳情報を構造化し，変換記号なども木構造上の一節点とみなす．図,に現れている変換記号は名詞句の移動に関するAとBと，動詞の移動に関するDOであり，それぞれの移動を矢印で示すように行なう．なお記号94，AT，T，ZRは生成記号である．</section>
  <section title="生成">生成規則には，名詞句へ付加する冠詞を決定する規則，屈折形や派生形を決定する規則，副詞の最終的な位置を決定する規則，時制の調整を行なう規則などがある．これらのうち冠詞の生成に関しては，辞書で冠詞が一意に指定されている場合と文脈に依存して決まる場合があるが，後者の場合には照応解析の結果に基づいて冠詞を決定する．すなわち，ある名詞句が他の事象を指していれば定冠詞を選択し，そうでなければ不定冠詞あるいはゼロ冠詞を選択する．また，名詞の屈折形の決定に関しても，照応解析結果に基づいて単数形，複数形の生成を行なう．</section>
  <section title="翻訳実験"/>
  <subsection title="実験方法">実験には，池原らによって編集された機械翻訳機能試験文集の2868文を用いた．まず，試験文集に合わせた準備を全く行なわない完全ブラインドテストを行ない，その評価結果に基づいて辞書と規則を修正した後，ウィンドウテストを行なった．試験文集だけに合わせた修正は極力避け，一般性のある修正を行なうように努めた．翻訳品質の評価，辞書と規則の修正，試験のサイクルは四回繰り返した．評価および修正はすべて一名で行なった．完全ブラインドテストの結果の評価から第四回目のウィンドウテストの結果の評価までに要した期間は，およそ六ヶ月であった．翻訳品質評価の基準は，訳文が1)文法的か，2)わかりやすいか，3)原文の意味と一致するか，4)利用者の役に立つかという観点から表,のように設定した．この評価基準において，4点以上を合格とし，それ未満を不合格とする．</subsection>
  <subsection title="実験結果">完全ブラインドテストと四回目のウィンドウテストでの評価点の分布を表,に示す．合格した文の数は，完全ブラインドテストでは全体の46.4%にあたる1332文，ウィンドウテストでは2096文(73.1%)であった．評価点の平均は，完全ブラインドテストでは2.7点で合格点に達しなかったが，ウィンドウテストでは4.2点と合格点を上回った．各評価点を与えられた文の数が完全ブラインドテストとウィンドウテストでどのように変化したかを見ると，合格領域の6点ないし4点となる文数はいずれも増加し，不合格領域の3点ないし-2点となる文数はいずれも減少している．特に，何も出力されないために0点となる文数の減少が著しい．これは主に，完全ブラインドテストでは入力文全体を覆う構文木が生成できず何も出力されなかった文に対して，ウィンドウテストでは全体の構文木が生成できるようになったことによる．各文の評価値が完全ブラインドテストとウィンドウテストでどのように変化したかの分布を表,に示す．表,によれば，評価点が向上した文数(表の左下隅の領域)は1186文(41.4%)であり，そのうち不合格から合格へ改善された文数は835文である．逆に，評価値が低下した文数(表の右上隅の領域)は204文(7.1%)であり，そのうち合格から不合格へ悪化した文数は71文である．また，両テストで評価点に変化がなかった文数(表の対角線上)は1478文(51.5%)である．この結果から，辞書と規則の修正による悪影響を比較的小さく抑えつつ，翻訳品質の改善が実現できているといえる．完全ブラインドテストとウィンドウテストでの翻訳例を付録の表,に示す．</subsection>
  <section title="おわりに">本稿では，日英機械翻訳システムTWINTRANの辞書と規則について述べ，NTT機械翻訳機能試験文集を対象として行なった翻訳品質評価実験の結果を示した．ウィンドウテストでは，我々の評価基準で，試験文集の73.1%の文が合格となり，試験文集全体の平均点も合格点を上回る結果が得られた．今回は，複数の文から成るテキストを対象とした評価実験は行なわなかったため，文間照応の認識によって得られる効果が確認できなかった．今後，テキストを対象とした実験を行なう必要がある．</section>
</root>
