\documentstyle[epsbox,jnlpbbl]{jnlp_j}

\setcounter{page}{51}
\setcounter{巻数}{7}
\setcounter{号数}{5}
\setcounter{年}{2000}
\setcounter{月}{11}
\受付{2000}{1}{6}
\再受付{2000}{3}{21}
\再々受付{2000}{6}{1}
\採録{2000}{6}{16}

\setcounter{secnumdepth}{2}

\title{音声合成におけるポーズ制御のための \\
決定リストを用いた局所係り受け解析}
\author{梅村 祥之\affiref{KUEE} \and 原田 義久\affiref{KUEE}
\affiref{KUEE2} \and
	清水 司\affiref{KUEE} \and 杉本 軍司\affiref{KUEE}}
\headauthor{梅村 祥之,原田 義久,清水 司,杉本 軍司}
\headtitle{決定リストを用いた局所係り受け解析}
\affilabel{KUEE}{(株)豊田中央研究所}
{Toyota Central Research and Development Laboratories Incorporated}

\affilabel{KUEE2}{現在，名古屋商科大学，商学部}
{Faculty of Commerce and Business Administration, Nagoya University of Commerce and Business Administration}

\jabstract{
音声合成におけるポーズ制御において重要となる局所係り受け解析に関し，
決定リストを用いる方法を開発し，ポーズ挿入の正解率をF値で評価したとこ
ろ90.04\%を得た．本係り受け解析は決定リストを用いているので，
使用するメモリの容量と
処理速度に関して設定を容易に変更できるという特徴を有している．
このため，用途に応じてメモリ容量，計算速度が選択できる．
計算速度を重視し，メモリ容量を12Kバイトと小さくした場合，
文あたりのポーズ設定処理の時間7msec（PentiumIII450MHz），F値85\%となり，
音声合成システムへの実装が現実的であることがわかった．
係り受け解析結果に基づくポーズ挿入位置制御規則を作成し，聴取実験によっ
て性能を確認した．
その結果，係り受け距離のみに基づく制御で，85\%程度のポーズ挿入位置が
挿入適当という結果であった．
さらに，句読点や，ポーズの連続などの要因を取り入れて規則の精緻化を行っ
た結果，91\%程度のポーズ挿入位置が挿入適当という結果が得られた．
}

\jkeywords{音声合成，ポーズ制御，係り受け解析，局所解析，決定リスト}

\etitle{Partial Dependency Structure Analysis \\
Using Decision Lists for Pause Insertions \\
of Speech Synthesizers}
\eauthor{Yoshiyuki Umemura \affiref{KUEE}
        \and Yoshihisa Harata \affiref{KUEE} \affiref{KUEE2}
        \and  Tsukasa Shimizu \affiref{KUEE} \and 
	Gunji Sugimoto \affiref{KUEE}}

\eabstract{
We developed a method which used decision lists for partial dependency 
analysis which was important for a pause control of a speech synthesis.
As the result of its evaluation using F measure as the accuracy of
pause insertions, it was 90.04\%. 
This method based on decision lists has a good point about flexibility
adjusting the memory usage and the processing speed.
In the case of small 12K Bytes memory and high speed,
the processing time to set pauses of a sentence is 7msec
(PentiumIII450MHz) and F measure is 85\%. These results indicate that
this method is applicable for the actual speech synthesis systems.
We made rules for pause insertions and confirmed the performance
by subjective evaluations.
As the result, the appropriate rate was about 85 \% by the control
derived only by dependency distances and the appropriate rate was
about 91 \% by the control derived additional factors such as punctuation marks and succession of pauses.
}

\ekeywords{Speech Synthesizer, Pause Control,
	Dependency Analysis, Partial Analysis, Decision List}

\begin{document}
\maketitle

\section{はじめに}
\label{はじめに}

近年，カーナビゲーションシステムを初めとする種々の情報機器が自動車に搭載され，
様々な情報通信サービスが始まりつつある．提供される情報には，交通情報，
タウン情報，電子メール，ニュース記事等がある．
自動車環境での情報提供では，文字表示よりも，音声による提示が重要との考えから
\footnote{道路交通法 第71条 ５の５で，運転中に画像表示用装置を注視することが
禁じられている}，
文章データを入力して音声波形に変換するテキスト音声合成技術の
重要性が増している．
テキスト音声合成技術は，近年，コンピュータの性能の大幅な向上や
自動車用途でのニーズの増大に牽引され，研究開発が進んでいるものの，
品質面で，現在まだ，いろいろな問題が残されている
\cite{山崎1995,矢頭1996,塚田1996,広瀬1997}．
そのうち，韻律の制御が良くないと，不自然で，棒読みな感じを与え，
悪くすると意味を取り違えることにもなる．
音声の韻律には，イントネーション，ポーズ，リズム，アクセントなどが含ま
れる．
本論文は，入力文から，ポーズ挿入位置を判定する技術において中心的な役割を
果たす係り受け解析法および解析結果に基づくポーズ挿入位置判定法に関する
ものである．


まず，文から係り受け構造を求めるための，係り受け解析では，
文全体を係り受け解析する方法\cite{佐藤1999}と，
局所係り受け解析する方法\cite{鈴木1995}があるが，
韻律制御用途には，後述のごとく局所係り受け解析で十分なことから，
計算量の面からも有利な局所解析が得策と考えられる．

言語処理分野において，係り受け解析はいろいろな処理のベースとなる基本的
解析手法との位置付けから，多くの研究が継続されており，近年では，コーパスからの
機械学習に基づく方法が盛んである
\cite{藤尾1997,白井1998,春野1998,江原1998,内元1999}．
機械学習方式の場合，対象とする文章のジャンルの変更や，係り受け解析の前処理
である形態素解析と文節まとめ上げ処理の変更に伴って必要となる解析規則辞書の更新
が容易なため，保守と移植のコストが低いという利点を持つ．

機械学習の枠組みの中で，文節間の属性の共起頻度による統計的解析手法
\cite{藤尾1997}や
決定木による係り受け解析手法\cite{春野1998}に比べて，
最大エントロピー法（以下，ME法と略記）
による係り受け解析手法\cite{江原1998,内元1999}が，
最も高精度な手法と考えられている．

しかしながら，ME法による係り受け解析では，
学習によって得られた統計モデルを蓄えた解析辞書の容量を，
設計の現場において削減することによりメモリ量と計算速度を調整するという
ことは容易ではなく，
あるいは，素性を削減して統計モデルを再構築するには，学習に膨大な計算時間を
必要とする\cite{内元1999}．
そのため，
車載情報機器や携帯情報端末など，小型化，低価格化に厳しい要求があり，
しかも極めて短い開発サイクルで設計する必要のある設計現場に向かない
という問題がある．

そこで，ME法と同等の精度で，かつ，
メモリ容量と実行速度の調整が容易で開発現場に受け入れられやすい，
という特徴を持つ係り受け解析手法を開発するため，

\begin{itemize}
  \item 
	ポーズ挿入位置決定の目的にあった，局所係り受け解析
 \item
	メモリ容量と実行速度に関して容易に設定変更が
	でき，アルゴリズムがシンプルで移植・保守の容易な
	決定リスト \cite{Yarowsky1994}
\end{itemize}
を採用することにした．


係り受け解析結果に基づくポーズ挿入位置判定では，
文の構文的な構造とポーズ，イントネーションとの関係に関する研究がなされ
\cite{杉藤1997,杉藤1989a}，
構文構造に基づいてポーズ挿入位置を決定する研究がなされている
\cite{匂坂1993,海木1996,佐藤1999,清水1999}．
その結果，近傍文節間の係り受け関係がポーズ挿入位置の決定に重要であることが
わかってきている．
近傍文節としてどの程度を考えるかに関しては，文節間距離を３文節分扱うも
の\cite{鈴木1995}から
距離=1,2,3,4以上の範囲を扱うもの\cite{佐藤1999}まである．
また，ポーズ位置決定の要因は，係り受け構造の他にも，読点
\cite{海木1996}，文節の種類\cite{清水1999}，
生理的な息継ぎの必要性\cite{杉藤1989b}などがあり，
ポーズ制御アルゴリズムの中に盛り込まれている．
従来研究の中で，ポーズ挿入位置設定規則検討のための実験を最も大規模に
行っているのは文献\cite{海木1996}の研究である．
この研究では，アナウンサ10名によって発声させたATR音声データベースの503文の
ポーズ長を分析して，それに基づいてポーズ挿入規則を作成し，
それを基にポーズ制御した合成音声100文と自然音声のポーズ長をそのまま使っ
てポーズ制御した合成音声100文を10名の被験者に提示してポーズ挿入規則の
評価を行い，自然音声のポーズと同等なポーズ挿入規則が作成されたと報告さ
れている．

他の研究は，扱う文数が少なく，文献\cite{鈴木1995}では６文，
文献\cite{河井1994}では５文などである．
これらの従来研究では，係り受け関係を主要因としてその他いくつかの要因も
加味した韻律規則が提案され，人間の発声する音声のポーズに比べて，８〜９
割りの一致率を達成しているとされている．しかしながら，十分な文の数では
ないため，言語構造の様々な面がポーズ制御規則に反映されているかどうかと
いう疑問がある．

本論文では，これらの研究から明らかになった，係り受け距離と句読点に基づくポー
ズ挿入規則をベースに作成した合成音声を用いて聴取実験を行い，
悪い評価となった文を分析することによって，
さらに追加すべき規則がないかどうか検討する．
なお，聴取実験における文の数としては，従来研究で良好な制御と評価される
文の割合が８〜９割であることを踏まえて，
悪い評価となる文の数が分析に十分な数だけ得られるように，
500文を用いることにする．


\section{決定リストを用いた局所解析}
\label{決定リストを用いた局所解析}

\subsection{手法}
\label{手法}

本論文の手法は，決定リストを用いて，文節間係り受け関係を判定している．
特に\cite{Yarowsky1994}で述べられた手法をベースにして決定リストを構築
する．同文献の手法を単に説明する．
同文献で扱っている問題は，フランス語とスペイン語の文でアクセント記号が
欠落した単語（アルファベットに \^　 や ' が付いた文字）を文脈情報を用いて
復元する問題である．
文脈中に証拠 \(Collocation_i\) （例えば共起単語）が存在するとき
アクセント記号が \(Accent\_Pattern_1\) （例えば \^　 が必要）である条件付き確率
\(Pr(Accent\_Pattern_1 | Collocation_i)\)と，
同じ証拠\(Collocation_i\)が存在するのに，アクセント記号が\(Accent\_Pattern_2\)
（例えば \^　 は不要）である条件付き確率
\(Pr(Accent\_Pattern_2 | Collocation_i)\)から，
この証拠によってアクセント記号を \(Accent\_Pattern_1\) であると推定するときの
証拠能力の強さを次のように対数尤度比で計算する．
\begin{displaymath}
 abs( \log \frac{Pr(Accent\_Pattern_1 | Collocation_i)} {Pr(Accent\_Pattern_2 | Collocation_i)})
\end{displaymath}
様々な証拠 （\(Collocation_1,...\)）に関して上式の尤度比を求め，大きいものから
順に証拠\(Collocation_i\)と判定（\(Accent\_Pattern_1\)か\(Accent\_Pattern_2\)か）を
リスト状に並べる．また，
\begin{displaymath}
 abs(\log \frac{Pr(Accent\_Pattern_1)}{Pr(Accent\_Pattern_2)})
\end{displaymath}
をこのリストの下限とする．これを決定リストという．
判定段階で，リストを尤度比の大きいものから順に読み込み，
その証拠が入力文に合致するかどうかを調べ，合致すれば対応する判定を出力して
終了し，合致しなければ，リストの次のものを調べる．このようにして順に調べ，
いずれにも合致しなければリストの下限の判定を出力する．
なお，証拠として何を使うかは，解析の対象が何であるかに依存し，一般論はなく，
言語学上の知見や語の意味情報などを使う．

次に，統計的係り受け解析を簡単に説明する．
係り受け解析は，例えば，次のように，各々の文節が，どの文節に係るかを求める
処理である．
\begin{quote}
　　例：　ポーズ制御に　大きく　影響する　近傍の　係り受けを　解析して
\vspace{-2mm}

　　　　　──────　───　────　───　─────　────
\vspace{-2mm}

　　　　　　　│　　　　　│　↑↑│　│　　↑↑　　　　│　　↑
\vspace{-2mm}

　　　　　　　│　　　　　└─┘││　└──┘│　　　　└──┘
\vspace{-2mm}

　　　　　　　└──距離２───┘└距離２──┘
\end{quote}
文節間の係り受けを求めるに際して，日本語においては，通常次のような条件が
成り立つことを利用する．
\begin{enumerate}
  \item １つの文節は１つの文節に係る
  \item 係り受け関係はお互いに交差しない
  \item 前の文節から後ろの文節に係る
\end{enumerate}
通常，これらの条件を満足するいくつかの係り受け候補があるため，
文節間の係りやすさの確率を統計的に求め，これを基に，
文全体の最適な係り受け関係を求めるのが統計的係り受け解析である．

係り受けを決定リストによって決定する方法として，
従属節係り受けに決定リストを用いた解析\cite{宇津呂1999}が提案されている．
同文献に示された従属節係り受けの例は次のようである．
\begin{quote}
　値上げするが，なまじ３％なので，つい業者負担というケースがでてくるだろう
\vspace{-2mm}

　──────　　　　　　────　　　　　　　　　　　　　───────
\vspace{-2mm}

　　　　│　　　　　　　　　　│　　　　　　　　　　　　　　　　↑　↑
\vspace{-2mm}

　　　　│　　　　　　　　　　└────────────────┘　│
\vspace{-2mm}

　　　　└─────────────────────────────┘
\end{quote}


  我々の手法は，韻律制御において必要な局所係り受け解析に決定リストを適
用したものである．ここで，本論文で取り上げる局所係り受け解析とは，係り
元文節から係り先文節までの距離（文節数で定義）が１であるか２以上である
かを判定するタスクである．
\begin{quote}

　例：　ポーズ制御に　大きく　影響する　近傍の　係り受けを　解析して
\vspace{-2mm}

　　　　──────　───　────　───　─────　────
\vspace{-2mm}

　　　　　　│　　　　↑
\vspace{-2mm}

　　　　　　└────┴──→‥‥

\end{quote}
なお，この局所解析の範囲をさらに１つ広げて，直後の文節に係るか，係り受
け距離２の文節に係るか，係り受け距離３以上の文節に係るかを判定する次の
タスクを考えることもできる．
\begin{quote}

　例：　ポーズ制御に　大きく　影響する　近傍の　係り受けを　解析して
\vspace{-2mm}

　　　　──────　───　────　───　─────　────
\vspace{-2mm}

　　　　　　　│　　　　↑　　　↑
\vspace{-2mm}

　　　　　　　└────┴───┴→‥‥

\end{quote}
その解析結果を韻律制御に用いて，係り受け距離の大きさが大きいほど長いポー
ズ長にするという制御方式もあるが，このような細かな制御の効果は薄い．
そのため，以下では，係り受け距離１か２以上かの判定のタスクを局所係り受
け解析として扱う．



決定リストの素性（証拠）の構成に関しては，従来の統計的係り受け解析で用
いられているものを参考にして，基本的な構成（素性１と称する）と
複合的な構成（素性２と称する）の2タイプを定める．
各々の内容を表１，表２に示す．
なお，主辞は，最後の自立語として定義する．
品詞と詳細品詞は，形態素解析ソフトJumanの定義に従う．

\begin{figure}[t]
  \begin{center}
	\atari(105,108)
  \end{center}
\end{figure}


\setcounter{table}{2}

\subsection{実験と結果}

局所係り受け解析の性能評価を次の評価方法で行う．
\begin{itemize}
  \item 京大コーパスの5,000文で評価する

  \item 「係り受け距離１ならポーズを挿入せず，２以上なら挿入する」という
	基準を正解とみなす

  \item 次の定義のF値により評価する\\
        再現率 = ポーズ挿入の正解箇所にシステムがポーズを挿入した数\\
        　　　　　／ ポーズ挿入の正解箇所の数\\
        適合率 = ポーズ挿入の正解箇所にシステムがポーズを挿入した数\\
	　　　　　／ システムがポーズを挿入した数\\
        F値 = (1 / (( 1 / 再現率 + 1 / 適合率 ) / 2))\\
	ここで，ポーズ挿入の正解とは，「係り受け距離１ならポーズを挿入
        せず，２以上なら挿入する」という操作を正解とみなす

  \item 局所係り受け解析を評価するにあたり，前処理として100\%正解のもの
	を与える．ここで，前処理とは，形態素解析と文節まとめ上げである．
\end{itemize}

\subsubsection{（１）人手による規則でのポーズ制御のF値}
\begin{quote}
     人手による簡単な規則に基づく解析でどれだけのF値になるかを調べる．
     規則は，文献\cite{内元1999} で示された表\ref{人手規則}の規則を
     用いる．
     前述の5,000文に対するF値として，次の評価結果を得た．\\
     F値    = 75.35\%
\end{quote}
\begin{table*}
\caption{人手規則}
\label{人手規則}
\begin{center}
\begin{tabular}{ll} \hline
	{\it 前文節語形の条件} &	{\it 係り先} \\ \hline
     の（接続助詞）                  &   前文節の次の文節\\
     指示詞                          &   前文節の次の文節\\
     連体詞                          &   前文節の次の文節\\
     の（格助詞），かつ，読点あり    &   前文節の次の文節\\
     格助詞                          &   動詞を含む最も近い文節\\
     は（副助詞）                    &   動詞を含む最も近い文節\\
     連体形                          &   名詞を含む最も近い文節\\
     タ形                            &   名詞を含む最も近い文節\\
     連用形                          &   動詞を含む最も近い文節\\
     テ形                            &   動詞を含む最も近い文節\\
     接続詞                          &   文末の文節\\
     名詞性述語接尾辞，かつ，読点あり&   動詞を含む最も近い文節\\
     名詞性名詞接尾辞，かつ，読点あり&   動詞を含む最も近い文節\\
     名詞性特殊接尾辞，かつ，読点あり&   動詞を含む最も近い文節\\
     名詞性述語接尾辞                &   前文節の次の文節\\
     名詞性名詞接尾辞                &   前文節の次の文節\\
     名詞性特殊接尾辞                &   前文節の次の文節\\
     副詞                            &   動詞を含む最も近い文節\\
     その他                          &   前文節の次の文節\\ \hline
\end{tabular}
\end{center}
\end{table*}


\subsubsection{（２）開発手法によるポーズ制御のF値}
\ref{手法}で説明した２種類の素性，素性１，素性２を用いて決定リストを構
成し，それを基にポーズ挿入位置の判定を行ったときのF値を求める．
\begin{quote}
   素性１による結果：\\
   　　F値 = 88.18\%，正解率 = 92.22\%\\
   素性１と素性２を決定リストに統合した結果：\\
   　　F値 = 90.04\%，正解率 = 93.33\%\\
   以上の結果を図１に示す．
\end{quote}

\begin{figure}[t]
  \begin{center}
	\atari(56,32)
    \vspace{-3mm}
    \caption{素性の数や順序による精度の変化}
    \vspace{-5mm}
  \end{center}
\end{figure}


\subsubsection{（３）学習量によるF値の変化}
\begin{quote}
   学習に用いる文の数を徐々に増加させて，正解率，F値が上昇する様子を調
   べる．学習の文数を1,000文から1,000文づつ1万文まで増加させる．評価は別
   の5,000文で行う．結果を表\ref{学習の文数と精度の関係}と図２に示す．
   １万文では完全に飽和はしていない．
\end{quote}

\begin{table*}
\caption{学習の文数と精度の関係}
\label{学習の文数と精度の関係}
\begin{center}
\begin{tabular}{rll} \hline
	{\it 文数} &	{\it F値 \%} &	{\it 正解率 \%} \\ \hline
    1000   & 87.01		& 91.45 \\
    2000	& 87.94		& 92.06 \\
    3000	& 88.52		& 92.40 \\
    4000	& 88.91		& 92.64 \\
    5000	& 89.36		& 92.92 \\
    6000	& 89.53		& 93.02 \\
    7000	& 89.73		& 93.15 \\
    8000	& 89.85		& 93.21 \\
    9000	& 89.96		& 93.27 \\
   10000	& 90.03		& 93.33 \\ \hline
\end{tabular}
\end{center}
\end{table*}

\begin{figure}[t]
  \begin{center}
	\atari(76,58)
    \vspace{-3mm}
    \caption{学習曲線}
    \vspace{-5mm}
  \end{center}
\end{figure}

\subsection{辞書容量の削減}

   統計的言語解析手法で高い正解率を得るためには，一般に，解析辞書として
   多くのメモリ容量を必要とし，計算時間も長くかかる．
   それに対して，本法では，メモリ容量と計算速度を目的とするシステムの
   リソースの状況に合わせて調整することが可能である．以下にその方法を
   述べる．
   
       辞書データ，すなわち，決定リストは，その原理上，
       判定のための証拠を重要な順に並べている．
       よって，メモリ容量を半減したければ，決定リストの上位から半分を残して
       それ以下を削除すればよい．

       また，計算速度に関しても，決定リストのサイズを削減してゆくと，
       決定リストの上位から順に条件判定をする方式のため，単調に
       速度が向上して行くという性質を持つ．

   メモリ容量を減らして，計算速度を上げれば，その代償として正解率は低
   下する．以下に，決定リストのサイズを 1/1, 1/2, 1/5, 1/10, 1/20, 1/50,
   1/100 に変化させて，正解率と判定時間を測定し，
   表\ref{決定リストの辞書容量削減と精度の関係}，図３に示す．

   なお，実験条件の詳細は以下の通りである．
   \begin{itemize}
	\item 学習量は1万文固定である．

	\item 計算時間の算出は，実測によって行った．使用したプログラミング言語
	      はLISPで，計算機は，PentiumIII 450MHzである．また，形態
	      素解析と文節まとめ上げ済みのデータがメモリに読み込まれており，
	      決定リストもメモリに読み込まれているという前提で，
	      各文節から直後の文節への係り受け関係を判定して，
	      それを基にポーズ挿入の判定を行うまでの時間を測定する．

        \item メモリ容量を算出するにあたっては，決定リストの１行に現れ
	      る素性の組合わせを表現するのに必要な情報量から，
	      １行を3バイトにコーディング可能であるため，
	      この数値を採用して計算した．
   \end{itemize}

\begin{table*}
\caption{決定リストの辞書容量削減と精度の関係}
\label{決定リストの辞書容量削減と精度の関係}
\begin{center}
\begin{tabular}{lrrrr} \hline
	{\it サイズ} &	{\it 行数} &	{\it メモリ\(バイト\)} &
        {時間/文 (msec)} & {F値 (\%)} \\ \hline
   1/1		& 20626	&   61878	&   12.1206 &	 90.03\\
   1/2		& 10313	&   30939	&    9.8716 &	 87.97\\
   1/5		&  4120	&   12360	&    6.9882 &	 84.91\\
   1/10		&  2057	&    6171	&    5.1746 &	 77.87\\
   1/20		&  1025	&    3075	&    3.9918 &	 75.76\\
   1/50		&   404	&    1212	&    3.1610 &	 72.82\\
   1/100	&   183	&     549	&    2.7914 &	 71.38\\ \hline
\end{tabular}
\end{center}
\end{table*}

\begin{figure}[t]
  \begin{center}
	\atari(94,47)
    \caption{メモリ容量と精度(F値),計算時間の関係}
    \vspace{-5mm}
  \end{center}
\end{figure}

\section{ポーズ挿入規則}

\subsection{予備検討}

\cite{海木1996}において，作成された規則を基にポーズ制御した
合成音声100文と自然音声のポーズ長をそのまま使ってポーズ制御した
合成音声100文を10名の被験者に提示してポーズ挿入規則の評価を行っている．
それに対し，我々は，従来規則の精緻化を検討するために，従来規則に基づいて
ポーズ挿入された合成音声を聴取実験によって収集した，悪い評価の文を，
文の言語構造に着目して分析することによってポーズ挿入規則の精緻化を試み
る．
そのため，聴取実験においては，ベースとなるポーズ挿入規則で作った合成音
声の各文の各文節間に挿入されたポーズの良し悪しを被験者に評価してもらい，
評価結果を蓄積する．

予備検討の結果，ポーズの挿入された個所に関して，ポーズの要不
要を判定することはできるが，ポーズの挿入されていない個所に関して，ポー
ズに要不要を判定することは困難であることがわかった．
必要なポーズが欠落している場合に，文全体が棒読みであるという印象を受け
るが，どこのポーズが不足しているかを判断することは困難である．
そこで，以下の聴取実験において，合成音声の各ポーズ挿入個所に関して，
ポーズの要不要を判定し，あわせて，文全体としてポーズが不足しているかを
判断してもらった．結果的に，文全体としてポーズが不足と評価された文はな
かった．

\subsection{実験方法}

\begin{description}
  \item[対象とする文：]
   京大コーパスの1,000文を用いる．そのうち，500文を用いて，
   係り受け距離のみによるポーズ制御の評価を行う．
   別の500文を用いて，制御規則を精緻化したものの評価を行う．

  \item[被験者：]
   ２０代女性２名，２０代男性１名の合計３名．
   ともに，文系大学生で愛知県出身２名，静岡県出身１名．

  \item[合成音声：]
   市販の音声合成システムを用いる．京大コーパスに付与された係り受け情
   報（解析誤りはほとんどない）を用いて，我々のポーズ制御規則に基づき，音
   声合成システムから出力される中間コード（韻律の制御コードを含むデー
   タ）を変更してから，音声合成する．
   ヘッドホン受聴とし，音声合成される文を見てもよいとした．
\end{description}

次の２項目に関して官能評価する．
\begin{description}
   \item[係り受け距離のみによるポーズ制御に基づく合成音声：]
	合成音声のポーズ個所に関し，ポーズが必要（合成音声のままでよい）か
	 ポーズが不要（合成音声に含まれるポーズがない方がいい）かを判断
	 （評価対象のポーズの総数は1477個所）
   \item[制御規則を精緻化した合成音声：]
	 合成音声のポーズ個所に関し，ポーズが必要（合成音声のままでよい）か
	 ポーズが不要（合成音声に含まれるポーズがない方がいい）かを判断
	 （評価対象のポーズの総数は1584個所）
\end{description}

\subsection{実験結果 — 係り受け距離のみによるポーズ制御 —}

   ベースとなる制御方式として，係り受け距離のみから次のようにポーズ制御する．

   \begin{itemize}
     \item 係り受け距離1なら，ポーズなし．
     \item 係り受け距離2なら，短いポーズ（以下，短ポーズと称する）
     \item 係り受け距離3以上なら，長いポーズ（以下，長ポーズと称する）
   \end{itemize}
   \begin{table}

　　　　　　　　　　　┌ポーズ　　　　　┌ポーズ
\vspace{-2mm}

　　　　　　　　　　　↓　　　　　　　　↓
\vspace{-2mm}

　　例：　ポーズ制御に　大きく　影響する　近傍の　係り受けに　特化して
\vspace{-2mm}

　　　　　──────　───　────　───　─────　────
\vspace{-2mm}

　　　　　　　│　　　　　│　　　↑↑│　│　　　↑↑　│　　　↑
\vspace{-2mm}

　　　　　　　│　　　　　└ｄ＝１┘││　└ｄ＝１┘│　└ｄ＝１┘
\vspace{-2mm}

　　　　　　　└係り受け距離ｄ＝２─┘└──ｄ＝２─┘
   \end{table}


   ３名の被験者の判定結果を表\ref{係り受け距離のみに基づくポーズ制御の評価結果}
   ，図４に示す．合成音声のポーズ個所に関し，ポーズが必要（合成音声のままで
   よい）か不要か（合成音声に含まれているポーズがないほうがよい）かを
   判断してもらっているので，ポーズ必要は制御がよいことを意味し，
   ポーズ不要は制御が悪いことを意味する．
   よって，満足の割合を
	P/\(P+Q+N\),     （P:ポーズ必要，Q:ポーズ不要，N: どちらとも言えない）
   あるいは，
	\(P+N\)/\(P+Q+N\)，（P:ポーズ必要，Q:ポーズ不要，N: どちらとも言えない）
   で表すことができる．表\ref{係り受け距離のみに基づくポーズ制御の評価結果}
   にこれらの値も記載した．
   ３名全員の満足度は，前者の指標で 84.1\%, 後者の指標で 87.1\% である．

\begin{table*}
\caption{係り受け距離のみに基づくポーズ制御の評価結果}
\label{係り受け距離のみに基づくポーズ制御の評価結果}
\begin{center}
\begin{tabular}{lrrrrr} \hline
	{\it 被験者} &	{\it P} & {\it Q} & {\it N} & {\it
	P/(P+Q+N) (\%)} & {\it (P+N)/(P+Q+N) (\%) } \\ \hline
   被験者 K   & 1325 &   22 &  130 &  89.7  &     98.5\\
   被験者 N   & 1123 &  352 &    2 &  76.0  & 	  76.2\\
   被験者 T   & 1277 &  197 &    3 &   86.5 & 	  86.7\\
   被験者全員 & 3725 &  571 &  135 &   84.1 & 	  87.1\\ \hline
\end{tabular}
\end{center}
\begin{center}
    （P: ポーズ必要， Q: ポーズ不要， N: どちらとも言えない）\\
\end{center}
\end{table*}

\begin{figure}[t]
  \begin{center}
	\atari(85,111)
    \vspace{-3mm}
    \caption{官能評価結果}
    \vspace{-5mm}
  \end{center}
\end{figure}


   また，被験者間の評価の重なりの割合を調べると次の通りである．
\begin{quote}
   ３名全員がPとした数  ／ ３名のいずれかがPとした数 = 68.1\%\\
   ３名全員がQとした数  ／ ３名のいずれかがQとした数 =  1.3\%
\end{quote}


   本節において，3通りの係り受け距離毎のポーズ制御をしているが，
   \ref{決定リストを用いた局所解析}章 で実験した係り受け解析は，
   係り受け距離１か２以上かを判定するものであった．
   \footnote{係り受け解析の研究開発とポーズ挿入の聴取実験を同時並行で
   進めていたために，このような不整合が生じた}
   定性的には，係り受け距離が２の場合と３以上の場合で，ポーズ長を変え
   る制御の効果は，あまり大きくはなく，聞きやすさの点で多少変わるもの
   の，ポーズが必要か不要かの判定に影響が出るまでには至らない．

   これを確認するために，次のような確認実験を行った．
   係り受け距離２なら短ポーズ，３以上なら長ポーズという制御で作られた
   音声におけるポーズの必要不要の判断が，係り受け距離２以上で長ポーズ
   という制御で作られた音声におけるポーズの必要不要の判断と異なるかを
   調べるには，表 \ref{ポーズ長制御の有無とポーズの必要不要の判断の関係}
   の★印の個所で示しますような，
\begin{quote}
  「短ポーズの個所でポーズ必要と判断されたものが，\\
    長ポーズであれば，ポーズ不要と判断されるか．」
\end{quote}
   について調べれば確認できると考えられる．
   
\begin{table*}
\caption{ポーズ長制御の有無とポーズの必要不要の判断の関係}
\label{ポーズ長制御の有無とポーズの必要不要の判断の関係}


———————————————————————————————————
\vspace{-2mm}

　＜係り受け距離２なら短ポーズ，　　　＜係り受け距離２以上で長ポーズ＞
\vspace{-2mm}

　　３以上なら長ポーズ　　　　＞
\vspace{-2mm}

———————————————————————————————————
\vspace{-2mm}

　＜制御＞　　　　　＜判断＞　　　　　　＜制御＞　　　　　＜判断＞ 
\vspace{-2mm}

　長ポーズ　─┬→　ポーズ必要　　……　長ポーズ　──→　ポーズ必要
\vspace{-2mm}

　　　　　　　└→　ポーズ不要　　……　長ポーズ　──→　ポーズ不要
\vspace{-2mm}

　　　　　　　　　　　　　　
\vspace{-2mm}

　短ポーズ　─┬→　ポーズ必要★　……　長ポーズ　─┬→　ポーズ必要
\vspace{-2mm}

　　　　　　　│　　　　　　　　　　　　　　　　　　└→　ポーズ不要★
\vspace{-2mm}

　　　　　　　└→　ポーズ不要　　……　長ポーズ　─┬→　ポーズ必要
\vspace{-2mm}

　　　　　　　　　　　　　　　　　　　　　　　　　　└→　ポーズ不要
\vspace{-2mm}

———————————————————————————————————

\end{table*}

先の本実験とは異なる３名の被験者に，係り受け距離が２で短ポーズを挿入し
た文のポーズの必要不要を判定してもらい，同じ個所を長ポーズにして，
ポーズの必要不要を判定してもらう．用いる文は，先の本実験の１名の被験者が
係り受け距離２の短ポーズを必要と判断した１１２文（１文に複数個所，
該当するポーズがある場合，初めの１つのみを対象とした）である．

聴取実験の結果，３名全体で，短ポーズが必要で，長ポーズも必要と判断
した数が270に対し，短ポーズが必要で，長ポーズは不要と判断した数が
2であった．したがって，99.3\%の割合で，
「短ポーズの個所でポーズ必要と判断されたものが，
  長ポーズでも，同じくポーズ必要と判断される」ことが確かめられた．

以上から，本節で行った3通りの係り受け距離毎のポーズ制御を対象とした
ポーズの必要不要に関する判定と，
\ref{決定リストを用いた局所解析}章 で提案した係り受け解析に基
づいて，係り受け距離１か２以上かにより長ポーズの挿入を制御した文を対象
としたポーズの必要不要に関する判定は，ほとんど一致すると考えられる．

\subsection{実験結果 — 制御規則の精緻化 —}
\label{実験結果 — 制御規則の精緻化 —}

   先の係り受け距離によるポーズ制御に，従来研究で言われていることを次
   の規則にまとめ，先の係り受け距離による規則に追加する．
   \begin{enumerate}
    \item 連続した複数文節の文節末にポーズがあり，それらのいずれの文節末にも
	句読点がない場合，初めの文節末にのみ長ポーズを入れ，その他の文節末に
	短ポーズを入れる

    \item 連続した複数文節の文節末にポーズがあり，それらのいずれかの文節末に
	句読点がある場合，初めの句読点にのみ長ポーズを入れ，その他の文節末に
	短ポーズを入れる

    \item 句読点と区切り記号「・」には，少なくとも短ポーズを入れる
   \end{enumerate}
   実行順序は，１），２）を並行して行い，その結果に対して３）を適用す
   る．\\
   先の表\ref{係り受け距離のみに基づくポーズ制御の評価結果}に対応する値を
   求め，表\ref{精緻化したポーズ制御の評価結果}，図４に示す．

\begin{table*}
\caption{精緻化したポーズ制御の評価結果}
\label{精緻化したポーズ制御の評価結果}
\begin{center}
\begin{tabular}{lrrrrr} \hline
	{\it 被験者} &	{\it P} & {\it Q} & {\it N} & {\it
	P/(P+Q+N) (\%)} & {\it (P+N)/(P+Q+N) (\%)} \\ \hline
   被験者 K   & 1403 &  107 &   74 &   88.6 &    93.2\\
   被験者 N   & 1457 &  127 &    0 &   92.0 & 	92.0\\
   被験者 T   & 1424 &  146 &   14 &   89.9 & 	90.8\\
   被験者全員 & 4284 &  380 &	88 &   90.2 & 	92.0\\ \hline
\end{tabular}
\end{center}
\begin{center}
    （P: ポーズ必要， Q: ポーズ不要， N: どちらとも言えない）\\
\end{center}
\end{table*}


   また，被験者間の評価の重なりの割合を調べると次の通りである．
\begin{quote}
   ３名全員がPとした数  ／ ３名のいずれかがPとした数 = 81.9\% \\
   ３名全員がQとした数  ／ ３名のいずれかがQとした数 =  9.4\%
\end{quote}

\subsection{ポーズ不要判定を減らす方法の検討}

ポーズ不要と判定されたものは，ポーズ挿入が良くないことを意味する．
ポーズ不要の判定が少なくなるように，従来研究で指摘されていない規則
まで広げてポーズ挿入規則の精緻化を検討する．

まず，\ref{実験結果 — 制御規則の精緻化 —}の聴取実験（３名×500文）で
ポーズ不要と判定された個所380個所に関して，その原因を人手で調査して傾
向を把握する．
その結果，次の５カテゴリとその他の計６カテゴリが得られた
（傾向把握のための人手調査のため，厳密ではない）．
\begin{enumerate}
   \item 京大コーパスの誤り 14個所 （係り先の誤り 12，文節まとめ上げの誤り 2）
   \item 副詞  55個所 \\
	 A(副詞) / B / C で，AがCあるいはそれ以降に係る場合，Aの後にポー
	 ズが不要\\
	 例：　【すでに】(ポーズ不要) / 凍結を / 決め \\
	 　　　【首相は】(ポーズ必要) / 凍結を / 決め 
   \item 並列 34個所 \\
	 A / ( B / C ) のようにBとCが並列の場合，AからCに係るがAの後に
	 ポーズが不要\\
	 例：　相手国の(ポーズ不要) / （ 政治、　/　経済情勢は）
   \item 短い 112個所 \\
	 A / B / C において文節Bが短い文節の場合，ポーズが不要\\
	 例：　日本政府に(ポーズ不要) / 【強く】 / 指示し
   \item 短い括弧内 29個所 \\
	 文中に短い会話文が挿入されている場合，会話文中のポーズが不要\\
	 例：　「三年以内に(ポーズ不要) / 結論を / 出す」と / 閣議決定
   \item その他 136個所
\end{enumerate}
これらのうちの（２）〜（５）は，意味解析等を必要としないため，
現在の言語解析技術を用いれば実行可能な規則である．
しかし，これら（２）〜（５）の条件を満たせば，ポーズを挿入しないという
規則が妥当かどうかを検討する必要がある．
そこで，次の条件を満たせば採用することにする．
\begin{displaymath}
  Pr(ポーズ不要の判定 | 条件) >> Pr(ポーズ必要の判定 | 条件)
\end{displaymath}
なお，（４）における「文節が短い」とは，文節内に形態素が１つしかなく，
かつ，文字数が，２文字以下の場合，あるいは，３文字以下の場合，
あるいは，４文字以下の場合の合計3通りについて調べる．
（５）における挿入会話文が短かいとは，当該文節から2文節以内で括弧が閉じら
れる場合とする．

\ref{実験結果 — 制御規則の精緻化 —}の聴取実験（３名×500文）の
評価結果から，（２）〜（５）の条件毎にポーズの要不要の判定数を求める．
表\ref{ポーズ不要判定減少のための規則}に結果を示す．
条件（３）のみ，わずかにポーズ不要がポーズ必要を上回ったが，
全体として，効果的な規則は得られなかった．

\begin{table*}
\caption{ポーズ不要判定減少のための規則}
\label{ポーズ不要判定減少のための規則}
\begin{center}
\begin{tabular}{lrrr} \hline
   {\it 条件} &	{\it ポーズ必要} & {\it ポーズ不要} & {\it 採否} \\ \hline
   （２）副詞   & 131 &   49 &  ×\\
   （３）並列   & 32 &  38 &   △ \\
   （４）短い(4文字以下)   & 327 &  66 & × \\
   　　　短い(3文字以下)   & 276 &  53 & × \\
   　　　短い(2文字以下)   & 118 &  21 & × \\
   （５）短い括弧内 & 76 &  25 &  ×\\ \hline
\end{tabular}
\end{center}
\end{table*}

\section{考察}

\subsection{局所係り受け解析の精度}

   従来手法の中で最高性能を持つと考えられているME法に基づく係り受け解
   析と比較する．文献\cite{内元1999}は，本報の局所係り受けとは異なり，
   全係り受けを
   求めている．そこで，次のようにして，ME法を用いて本報のポーズ制御を
   行った場合のF値がどの程度かを以下のようにして推定する．

   同文献には，全文節の係り受けの正解率が，人手規則による場合と，ME法
   による場合の結果として記載されている．そこで，同文献と同じ人手規則を
   計算機上に実装して，人手規則による局所係り受け解析に基づくポーズ制
   御を行ったときのF値を求め，両者間で比率の増減量を求め，ME法の前文節
   の正解率にその増減量を加えることにより，ME法でポーズ制御を行う
   ときのF値を推定する．

\begin{tabbing}
	{\it ＜全文節の正解率＞} \= {→} \= {＜ポーズ制御のF値＞} \\
	人手 72.57\% \> → \> 人手 75.35\%\\
	ME法 87.21\% \> → \> 推測 90.55\%（=87.21×75.35/72.57）\\
\end{tabbing}

   ME法で用いた学習量は，約8000文であり，本報で学習量 8000文のときのF値は
   89.85\%，学習量1万文のときのF値は 90.3\%である．
   ME法は，少量の学習量でも高い精度が出るという特徴があり，同じ学習量
   のとき，本法は若干精度が低い．
   しかし，ME法は学習に膨大な計算時間がかかる点，また，
   メモリ容量と計算速度が変えられない点に問題がある．

\subsection{メモリ容量と計算速度の可変性}

   本技術で，メモリ容量と計算速度を調整可能であることは，次の場面で特
   に効果的である．

        車載情報機器において，カーナビゲーション，通信を利用した
	情報提供サービス，音声対話による機器の操作と情報取得などの機能が
	盛り込まれつつある．この中で，特に，音声合成を用いた電子メール，
	交通情報，観光情報，ニュース情報の読み上げにおいては，
	構文解析を用いたポーズ，イントネーション制御が必要であるが，
	前述のように，車載情報機器に様々な機能が盛り込まれ，これを低価格で
	実現する必要があるため，各処理（音声合成，音声認識，画面表示など）
	に割り当てられるメモリを大きく取れないし，１つのCPUでいろいろな機能を
	同時に実行する（マルチタスク処理）必要があるため，計算速度に関しても
	厳しい要求がある．
	
	そのため，こういった要求を満たした車載情報機器全体のシステム設計を短い
	開発期間で行う際に，メモリ容量と計算速度の可変な処理モジュールは
	有用である．

\subsection{ポーズ挿入規則}

   本論文における実験からも，従来から提案されている係り受け距離，句読
   点，ポーズの連続等の情報に基づくポーズ挿入規則の妥当性を確認できた．
   悪い評価結果の文を分析することによる規則の精緻化に関しては，
   並列構造の情報を使えば，有効な制御ができる可能性が見られた．
   この点を詳細に調べるためには，並列構造の情報を用いてポーズ制御した
   音声を作成して再度聴取実験を行うことが必要である．   

\subsection{係り受け解析とポーズ挿入規則}

   本論文におけるポーズ制御音声の聴取実験では，正解の係り受け情報に基づ
   いてポーズ制御した音声を用いた．
   その理由は，本研究の過程における次の事情による．
   すなわち，１０００文の聴取実験をするのに，３名の各被験者に１日２時間
   週２日間程度で，半年弱の期間を要したため，
   聴取実験と同時並行して，係り受け解析法の開発を進めた．
   そのため，聴取実験には，正解の係り受け解析結果に基づくポーズ制御の音声
   を用いた．

   したがって，係り受け解析の精度の評価と，
   係り受け解析が正しい状態でポーズ制御したときの被験者の満足度の評価
   を行ったが，提案手法の解析結果を用いてポーズ制御したときの被験者の
   満足度を，直接評価してはいない．係り受け解析の誤りによるポーズ制御
   の誤りが，官能評価でも誤りと評価されるものと，問題なしと評価されるもの
   があり得るため，今後，さらにその評価が必要である．

\section{まとめ}

局所係り受けの精度は90\%強の高い精度で，かつ，実装しやすいポーズ制御のための
係り受け解析手法を開発した．開発した係り受け解析は次の特徴を持つ．
\begin{itemize}
  \item 保守や移植に有利な機械学習方式である決定リストを採用
  \item ポーズ挿入位置決定の目的に十分な局所係り受け解析を採用
  \item 処理アルゴリズムがシンプルなため，いろいろなシステムへ組み込む
	際の移植が低コストで行える
  \item 使用するメモリの容量と処理速度に関して設定を容易に変更できる

  \item 学会発表されている最高性能の手法であるME法に比べて，若干精度が低
     いが，ME法には，本法のようなメモリ容量と計算速度の可変性はない．
\end{itemize}

本手法のピーク性能（辞書の大きさを最大にしたとき）は，ポーズ制御のため
の係り受け解析としては，十分なものであり，さらに，いろいろなタイプの車
載システムに応じて，メモリ容量と計算時間を調整できるというフレキシキビ
リティーを持つ．

次に，音声合成におけるポーズ挿入位置制御のための規則を作成し，聴取実験によっ
て性能を確認した．
この規則の中心となる主要因は係り受け距離であり，係り受け距離のみに基づ
く制御で，約８５\%のポーズ挿入位置が
挿入適当という結果であった．
さらに，句読点や，ポーズの連続などの要因を取り入れて規則の精緻化を行い，
その結果，約９１\%のポーズ挿入位置が挿入適当という結果が得られた．

\acknowledgment

本研究を進めるにあたって，プログラム，実験等でご協力をいただいた当研究
所，菅原朋子殿，白木伸征殿に感謝致します．


\bibliographystyle{jnlpbbl}
\bibliography{jpaper}

\begin{biography}
\biotitle{略歴}
\bioauthor{梅村 祥之（正会員）}{
1979年岐阜大学工学部電子工学科卒業．1981年名古屋大学大学院工学研究科修士課程修了．同年，東京芝浦電気（株）入社．1988年（株）豊田中央研究所入社．自然言語処理，音響・音声処理，画像処理の研究に従事．}

\bioauthor{原田 義久（非会員）}{
1973年名古屋工業大学計測工学科卒業，1975年東京工業大学
制御工学専攻修士課程修了，工学博士（京都大学），同年（株）豊田中央
研究所入社，2000年名古屋商科大学教授，IEEE ICCD'84優秀論文賞，
IJCNN Best Presentation Award受賞．}

\bioauthor{清水 司（非会員）}{
1993年東北大学工学部通信工学卒業. 1996年京都大学大学院人間・環境学研究科修士
課程修了. 同年，（株）豊田中央研究所入社，現在，音声対話システムに関する研究
に従事.}

\bioauthor{杉本 軍司（非会員）}{
1972年名古屋大学大学院工学研究科博士課程（電子工学）修了．
1973年（株）豊田中央研究所入社，以後，移動ロボット，ITSの研究に従事．
現在，研究推進部部長．ロボット学会，神経回路学会等会員．工博．}

\bioreceived{受付}
\biorevised{再受付}
\biorerevised{再々受付}
\bioaccepted{採録}

\end{biography}

\end{document}
