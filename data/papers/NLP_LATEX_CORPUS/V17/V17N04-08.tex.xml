<?xml version="1.0" ?>
<root>
  <jtitle>統計翻訳における人手で作成された	大規模フレーズテーブルの効果</jtitle>
  <jauthor>村上仁一鏡味良太徳久雅人池原悟</jauthor>
  <jabstract>現在，機械翻訳システムの分野において，対訳データから自動的に翻訳モデルと言語モデルを獲得し，翻訳を行う統計翻訳が注目されている．翻訳モデルでは，原言語の単語列から目的言語の単語列への翻訳を，フレーズテーブルで管理する．しかしフレーズテーブルはプログラムで自動作成するため，カバー率は高いが信頼性は低いと考えられる．一方，手作業で作成した翻訳対は，信頼性は高いがカバー率は低いと考えられる．そこで，それぞれの長所を生かすために，プログラムで自動作成したフレーズ対に手作業で作成した翻訳対を追加することで翻訳精度が向上すると考えた．実験では，手作業で作成された約13万の翻訳対に翻訳確率を与え，プログラムで自動作成したフレーズテーブルに追加した．翻訳実験の結果，BLEUスコアが，日英翻訳の単文では0.9%，重複文では0.8%向上した．また人間による対比較実験を行ったところ，有効性が確認された．以上の結果から，統計翻訳において手作業で作成した翻訳対を追加する提案手法は有効であることが示された．</jabstract>
  <jkeywords>統計翻訳，PhraseTable,手作業</jkeywords>
  <section title="はじめに">現在，機械翻訳システムの分野において，対訳データから自動的に翻訳モデルと言語モデルを獲得し統計的に翻訳を行う，統計翻訳が注目されている．翻訳モデルは，原言語の単語列から目的言語の単語列への翻訳を確率的に表現するモデルである．言語モデルは，目的言語の単語列に対して，それらが起こる確率を与えるモデルである．翻訳モデルには，大きくわけて語に基づく翻訳モデルと句に基づく翻訳モデルがある．初期の統計翻訳は，語に基づく翻訳モデルであった．語に基づく翻訳モデルでは，原言語の単語から目的言語の単語の対応表を作成する．対応する単語が無い場合はNULLMODELに対応させる~．しかし，翻訳文を生成する時，NULLMODELに対して，全ての単語の出現を仮定する必要がある．これが翻訳精度が低下する原因の一つになっていた．そのため現在では句に基づく翻訳モデルが主流になっている~．句に基づく翻訳モデルは，原言語の単語列から目的言語の単語列の翻訳に対して確率を付与する．また，NULLMODELは使用しない．そして，原言語の単語列から目的言語の単語列への翻訳を，フレーズテーブルで管理する．しかし，フレーズテーブルのフレーズ対はヒューリスティクを用いて自動作成されるため，一般にカバー率は高いが信頼性は低いと考えられる．また，フレーズテーブルのフレーズ対は，確率値の信頼性を高めるため，短いフレーズ対に分割される．そのため，長いフレーズ対は少ない．ところで，日英翻訳では，過去に手作業で作成した日本語の単語列から英語の単語列への翻訳対が大量に作成されている．この翻訳対の信頼性は高いと考えられる．しかし自動作成されたフレーズ対と比較すると，カバー率は低い．そこで，本研究では，それぞれの長所を生かすために，プログラムで自動作成したフレーズ対に手作業で作成された翻訳対を追加することで翻訳精度の向上を目指した．本研究では，手作業で作成した原言語の単語列から目的言語の単語列への翻訳対を，自動的に作成したフレーズテーブルに追加する．この追加されたフレーズテーブルを利用して日英翻訳の精度向上を試みる．実験では，日英重複文文型パターン辞書~の対訳文対から得られた翻訳対を利用する．手作業で作成された約13万の翻訳対に翻訳確率を与え，プログラムで自動作成したフレーズテーブルに追加する．この結果，BLEUスコアが，単文では12.5%から13.4%に0.9%向上した．また重複文では7.7%から8.5%に0.8%向上した．また得られた英文100文に対し，人間による対比較実験を行ったところ，単文では，従来法が5文であるのに対し提案法では23文，また重複文では，従来法が15文であるのに対し提案法では35文，翻訳精度が良いと判断された．これらの結果から，自動作成されたフレーズテーブルに手作業で作成された翻訳対を追加する，提案手法の有効性が示された．</section>
  <section title="統計翻訳システム"/>
  <subsection title="基本概念">日英の統計翻訳は，日本語文jが与えられたとき，全ての組合せの中から確率が最大になる英語文eを探索することで翻訳を行う~．以下にその基本式を示す．[e=argmax_eP(j|e)P(e)]P(j|e)は翻訳モデル，P(e)は言語モデルと呼ぶ．翻訳モデルは日本語と英語が対になった対訳コーパスから学習して作成する．また，言語モデルは，出力文側の言語である英語コーパスから学習して作成する．デコーダは言語モデルと翻訳モデルを用いて，尤度の最も高い英文を生成する．</subsection>
  <subsection title="翻訳モデル">翻訳モデルは，日本語の単語列から英語の単語列または英語の単語列から日本語の単語列へ，確率的に翻訳を行うモデルである．翻訳モデルには，大きくわけて語に基づく翻訳モデルと句に基づく翻訳モデルがある．初期の統計翻訳では，語に基づく翻訳モデルを用いていたが，現在は句に基づく翻訳モデルが翻訳精度が高いため主流になっている．句に基づく翻訳モデルでは，日本語や英語の単語列と確率は，フレーズテーブルで管理される~．表にフレーズテーブルの例を示す．このテーブルは，左から，``日本語フレーズ''，``英語フレーズ''，``フレーズの英日翻訳確率P(j|e)''，``英日方向の単語の翻訳確率の積''，``フレーズの日英翻訳確率P(e|j)''，``日英方向の単語の翻訳確率の積''である．</subsection>
  <subsection title="フレーズテーブルの作成法">句に基づく翻訳モデルは，原言語の単語列から目的言語の単語列の翻訳に対して確率を付与する．これをフレーズテーブルで管理する．以下に作成手順について説明する．</subsection>
  <subsection title="言語モデル">言語モデルは，目的言語の単語列に対して，それらが起こる確率を与えるモデルである．日英翻訳では，より英語らしい文に対して高い確率を与えることで，翻訳モデルで翻訳された訳文候補の中から英語として自然な文を選出する．言語モデルとしてはN-gramモデルが代表的である．尚，学習データに表れない単語連鎖確率値を0.0とすると，テストデータにおいて，目的言語の全ての単語列の確率が0.0になって，単語列が出力されないことがある．そのため，学習データに存在しない単語連鎖確率は，スムージングによって0.0以外の確率を割り当てる．代表的なスムージング法として，BackoffやKneser-Neyがある．これらは高次のN-gramに，低次のN-gramと閾値を掛けて利用する．</subsection>
  <subsection title="デコーダ">デコーダは翻訳モデルと言語モデルの確率が最大となる文を探索し，出力する．デコーダとしてmoses~が代表的である．mosesはいくつかのパラメータを設定することが出来る．mosesで設定できるパラメータの例を以下に示す．weight-l…言語モデルの重みweight-t…翻訳モデルの重みweight-d…単語の移動の距離の重みweight-w…目的言語の長さに関するペナルティdistortion-limit…フレーズの並び変えの範囲の制限値これらのパラメータは，パラメータチューニング（節）を行うことで最適値を求めることが出来る．</subsection>
  <subsection title="パラメータチューニング">正解があるdevelopmentデータに対して評価値を最大にするように，デコーダのパラメータを最適化することができる．これをパラメータチューニングと呼ぶ．この方法として，MinimumErrorRateTraining(MERT)~が一般的によく利用される．MERTは，developmentデータの，各文について上位N個（通常100個）の翻訳候補を出力し，目的の評価値（通常BLEU）を最大にするようにデコーダのパラメータの値を調節する．通常，パラメータチューニングを行うと，テストデータのBLEUスコアは上昇する．しかし，実験条件を変更するたびに，パラメータチューニングを行うと，多くの時間がかかる．また，本研究では，全ての実験において，実験条件を同一にする必要がある．そのため，パラメータの最適化は行わない．</subsection>
  <section title="自動的に作成したフレーズテーブルへの翻訳対の追加（提案方法）"/>
  <subsection title="翻訳対への翻訳確率の付与">手作業で作成された翻訳対を，自動的に作成したフレーズテーブルに追加するために，翻訳対に翻訳確率を付与する必要がある．この翻訳確率として，自動作成したフレーズテーブルの翻訳確率を利用する．ただし，フレーズテーブルを作成するときにパラメータgrow-diag-finalを用いると，確率が付与される翻訳対は少ない．そこで，翻訳確率を与えるためのフレーズテーブルには，多くのフレーズ対を作成するパラメータintersectionを用いて作成する．</subsection>
  <subsection title="翻訳対の追加手順">手作業で作成した翻訳対をフレーズテーブルに追加する手順を図に示す．手作業で作成した翻訳対をフレーズテーブルに追加する手順を以下に示す．尚，本稿では，手順4で作成したフレーズテーブルを用いた翻訳をベースラインと呼び，手順5のフレーズテーブルを用いた翻訳を提案手法と呼ぶ．</subsection>
  <section title="翻訳実験">翻訳実験は，単文と重複文の2種類で行う．</section>
  <subsection title="学習データ">単文の翻訳実験には，電子辞書などから抽出した単文10万文対~を学習データとして用いる．重複文の翻訳実験には日英重複文文型パターン辞書~から抽出した対訳文対，121,913文対を用いる．尚，単文10万文は，日本語が単文であるが，対訳英文は単文とは限らず複文の場合もある．重複文121,913文は，日本文が重文もしくは複文であるが，英文は複文とは限らず単文である場合もある．前処理[手順1]を行った対訳文の例を表に示す．</subsection>
  <subsection title="手作業で作成された翻訳対">手作業で作成された翻訳対は，日英重複文文型パターン辞書~から抽出した対訳コーパスから作成された翻訳対261,453個を用いる．この翻訳対は，プロの翻訳者が手動で作成した対訳対で，単語，句，節の単位で対応づけられている．また，この翻訳対は日本語文が重複文で英語が単文もしくは重複文である対訳コーパスから抽出されている．文献~に，この翻訳対の詳しい説明がある．基本的には，日本語文と英語文の対訳文から日本語パターンと英語パターンを作成する．このとき，作成できる日英翻訳対を利用する．翻訳対の抽出において，長さの制限は行っていない．また，重複する句は抽出していない．例を表に示す．手作業で作成された翻訳対の例を表に示す．翻訳対の分布図を図に示す．この図では，縦軸が全体に占める割合で，横軸が1つの翻訳対における単語数である．日本語における単語数を■，英語における単語数を□で示している．これからわかるように，2単語のフレーズが最も多く，単語数と，その単語数がしめる割合は，zipfの法則に沿っていることがわかる．なお，本稿では，手作業で作成された単語列の対訳対を翻訳対と呼ぶ．</subsection>
  <subsection title="テストデータ">テストデータには，電子辞書などから抽出した単文1,000文対~を用いる．重複文の翻訳実験には日英重複文文型パターン辞書~から抽出した対訳文対1,000文対を用いる．ただし，テストデータは学習データ（節）や手作業で作成された翻訳対（節）と，別の辞書を利用する．従って，テストデータは，学習データや翻訳対に対してopendataとなる．</subsection>
  <subsection title="翻訳モデルと言語モデルとデコーダ">フレーズテーブルの作成翻訳モデルはフレーズテーブルで管理される．フレーズテーブルの作成には，train-phrase-model.perl~を用いて自動的に作成する．尚，本稿では，プログラムで自動作成した単語列の対訳対をフレーズ対と呼ぶ．また，フレーズ対の最大の単語数を決めるmaxphraselengthは20とする．N-gramモデルの学習言語モデルには，N-gramモデルを用いる．N-gramモデルの学習には，``SRILM~''を用いる．本研究では5-gramモデルを用いる．また，スムージングのパラメータには，Kneser-Neyである``-ukndiscount''を用いる．デコーダデコーダは``moses~''を用いる．また，翻訳モデルには，日英翻訳確率と英日翻訳確率の相互情報を用いる~．したがって，翻訳モデルの重み``weight-t''は``0.500.500''とする．また，翻訳時にフレーズの位置の変化に柔軟に対応するため，単語の移動重み``weight-d''は0.2とする．また単語の移動距離の制限``distortion-limit''は，-1（無制限を意味）とする．その他は，default値とする．</subsection>
  <subsection title="評価方法">評価は，コンピュータによる自動評価と人間による評価の，2種類で行う．自動評価機械翻訳システムの翻訳精度を自動評価する手法として，あらかじめ実験者が用意した正解文と，翻訳システムが出力した文とを比較する手法が利用されている．この自動評価法には多くの方法が提案されている．本研究では，N-gramを用いたBLEU~と類似単語辞書を用いたMETEOR~を用いる．人間による評価人間による評価として，対比較実験を行う．得られた英文から100文をランダムに抽出し，ベースラインの翻訳結果と提案手法の翻訳結果のどちらの翻訳結果が優れているかを人間で判断する．その際，本研究において固有名詞の未知語はローマ字変換して評価し，それ以外の未知語は存在しないとして評価を行う．</subsection>
  <subsection title="実験結果　フレーズテーブルの増加数">ベースラインのフレーズ数，確率値が付与できた翻訳対の数，最終的に作成されたフレーズ数を表に示す．手作業で作成された翻訳対は，261,453対であった．しかし約半数以上に対して確率値を付与できなくて，削除されていることがわかる．また，提案法におけるフレーズテーブルのフレーズ数は，ベースラインと比較すると約2割増加している．確率が付与された翻訳対の例を表に示す．</subsection>
  <subsection title="実験結果　翻訳精度の評価">自動評価日英翻訳のテストデータには，単文1,000文と重複文1,000文を用いる．ベースラインと提案手法の翻訳精度の自動評価の結果を表に示す．結果から，単文，重複文のいずれの翻訳においても提案手法の翻訳精度が向上していることが分かる．人間による対比較実験表の日英翻訳結果からランダムに抽出した100文に対して，人間による対比較実験を行う．対比較実験において，ベースラインの翻訳結果の方が，優れていると評価した文を，``提案手法×''とする．提案手法の翻訳結果が，ベースラインの翻訳結果より優れていると評価した文を，``提案手法○''とする．また，ベースラインと提案手法で翻訳結果が変化しなかった文を``変化無し''とする．対比較実験の結果を表に示す．結果から，全ての翻訳において，提案手法が優れている割合が高くなっていることが分かる．</subsection>
  <section title="翻訳対の翻訳確率の重みの最適化">章の実験では，手作業によって作成した翻訳対に，パラメータintersectionで作成した翻訳確率を付与した．しかし，手作業で作成された翻訳対は信頼性が高いと考えられる．そこで，翻訳対に付与する翻訳確率の重みを大きくした方が翻訳精度が向上すると考えられる．そこで，翻訳対に付与する翻訳確率の重みを大きくした実験を行う．</section>
  <subsection title="翻訳確率の重みを変えた翻訳実験">単文および重複文の翻訳実験において，手作業で作成した翻訳対の翻訳確率の重みを2倍，4倍，8倍に変化させたときの，BLEUスコアとMETEORの変化を調査する．結果を表に示す．日英の翻訳において，単文の翻訳時には翻訳確率の重みを2倍，重複文の翻訳時には8倍にした時に翻訳精度がもっとも良かった．最適な翻訳確率の重みを用いたときの提案手法の翻訳精度と，ベースラインの翻訳精度の差を比較した場合，BLEUでは，単文で0.9%，重複文で0.8%向上していることがわかる．</subsection>
  <subsection title="対比較実験">表の翻訳結果100文に対して，表と同じ条件で対比較実験を行った結果を表に示す．表と比較すると，特に重複文において改善が見られる．</subsection>
  <subsection title="対比較実験の解析">表における対比較実験の例文を以下に示す．提案手法が優れている例提案手法が優れていると評価した例を表に示す．提案手法が劣っていると評価した例提案手法が劣っていると評価した例を表に示す．</subsection>
  <subsection title="パラメータを最適化した翻訳実験">パラメータの最適化通常，統計翻訳においては，翻訳精度の向上を目的として，パラメータの最適化を行う．この節では，パラメータの最適化を行ったときの，提案方法の有効性を調査する．パラメータの最適化には，MinimumErrorRateTraining(MERT)~を用いる．尚，フレーズテーブルの作成にはmosesに付属しているtrain-factored-phrase-model.perlを用いる．また，reorderingモデルも組み込む．developmentデータdevelopmentデータは，単文の実験も重複文の実験も，テストデータ（節）と同一の辞書から抽出したデータを利用する．単文の翻訳実験には，developmentデータに単文100文を使用してパラメータの最適化を行う．重複文の翻訳実験にはdevelopmentデータに重複文1,000文を使用してパラメータの最適化を行う．翻訳実験の結果翻訳実験の結果を表に示す．表の結果から，パラメータの最適化を行った翻訳実験においても，BLEUが単文において0.9%，重複文において0.2%上昇し，提案手法の有効性が示された．</subsection>
  <section title="考察"/>
  <subsection title="提案手法の効果の分析">表の対比較実験の結果において，翻訳結果が変化した78文中，58文が提案手法が優れていると評価した．この評価の理由として，妥当な語順による向上と未知語の減少に分けることが出来る．以下にその分析結果を述べる．妥当な語順による向上提案手法の翻訳結果がベースラインと比較して，妥当な語順となって文質が向上したと判断した例を表に示す．未知語の減少未知語が減少したことにより翻訳精度が向上した例を表に示す．妥当な語順になった文と未知語が減少した文の比較提案手法が優れていると評価した58文において，未知語が減少した文数と，妥当な語順になった文数を表に示す．表から，約8割の文が，未知語の減少よりも妥当な語順になって翻訳精度が向上していると判断された．つまり，提案手法の有効性は，主に妥当な語順になった文の増加にあると言える．</subsection>
  <subsection title="今後の課題">今後の課題として，以下の項目がある．手作業で作成された翻訳対の翻訳確率の最適化手作業で作成された翻訳対は信頼性が高いため，翻訳確率値が大きい方が，高い翻訳精度が得られると考え，第章において翻訳対に付与した翻訳確率の重みを変化させて翻訳実験を行った．この結果，翻訳精度が向上した（表）．しかし，重みを大きすぎると翻訳精度が低下した．この結果から，重みの最適化が必要であると考えている．そして，この重みの最適化にMERTが使用できると考えている．翻訳確率値を付与できなかった翻訳対の追加本研究では約26万個の手作業で作成された翻訳対のうち，約13万個の翻訳対に翻訳確率値を付与できた．そして，翻訳確率値を付与できなかった翻訳対約13万個は，削除した．そこで，翻訳確率値を付与できなかった翻訳対約13万個に対して，翻訳確率として閾値を与えて，翻訳実験を行った．しかし，どのような閾値を与えても，BLEU,METEORともに低下した．今後，確率を付与できなかった翻訳対の，確率の付け方を考えてみたい．述語節に関する翻訳対の追加翻訳において，述語節が正しく翻訳されているか否かは，人間の評価において重要な判断要素となりやすい．つまり，述語節が正しく翻訳されると，文の意味が分かりやすくなり，人間による翻訳精度の評価が向上する，そこで，今後は特に，述語節に関する翻訳対を追加し，翻訳精度の調査を行いたいと考えている．また，英辞郎~には，手作業によって作成された200万以上の日英の翻訳対がある．これを利用することでさらに翻訳精度が向上すると考えている．</subsection>
  <section title="おわりに">本研究では，手作業で作成した信頼性の高い翻訳対を，プログラムで自動作成したフレーズテーブルに追加して，単文と重複文における日英翻訳の精度評価を行った．約13万の翻訳対を追加し，追加した翻訳対の翻訳確率の重みを変えた結果，BLEUスコアが日英翻訳において，単文では12.5%から13.4%に0.9%向上した．また重複文では7.7%から8.5%に0.8%向上した．また出力英文100文に対し人間による対比較実験を行ったところ，単文では，従来法が良いと判断された文が5文であるのに対し，提案法では23文，また重複文では，従来法が良いと判断された文が15文であるのに対し，提案法では35文となった．以上の結果から，提案手法の有効性が示された．今回の実験では日英重複文文型パターン辞書~の対訳文対から，手作業で作成した翻訳対を追加した．今後は他の辞書の翻訳対も追加して，翻訳精度の調査をすることを考えている．また，追加する翻訳対の翻訳確率値に対する重みの最適化の方法についても考えていく．</section>
</root>
