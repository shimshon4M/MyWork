<?xml version="1.0" ?>
<root>
  <jtitle>日本語学習者の作文における誤用タイプの階層的アノテーションに基づく機械学習による自動分類</jtitle>
  <jauthor>大山浩美小町守松本裕治</jauthor>
  <jabstract>近年，様々な種類の言語学習者コーパスが収集され，言語教育の調査研究に利用されている．ウェブを利用した言語学習アプリケーションも登場し，膨大な量のコーパスを収集することも可能になってきている．学習者が生み出した文には正用だけでなく誤用も含まれており，それらの大規模な誤用文を言語学や教育などの研究に生かしたいと考えている．日本語教育の現場では，学習者の書いた作文を誤用タイプ別にし，フィードバックに生かしたい需要があるが，大規模な言語学習者コーパスを人手で分類するのは困難であると考えられる．そのような理由から，本研究は機械学習を用いて日本語学習者の誤用文を誤用タイプ別に分類するというタスクに取り組む．本研究は，以下の手順で実験を行った．まず，誤用タイプが付与されていない既存の日本語学習者コーパスに対し，誤用タイプ分類表を設計し，誤用タイプのタグのアノテーションを行った．次に，誤用タイプ分類表の階層構造を利用して自動分類を行う階層的分類モデルを実装した．その結果，誤用タイプの階層構造を利用せず直接多クラス分類を行うベースライン実験より13ポイント高い分類性能を得た．また，誤用タイプ分類のための素性を検討した．機械学習のための素性は，単語の周辺情報，依存構造を利用した場合をベースライン素性として利用した．言語学習者コーパスの特徴として，誤用だけではなく正用も用いることができるため，拡張素性として正用文と誤用文の編集距離，ウェブ上の大規模コーパスから算出した正用箇所と誤用箇所の置換確率を用いた．分類精度が向上した誤用タイプは素性によって異なるが，全ての素性を使用した場合は分類精度がベースラインより6ポイント向上した．</jabstract>
  <jkeywords>機械学習，誤用タイプ自動分類，日本語学習者，学習者コーパス，誤用コーパス，編集距離，置換確率，階層的アノテーション</jkeywords>
  <subsection title="">における誤用タグのアノテーション</subsection>
  <section title="はじめに">近年，ビッグデータに象徴されるように，世の中のデータ量は飛躍的に増大しているが，教育分野ではそれらのデータをまだ十分に活用している状態には至っていない．例えば，Lang-8というSNSを利用した言語学習者のための作文添削システムがある．現在，このウェブサイトは600,000人以上の登録者を抱えており，90の言語をサポートしている．このサイトでは，ユーザーが目標言語で書いた作文を入力すると，その言語の母語話者がその作文を添削してくれる．このウェブサービスにより蓄積されたデータは，言語学習者コーパスとして膨大な数の学習者の作文を有している.それらは言語学習者コーパスとして調査や研究のための貴重な大規模資源となりえるが，それらを教師や学習者がフィードバックや調査分析などに利用したい場合，誤用タイプの分類などの前処理が必要となる．しかしながら，日本語教師のための学習者コーパスを対象とした誤用例検索システムを構築するというアプリケーションを考えると，誤用タイプに基づいて得られる上位の事例に所望の誤用タイプの用例が表示されればよい．つまり，人手で網羅的に誤用タイプのタグ（以後，「誤用タグ」と呼ぶ）を付与することができなくても，一定水準の適合率が確保できるのであれば，自動推定した結果を活用することができる．そこで，本稿では実用レベル（例えば，8割程度）の適合率を保証した日本語学習者コーパスへの誤用タグ付与を目指し，誤用タイプの自動分類に向けた実験を試みる．学習者の作文における誤用についてフィードバックを行ったり，調査分析したりすることは，学習者に同じ誤りを犯させないようにするために必要であり，学習者に自律的な学習を促すことができるholec,auto_umeda．そのため，学習者の例文を誤用タイプ別に分類し，それぞれの誤用タイプにタグを付与した例文検索アプリケーションは教師や学習者を支援する有効なツールとなり得る．現在まで，誤用タグ付与作業は人手に頼らざるを得なかったが，のようなウェブ上の学習者コーパスは規模が大きく，かつ日々更新されるため，人手によって網羅的に誤用タグを付与することは困難である．誤用タイプの自動分類を行うことで，誤用タグ付与作業を行う際，人手に頼らなくてもよくなり，人間が誤用タグ付与を行う際の判定の不一致や一貫性の欠如などの問題を軽減しうる．これまでは，このような誤用タグの自動付与というタスクそのものが認知されてこなかったが，自動化することで大規模学習者コーパスを利活用する道を拓くことができ，新たな応用や基礎研究が発展する可能性を秘めている．今回，誤用タグが付与されていない既存の日本語学習者コーパスに対し，階層構造をもった誤用タイプ分類表を設計し，国立国語研究所のの事例に対してタグ付け作業を行った．次に，階層的に誤用タイプの分類を行う手法を提案し，自動分類実験を行った．誤用タイプ分類に用いるベースライン素性として，単語の周辺情報，統語的依存関係を利用した．さらに，言語学習者コーパスから抽出した拡張素性として1)正用文と誤用文の文字列間の編集距離，2)ウェブ上の大規模コーパスから算出した正用箇所と誤用箇所の置換確率を用い，それらの有効性を比較した．本研究の主要な貢献は，以下の3点である．誤用タグが付与されていない国語研の作文対訳DBに誤用タグを付与し，を作成した．異なるアノテーターによって付与されたタグの一致率が報告された日本語学習者誤用コーパスは，我々の知る限り他に存在しない．を対象に機械学習による誤用タイプ自動分類実験を行い，かつアプリケーションに充分堪えうる適合率を実現した（8割程度）．英語学習者コーパスの誤用タイプの自動分類タスクは過去に提案されているが，日本語学習者コーパスの誤用タイプの自動分類タスクに取り組んだ研究はこれが初めてであり，将来的には学習者コーパスを対象とした誤用例検索システムを構築するアプリケーションの開発を目指しているため，その実現化に道筋を付けることができた．タグの階層構造を利用した階層的分類モデルを提案し，階層構造を利用しない多クラス分類モデルと比較して大幅な精度向上を得られることを示した．また，英語学習者の誤用タイプ自動分類で提案されていた素性に加え，大規模言語学習者コーパスから抽出した統計量を用いた素性を使用し，その有効性を示した．</section>
  <section title="関連研究">現在，研究・教育目的で利用されている日本語学習者コーパスは，大阪大学の寺村コーパス，名古屋大学の学習者コーパス，東京外国語大学の「オンライン日本語「誤用コーパス」辞典」，筑波大学の「日本語学習者作文コーパス」，大連理工大学の中国人日本語学習者による日本語作文コーパス，国立国語研究所（国語研）で収集された「日本語学習者による日本語作文と，その母語訳との対訳データベースオンライン版」（以下，作文対訳DB）（データ総数は2009年時点で1,754件）がある．上記の作文対訳DBは，大規模な日本語学習者コーパスの1つであるが，誤用タイプの情報が付与されていなかった．上記のコーパスのうち，作文対訳DB以外のコーパスは誤用タグが付与されているが，タグが一部にしかついていなかったり，入手ができなかったり，コーパスそれぞれにおいて誤用タグの分類基準が異なっていたりする．また，既存の言語学習者コーパスは言語学や教育の目的で収集されたもので，自動分類や誤用検出・訂正などの機械処理を考慮した設計にはなっていないため，人手アノテーション以外の分類処理には必ずしも向いていない．具体的には，コーパスのタグ付けに関するアノテーションの一致率が報告されておらず，機械処理に適した誤用タグ体系になっているかどうか不明である．そこで，今回機械学習用に誤用タグを付与したを作成した．また，自動で誤用検出，誤用タイプ分類を行うといった言語学習者コーパス整備作業に関する研究は，英語教育においても日本語教育においても様々なタスクで進められている．例えば，英語教育において以下のような研究が行われている．誤用判定として，英語のスペルミス検出研究，英語の名詞の可算性（数えられる名詞），不可算性（数えられない名詞）の誤用検出研究，前置詞の誤用検出に関する研究，冠詞誤用検出に関する研究がある．日本語を対象とする研究では，格助詞を対象とした研究が多い．さらに，誤用タイプに特に着目せずに文を誤用文と正用文とに分類する研究もある．これらの誤用検出タスクにおいて，対象となる誤用タイプは限定されている．つまり，誤用タイプがあらかじめわかっていることが前提である．さらに，誤用タイプを網羅的にタグ付けするような研究は以下に示す1件を除いて存在しない．実際の言語学習者コーパスでは教師によって添削された正用例があったとしても，誤用タイプまで示すことは稀であり，誤用タイプを網羅的にタグ付けし，誤用例を検索できるようにすることは困難である．誤用タイプ分類タスクを行っているのは，のみである．彼らは英語学習者の誤用タグ付きコーパスを用いた教師あり学習による多クラス分類によって，誤用箇所を与えた上で，誤用タグが付与された文を入力とし15クラスの誤用タイプに分ける実験を最大エントロピー法で行っている．しかし，日本語における誤用タイプ分類実験はまだ見られない．また，は既存の英語学習者コーパスを用いて自動分類器を学習しているが，自動分類に適した誤用タイプのタグ集合を設計しているわけではない．言い換えると，タグの体系が自動分類の精度に与える影響は考慮されていない．さらに，彼らの自動分類器で用いられていた素性は誤用・正用の対応に基づく文字列・単語（品詞）情報，そして文脈素性としては直前の単語のみを用いる非常に単純なものであったが，本研究ではそれらに加えて大規模言語学習者コーパスから計算した置換確率と，正用文と誤用文の編集距離，文脈素性として周辺3単語および依存関係も用いた．</section>
  <section title="機械学習による誤用タイプ分類実験"/>
  <subsection title="データ">誤用タイプ分類実験のためにを作成した．は，の中で添削が施された313名の作文中の誤用箇所にタグを付与し，様々な情報を補完したコーパスである．ファイル数は作文者ごとに313，総文字数は191,994字である．は，に対しアノテーションを行っているため，作文対訳DBとデータは共通しているが，には誤用タグがアノテーションされていない．</subsection>
  <subsubsection title="誤用タグのアノテーション">先に述べた作文対訳DBへのアノテーションの方法について説明する．基本的に作文対訳DBの添削に基づいて誤用タグを付与しており，添削は変更せず，誤用タイプ分類をした後にタグを付与する．作文対訳DBの誤用箇所に|&lt;goyo&gt;|タグを設け，そのタグ内に添削された正用箇所を|crr|属性にて示し，誤用タイプを示す|type|属性を付与した．誤用を正用にするために複数の誤りを修正する必要がある場合，それぞれ|typeN|（ただしNは自然数で，順不同）という属性を用いて明示した．また，文章中で複数の添削が相互に依存関係を持っている場合がありうるが，依存関係のアノテーションは今回のタグの精緻化という独立した別のタスクとして切り出すことが可能なため，今回のアノテーションでは依存関係は考慮しない．例えば，以下の例文を考える．上記の例で，誤用として添削者によって添削された「まいにち」を|&lt;goyo&gt;|タグで囲み，添削者による正用例「常に」を|crr|属性で示す．この誤用を正用にするためには，「まいにち→つねに」と「つねに→常に」を訂正する必要があるため，誤用タイプは，この事例では語彙選択(|&quot;sem&quot;|)と表記・漢字(|&quot;not/kj&quot;|)の2種類を付与している．</subsubsection>
  <subsubsection title="誤用タイプ表の設計方針">誤用タイプ表の設計方針を立てる際に，英語学習者の話し言葉を集めたSSTコーパス，日本語学習者の作文を集めた名古屋大学の学習者コーパス，大連理工大学の中国人日本語学習者による日本語作文コーパス，さらにによる「日本語誤用例文小辞典」を基にした．SSTコーパスは，学習者の誤用が多岐にわたるため，体系的な分類が比較的容易な文法的・語彙的誤りに対して，独自の誤用タイプ表を構築し，人手でタグ付与を行っている(石田，伊佐原，齋賀，Thepchai，成田，内元，和泉2003)ishidaj/03．SSTコーパスの誤用タイプ表は，品詞を第1階層に有し，「名詞，動詞，助動詞，形容詞，副詞，前置詞，冠詞，代名詞，接続詞，関係詞，疑問詞」とに分かれている．さらに，品詞の第1階層の下は第2階層に「活用の誤り，格の誤り，単複の誤り，語彙選択の誤り」など文法的・語彙的ルールとに細分化される．また，ある誤用タイプは各品詞のカテゴリーにまたがっている場合もある．例えば，「活用の誤り」は「名詞」，「動詞」，「副詞」，「代名詞」のそれぞれの下位分類に属している．「語彙選択の誤り」も複数のカテゴリーに属している．このように，品詞の階層カテゴリーの下位階層にそれぞれ同様のタイプが存在すると，誤用タグ付与のアノテーターが意識しなければならないタグが増大するため，人手によるタグ付与作業が煩雑になる．そこで，我々は多クラスのタグ付けをするのではなく，多ラベルのタグ付けをするようにNAIST誤用コーパスを設計し，複雑な階層カテゴリーを把握しなくてもタグ付けが可能なようにした．ただし，SSTコーパスでの品詞の分類は，自動分類をする際に素性として取り出しやすく有効な素性となりうる．そのため，でも品詞による分類を第1階層に持つようにした．誤用タグを構築する際に誤用タイプ分類の方法として，shimizu/2004では，誤用タグの構築方法を2つあげている．言語学的な特定の文法記述に基づき誤用を分類し誤用タグを構築している場合実際の誤用分析で抽出された誤用タイプに基づいてタグを構築する場合名古屋大学の学習者コーパスoso/97は，上記(1)の方法に従い，言語学的な特定の文法記述に基づき誤用を分類し誤用タグを構築しているが，「脱落，付加，混同，誤形成，位置」などの分類はない．大連理工大学の中国人学習者による日本語作文コーパスshimizu/2004は，上記(2)の方法に従い，中国人日本語学習者の作文を添削し，独自の誤用タグを設計，付与している．shimizu/2004では，大連工業大学の日本語学習者の作文を誤用分析した結果から抽出した誤用に基づく誤用タイプを用いているため，oso/97やとは異なる「指示詞」，「形式名詞」，「数量詞」，「漢語」などの誤用タイプが見られる．も，上記(2)の方法に従い，日本語学習者の作文によく見られる誤用をムード，テンス，アスペクトなどの8つの主要分類に分け，その次に細分化された86の項目に分ける（表）．ichikawaj01では，さらに，下位項目のそれぞれについてさらに「脱落，付加，混同，誤形成，位置，その他」の6種類に分類している．それらの言語学習者コーパスの誤用タイプ分類を基礎に，では全76種の誤用タイプ分類を構築した．その全誤用タイプは，付録B「誤用タイプ76項目」（表）に示す．表~は，「誤用タイプ76項目」のタグにおいてさらに細かく説明を加えた表である．shimizu/2004の誤用タイプ分類には，にはないが，必要だと考えられる誤用タグが見られるため，それらを含めた．しかし，shimizu/2004では，「は／が」の使用誤りの項目と「助詞」を分けていたりと項目の選出には彼ら独自の理由が見られる．また，中国人日本語学習者を対象にしているため，中国人特有の誤用タイプが見られる．の誤用タイプ分類については，そのような点を割愛し，「指示詞」，「形式名詞」，「数量詞」など詳細かつ重要な誤用タグを含めた．ichikawa97,ichikawaj00の分類も，日本語学習者がよく誤りやすい項目を基に構成されている．表にあるムードは表の76の項目中の「モダリティ」に含めている．テンス，アスペクト，自動詞，他動詞，ヴォイスなどの項目は本稿では「動詞」の下位項目にまとめている．また，取り立て助詞，格助詞，連体助詞，複合助詞は「助詞」の下位項目にしている．連用修飾，連体修飾は，「名詞修飾節」の項目に入れている．従属節は，「接続」の項目に含まれている．しかし，ichikawa97,ichikawaj00では「脱落，付加，混同（本稿では，不足，余剰，置換）」などをそれぞれの下位項目のさらに下の項目に分類しているが，本稿では，「Nobu*$\phi$/というレストランに行きました」-0.25zwのような，タグを新たに設定しにくい，もしくは修正部分が長く，誤用分類しにくい添削を「脱落，付加」に入れた．作文対訳DBにも，ichikawa97,ichikawaj00の分類を採用すると，助詞の下位項目に「不足，余剰」などの項目を持つ事例がある．しかし，付録A，「不足」の項目で述べているように，それらは少数である．そのため，本コーパスでは，「不足，余剰」を各分類の下位項目ではなく，独立した項として新たに設立した．本研究で使用した誤用タグの構築方法について詳しくはoyamaj/09,oyamaj/12を参照されたい．</subsubsection>
  <subsubsection title="本稿における実験に使用した誤用タイプ">実験に使用した誤用タイプは，表に示した17種である．全誤用タイプ76種が階層的に定義され，その第1階層の23種から17種を選択して使用した．全誤用タイプを第1階層までまとめ上げた誤用タイプと研究に必要な誤用タイプとを選択した．誤用タイプのそれぞれの説明は付録A「誤用タイプ項目」に詳細に示す．表において，上位17種の誤用タイプを実験に利用した．下位の「名詞」や「名詞修飾」などの誤用タイプは今回事例数が少なかっため，実験対象としなかった．「モダリティ」は，意味や文の作者の主観に起因する場合が多いので，文脈情報や依存情報よりも意味を扱える素性を考えるべきであるので，今回は困難であると考え実験対象としなかった．「モダリティ」の場合は，稿を改めて「モダリティ」を中心に必要な素性を追加した実験を行いたいと考えている．「成句」は，きまったフレーズ（「〜たり〜たり」など）がうまく使えなかった誤りを含む．「全文変換」は，文がすべて書き換えられている誤用事例である．「成句」や「全文変換」も，今回誤用タイプ分類実験の対象としなかった．「成句」はフレーズの要素が「〜たり〜たり」などのように離れているものが多く，アラインメントを取ることが困難であった．また，「全文変換」も同様で，文全体を書き換えているので誤用箇所の特定が難しかったことが理由である．「その他」についても今回実験に用いた誤用タイプよりもより詳細で個別的な誤用タイプであり，個々が少数事例のものもあったので今回対象外とした．上記以外にも，研究に必要な「``だ''の誤用」，「否定」，「副詞」，「代名詞」，「コロケーション」を誤用タイプに含めて実験を行った．「``だ''の誤用」，「否定」，「副詞」，「代名詞」の誤用タイプにおいては，作文対訳DBやKYコーパスを対象とした研究の中で「``だ''の誤用」，「副詞」，「否定」mine,yoshinaga，「代名詞」tyouなどに関する研究が見られ，言語学習者コーパスを利用したこのような研究がこれから増えてくると思われるからである．「否定」と「コロケーション」に関しては，swansonにおける誤用タイプ15種にも含まれている．「コロケーション」は，コーパスデータを利用する利点があり，重要な誤用タイプだと考えられる．語彙選択の誤りとコロケーションの誤りとを明確に区別し，語彙選択の誤りでは，単語単位のみを対象とした．コロケーションの誤りでは，「形容詞＋名詞」のようなコロケーションも見られるが「名詞＋格助詞＋動詞」の誤りのみを対象とした．</subsubsection>
  <subsubsection title="アノテーター間の一致率">誤用タグは2人のアノテーターによって付与された．2人ともアノテーターとして5年以上勤務している．コーパス中の一部のデータ（170文）を対象に2人に同じデータへの誤用タグの付与を依頼し，値によりその2人のタグ付け一致率を計った．タグ付けの対象とした170文は，誤用タイプ17種をそれぞれ10文ずつ抽出した（10文×17種）．それは，全体の約1.2%に当たる．アノテーターに1位に選ぶ誤用タイプと次に選ぶ誤用タイプまで（2位まで）を選択してもらった．表の誤用タイプにおける一致率は，1位までの場合=0.602であった．2位までの場合，=0.654であった．が0.81〜1.00の間にあればほぼ完全な一致，0.61〜0.80の間にあれば実質的に一致しているとみなされることから，今回は実質的に一致していると考えられる．信頼度の高いコーパスを作成するためには，付与したタグがアノテーター間で異なる「タグの不一致」の問題をできるだけ解決した方がよい．付与したタグの一致率が高ければ，そのタグは一貫性が高く，信頼性が高いタグセットであることが言える．</subsubsection>
  <subsubsection title="階層構造誤用タイプ分類表を使用した階層的誤用タイプ分類">先行研究のでは，誤用タイプ分類実験にフラットな構造の分類表を使用していたので，でもフラットなタイプの誤用タイプ分類表を用いたが，人間はどのように誤用タイプを分類するのか分析するために，誤用タイプ分類に向けた予備実験を行った．11人の現役の日本語教師に依頼し，テストデータから無作為に選んだ20文について誤用タイプ分類を行わせた．その後，日本語教師各個人に対して聞き取り調査を行い，ある誤用文に対してある誤用タイプに分類する理由を聞いた．この分類実験の結果，次のようなことがわかった．日本語教師は，多くの誤用文を「語彙選択」に分類しやすい．日本語教師は，「動詞」と他の誤用タイプを混同しやすい．日本語教師は，誤用タイプを判断する際に1文すべて与えられていても誤用箇所と正用箇所で主に判断している．日本語教師は，誤用箇所と正用箇所の次に参考にする素性は，依存構造である．日本語教師に行った実験では，「語彙選択」が他の誤用タイプ（助詞，動詞，コロケーションなどの誤用タイプ）に最も間違われやすかった．これは，「語彙選択」が最も選択を迷う項目であるということを示している．聞き取り調査の結果，日本語教師は誤用タイプを判断する際に1文すべて与えられていても誤用箇所と正用箇所などで主に判断していることがわかった．さらに，日本語教師は，最小の素性で判断しきれない場合，前後2単語，前後3単語先をみるより，依存している単語は何かに焦点を当てていた．「助詞」の誤りかどうか判断に迷った時は，それが依存している動詞を見ている．「副詞」の誤りかどうかの分類も同様である．この結果を受け，「語彙選択」は，どの誤用タイプにも入りやすく，この点が分類を妨げている要因と考えたため，17種の誤用タイプをさらに3階層に分類し直し，図に示す構造に変更した．上記のような流れを受けて，本実験において3段階の階層構造に基づく分類を行った．では，の誤用の領域を基にし誤用を分類しており，1)語彙レベルの誤用，2)文構成レベルの誤用，3)談話レベルの誤用の3レベルを立てている．談話レベルまで扱うのは今回の実験の範疇にないので，の分類に従い，第2段階を語彙レベルか文構成レベルかに分類した．図で見られるように，第1段階で「不足」，「余剰」，「置換」とに分類する．第2段階では，「置換」内部において「文法的誤用」であるか「語彙的誤用」であるかの2値分類を行った．第3段階では，前段階で成功した事例において「文法的誤用」と「語彙的誤用」のそれぞれのグループ内において，多クラス分類を行った．</subsubsection>
  <subsection title="実験方法">誤用タイプ自動分類実験は，先行研究のswansonにならい，機械学習法を用いた分類実験を行った．3.2節で説明したように誤用タイプ分類実験のデータとして言語学習者が書いた誤用文と正用文に文単位の対応をつけ，誤用タイプを付与したを用意した．実験には，そのコーパスから誤用箇所，正用箇所や誤用タイプラベルを取り出し，さらに素性を抽出し使用した．また，誤用タイプ表（表）を階層構造化し実験を行った（図）．から，13,152事例を取り出し，10分割交差検定を行った．1つの文に別々の誤用が2つ以上ある場合は，1誤用につき1事例として取り出した．</subsection>
  <subsubsection title="実験の流れ">実験の概要を図に示す．まず，から正用文と誤用文のペアを取り出す．それらの2種類の文から，対応する誤用箇所(x)と，正用箇所(y)，誤用タイプ(t)の3つ組のラベル(x,y,t)を取り出す．その後，その事例ごとに素性を付与する．ベースラインの素性として，誤用箇所，正用箇所の表層の語彙素と，誤用箇所，正用箇所の形態素解析結果，周辺単語情報（前後1から3単語），依存関係情報を付与した．テストデータにおいても同様の素性を取り出し，分類判定実験に使用した．分類実験には，最大エントロピー法を利用し，多クラス分類を試みた．最大エントロピー法は確率値を出力することができるため，閾値を用いて予測結果を調整しやすく，英語・日本語の誤用検出・訂正で広く用いられている．</subsubsection>
  <subsubsection title="素性">この節では，実験で使用した事例と素性について説明する．表は，今回使用した全ての素性をまとめたものである．例として，誤用を含む文「英語を（誤）が（正）わかる．」をあげる．誤用箇所「を」がx，正用箇所「が」がy，「助詞」の誤用がtという3つ組みのラベルが1事例として抽出される．（誤）英語をわかる（正）英語がわかる誤用タイプ：「助詞(P)」使用の誤用依存関係情報は，誤用箇所の単語にかかる文節内の単語のbag-of-wordsおよび誤用箇所の単語からかかる文節内の単語のbag-of-wordsを用いた．誤用箇所内が複数の文節にまたがる場合，その全ての文節内の全ての単語のbag-of-wordsを用いた．さらに，係り元・係り先の文節内にある全形態素の語彙素を用いた．例えば，「私はりんごを食べった」という文において「食べった」が誤用箇所の場合，誤用箇所に係っている文節内の係り元の「私」，「は」，「りんご」，「を」を素性として利用している．形態素解析には，UniDic--2.1.2辞書とMeCab--0.994を利用し，依存構造解析器CaboCha--0.68で形態素情報と依存関係を抽出した．言語学習者コーパスには，ひらがな文字が多く含まれたり，辞書に存在しないような単語が出現したりする．そのためにアライメントに失敗し，分類精度に影響する．そこで，言語学習者コーパスにおける誤用による影響を軽減するために次の2つの拡張素性を用いた実験も行った．</subsubsection>
  <subsubsection title="評価尺度">評価尺度としてF値を利用した．再現率は対象とする各誤用タイプの中で正しく分類された誤用タイプを指し，適合率は，システムがある誤用タイプだと分類したもののうち正解を当てた率である．F値はそれらの調和平均を表している．再現率=正しく分類された事例数各誤用タイプの全事例数×100[1.5ex]適合率=正しく分類された事例数システムがある誤用タイプだと分類した事例数×100[1.5ex]F値=2適合率再現率適合率+再現率gather</subsubsection>
  <section title="実験結果"/>
  <subsection title="階層構造を使用した場合の実験結果">における誤用タイプ分類実験の10分割交差検定による結果について述べる．表は，階層構造を使用した場合と使用しなかった場合とを比較した表である．簡単のため前後1単語の素性を用いた場合をW1，前後2単語までの素性を用いた場合をW2，前後3単語までの素性を用いた場合をW3とする．最後の行は，全体のマクロ平均を示す．この表で分かるように，階層構造を利用したことで分類性能（F値）が全体的に49.6から62.4へと向上した．また，F値で80以上を達成した誤用タイプは「助詞」，「不足」，「余剰」の3つのみであったが，階層構造を利用することにより，「語彙選択」，「表記」，「動詞」，「指示詞」も新たにF値が80を超え，実用的な精度で自動推定が行えることが分かった．「不足」と「余剰」の値は，階層構造を使用した場合において階層構造を使用しなかった場合より精度が下がっている．「不足」と「余剰」の誤用タイプは第1階層において「不足」か「余剰」か「置換」の3値分類をする．その際，「不足」は1,441事例，「余剰」は1,177事例，「置換」は10,534事例となり，「置換」の事例数は，「不足」と「余剰」の事例数よりもはるかに多くなる，これが，「不足」と「余剰」の階層構造を使用した場合での精度を下げる原因となったと考えられる．</subsection>
  <subsection title="編集距離，置換確率を加えた実験結果">編集距離，置換確率を加えた誤用タイプ分類実験の結果を表に示す．ベースライン(BL.)は，誤用タイプの構造が階層構造であり周辺素性および依存関係情報を付加した素性とし，表における「階層構造あり」の結果を用いた．さらに，拡張素性として，1)ベースライン+編集距離(edit)，2)ベースライン+置換確率(sub.)（F値）を示した．ALLは，それら全ての拡張素性を付加したものである．表の最下行はマクロ平均値を表し，表より編集距離を加えることで4.1ポイントの分類性能の上昇，置換確率を加えることで3.4ポイントの上昇が見られる．それら拡張素性を合わせた素性(ALL)においては6ポイントの上昇が見られる．表は，階層ごとの分類の難しさを示している．まず1行目は「不足」か「余剰」か「置換」かの多値分類での平均値である．2行目は「文法的誤用」における多値分類，3行目は，「語彙的誤用」における多値分類での平均値である．表のマクロ平均値において，第1段階（余剰，不足，置換）実験において編集距離を加えることで1.8ポイントの上昇，置換確率を加えることで2.4ポイントの上昇が見られる．ALLでは，2.5ポイントの上昇が見られる．文法タイプ内実験において編集距離を加えることで0.8ポイントの下がっているが，置換確率を加えることで2.4ポイントの上昇が見られる．ALLでは，1.2ポイントの上昇が見られる語彙タイプ内実験において編集距離を加えることで4.0ポイントの上昇，置換確率を加えることで3.4ポイントの上昇が見られる．ALLでは，6.3ポイントの上昇が見られる．</subsection>
  <section title="分類実験に関する考察">この節では，どの素性がどのように自動分類に役立つかについて考察する．「不足」，「余剰」，「語彙選択」，「表記」，「助詞」，「動詞」は事例数が多く，全体の事例の91%を占めている．そのため，それらについて説明する．全体的に編集距離素性と置換確率素性を入れた実験(ALL)において精度の向上が見られる．個別に見ると「語彙選択」，「表記」と「余剰」において，編集距離素性を用いた実験で精度の向上が見られる．「語彙選択」において漢字同士の誤用は数多く見られる．置換確率を入れるとさらに半数程度改善している（成功事例中44.8%）．語彙の選択誤りは多種多様であるため，Lang-8のような巨大なコーパスから置換確率を計算したとしても出現しない可能性もある．そのような場合においても編集距離素性が効果があったと考えられる．下に例を示す．「語彙選択」の場合，ひらがなやカタカナを漢字に変換する（またはその逆）事例の精度も上がっていた（成功事例中41.8%）．日本語学習者の作文ではひらがな，カタカナ，漢字の混合もよく見られる．ひらがなやカタカナと漢字では，表記が長くなるか短くなるかで編集距離が異なるため，その差が素性の効果に影響したと考えられる．「表記」の事例において編集距離素性で精度の向上が見られる事例を分析する．最も向上した事例のパターンは，以下のようなひらがなが漢字に変更された事例である．そのような事例が編集距離素性を入れたことで分類に成功しており，成功事例の半分を占めていた（55.9%）．次に，「余剰」の事例を見る．比較的文字列数が長い物が成功するようになっている．これは，編集距離の素性の効果だと考える．次に，置換確率素性を用いた実験で精度の向上が見られた場合を検証する．全ての素性を組み合わせた実験(ALL)において，分類に成功した事例と失敗した事例においての置換確率が利用可能である場合を比較した．分類に成功した事例においては，置換確率が出現した場合が69.9%であるのに対し，分類に失敗した事例中では，57.8%となっており，置換確率値があった方が分類に成功していることが分かる．以下では置換確率素性を用いた実験で精度の向上が見られた「不足」，「動詞」の事例を見る．まず，「動詞」において置換確率を付加したことで分類に成功した事例を見る．上記の例は，「ベースライン＋編集距離」の実験では，「文体」に分類されていた．「動詞」と「文体」が共に文末の誤りであることから，お互い間違われる事例が多いが，誤用箇所「る」正用箇所「られる」の誤用正用パターンがLang-8中に出現し，置換確率が得られたことで分類が成功したと考えられる．「文体」は，付録Aにあるように，通常「です・ます体」か「だ・である体」で統一されているかどうかの誤用である．この添削文はの添削に基づいており，日本語教師が添削を施している．その際，日本語教師によって誤用箇所の「る」が「ます」に修正されている．誤用タグを付与するときに，その添削にそってタグをつけている．よって，誤用箇所が「る」であり，正用箇所が「ます」である事例（またはその反対）が多く出現しており，「文体」に特徴的なパターンとして認識されている．「不足」，「余剰」の場合の性能についての考察をする．「不足」と「余剰」は一見誤用文字列・正用文字列の長さで簡単に判別できるように思われるが，もし不足しているものあるいは余剰に書かれているものが助詞とはっきりわかるものであれば，助詞へ分類されており（付録参照），誤用文字列・正用文字列の長さを見ただけでは必ずしも判断できない．そして，助詞はタグ全体の1/4を占める誤用タイプ（「不足」と「余剰」はそれぞれ全体の11%と9%）であるため，「不足」「余剰」の分類性能に影響を及ぼしたのではないかと思われる．また，「不足」より「余剰」の分類精度が低いことに関して，「不足」と「余剰」の事例が分類に失敗する場合を比べてみると，「余剰」の方に10ポイントほど多く，他の誤用タイプ（助詞や``だ''の誤用など）に含まれる可能性のある事例が含まれていた．前の段落で書いたように，これが「不足」と「余剰」の分類精度に影響したと考えられる．「不足」と「余剰」の分類精度において差が見られたが，全ての素性を入れた実験においては3.6%の差であり，ベースラインと比較すると差が減っている．これは，拡張素性によって正用例と誤用例の文字列を考慮することができるようになり，より助詞の誤用等と区別しやすくなったからではないかと考えられる．さらに，全体に共通する傾向として，文脈長を長くすることが必ずしも分類性能の向上につながっていない，ということが確認できる．も文脈に関する素性は直前の1単語しか使っていないが，これは英語学習者の誤用タイプ分類タスクにおいても文脈の情報が寄与していない可能性がある．誤用の発生している箇所の周辺は形態素解析が失敗しやすいことに加え，そもそも言語学習者の作文自身の形態素解析が困難であることが背景にあると考えられる．言語学習者のテキストに頑健な形態素解析器の作成は今後の課題である．</section>
  <section title="おわりに">本稿では，大規模コーパスを言語資源として活用するために，コーパス整備タスクの1つとして日本語学習者コーパスへの誤用タグ付与のための半自動的な処理を目指し，誤用タイプの自動分類に向けた実験を試みた．まず，日本語学習者の誤用タグつきコーパスを設計し，誤用タグ付与作業を行った．作成したコーパスのアノテーター間の値は0.602であり，高い一致率であった．また，作成したコーパスを用い，最大エントロピー法によって誤用タグの自動分類タスクに取り組んだ．素性にはベースラインとして単語の周辺情報と依存関係を利用した．さらに，誤用タイプ分類表を階層構造にし，分類性能の向上を計った．誤用文の性質を考慮し，拡張素性として「ベースライン+編集距離」，「ベースライン+置換確率」を付加した結果，分類性能を向上させることができた．その結果，F値のマクロ平均は49.6から68.4に向上した．事例数が少なく十分な精度が得られていない誤用タイプも存在するが，初の誤用タイプ自動分類器において実用的な精度と考えられる．F値80を達成していた誤りタイプはベースライン法では「助詞」，「脱落」，「余剰」の3種類のみであったのに対し，階層構造を利用することによって新たに「語彙選択」，「表記」，「動詞」，「指示詞」が，置換確率を用いることで新たに「形容詞」が，それぞれF値80を達成することができ，自動化に向けて大きく前進することができた．事例数の少ない誤用タイプは精度も低いので，その問題を解決するためにセルフトレーニングを用いて，事例を増やし，精度向上を図ることも現在検討中である．今回，Lang-8のように正用文と誤用文の両方が大量に存在するが誤用タイプが不明な場合を想定し，誤用文を考慮に入れた素性を試したが，誤用箇所および正用例が示されていない言語学習者コーパスも多数存在する．そのような場合，誤用タイプ分類の前に誤用検出・訂正をする必要がある．本研究により，正用例が誤用タイプ分類に貢献することが示されたが，誤用タイプが誤用検出・訂正に影響を与えている可能性も考えられる．そこで，誤用タグに関しては，誤用タイプ分類と誤用検出・訂正を同時に行う手法を今後検討していきたい．さらに，言語教育現場でどのように使用されるかを考慮に入れたタグの使いやすさの評価のためには，他の誤用タグと比較してどのように自動分類性能が異なるかなども考慮に入れるべきであるが，自動分類に対応できる誤用タイプの構築を目指しているため本稿では対象とせず，今後の課題とした．現在，様々な言語学習者コーパスが存在するが，学習者コーパスをそのまま用いるには情報が足りないため，誤用検出をしたり，誤用タイプに分類し誤用タグを付与したりと前処理をしなければならない．機械学習による誤用タイプ分類の精度が高くなれば，研究のために利用できる学習者コーパスの量が増え，大規模なコーパスでさらに普遍的な現象なども見ることが可能になると考えられる．</section>
  <section title="誤用タイプ項目">助詞(P)は，助詞の不足，余剰，誤った助詞の選択であり，複合助詞の誤用も含まれる．「に関する」や「について」などの複合助詞はしばしば誤用を引き起こす原因となる．表以外の例として「宇宙に関した仕事をする」ではなく「*宇宙に関して仕事をする」といった誤用も見られる．これは，「仕事」を修飾しているので，「に関して」ではなく「に関した」とならなければならない．語彙選択(SEM)は，一単語内での誤った選択で，ふさわしい語彙を選べなかった（例えば，「国民」を「人民」と書いた）誤りである．表にある例では，誤用は「*部分の人」で，正用は「一部の人」であり，英語では``somepeople''となる．表記(NOT)には，ひらがな，かたかな，漢字に関する誤りなどが入る．不足(OM)は，不足している単語，句があれば，このタイプに分類される．日本語において未知の固有名詞について説明するときには「という」をつけるが（例：「Nobuというレストランに行きました」），日本語学習者はそれを落としやすい（「*Nobuφレストランに行きました」）．ただし，それが「助詞」や「形容詞」などにも入る事例は，そちらを優先する．さらに，「不足の助詞」や「不足の形容詞」の場合，「助詞」や「形容詞」に分類している．判断がつきにくい事例の場合，（例えば，「の」については，複数の用法がある）．その場合は「不足」や「余剰」に入れる動詞(V)カテゴリーの誤用には，下位分類として動詞の活用，自動詞か他動詞か，受け身の誤り，テンスアスペクトの誤り，「〜ている」の不適切な使用が含まれる．「〜ている」はアスペクトと深く関わる問題であるため，誤用として多く見られる．そのため，上級の日本語学習者でさえ「日本に住んでいる」がなかなか使えず，「*日本に住む」という場合がある．余剰(AD)は，余分な単語や表現などの付加を指す．「不足」と同様に，「助詞」や「形容詞」などにも入る事例は，そちらを優先する．判断のつきにくい事例においては，「不足」の場合と同様の扱いをする．日本語学習者は，「*天気が寒くて」という文を作りたがるが，日本語では，「天気が」にわざわざ言及せず，「（今日は）寒くて」とする．文体(STL)は，「です・ます体」に関する誤りを指す．日本語の作文では，文末の「です・ます体」か「だ・である体」の一致を重要視するため，このような誤りが日本語学習者の作文でしばしば見られる．名詞化(NOM)の誤りとは，動詞を名詞化するときの「の」と「こと」に関する誤用である．日本語において，英語の``towatch/watching''などのように名詞化するときに，「の」を使う場合と「こと」を使う場合とがある．例えば，「*趣味は英語をみるのです」の文では，「の」は不適切であり，また，「*鳥が飛ぶことをみました」では，「こと」は不自然となる．「の」と「こと」の使い分けは，文脈によって決まっている．接続(CONJ)は，文同士，または単語同士を接続させるときに見られる誤用のことである．日本語では，``because''に相当する表現として，「ので」や「から」があるが，文脈，話し言葉，書き言葉の違いによって使用が異なる．形容詞(ADJ)は，形容詞に関係する誤用を指す．形容詞の活用の誤用，選択の誤用などが含まれる．日本語の形容詞は活用するため，活用がない言語を母語に持つ学習者にはこの間違いが多い．表にあるように，「*僕は太くて人ですから」は名詞を修飾しているので，「くて」と変換するのは誤りである．実際は，「僕は太い人です」としなければならないが，活用の区別がついておらず，「太くて」と書いてしまう学習者が多々いる．指示詞(DEM)は，「こ・そ・あ」に関する誤用を指す．他の言語では，この区別が2つしかない場合もあり，日本語学習者にとって使い分けが難しい項目の一つである．語順(ORD)は，誤った語順を指す．日本語では助詞があるため文節の出現順が自由である．しかし，名詞と助詞の語順は固定している．例えば，英語のような語順「*より7月」ではなく「7月より」が正しい．コロケーション(COL)は，1単語内の誤りである「語彙選択(SEM)」とは異なり，「名詞＋助詞＋動詞」といった組み合わせについての誤りは，こちらへ分類される．例えば，学習者は「*影響（名詞）+を（助詞）+くれる（動詞）」と書くが，日本人教師は「影響（名詞）+を（助詞）+及ぼす（動詞）」に訂正している．それは3つの要素間の共起関係が影響していると見られる．``だ''の使用(AUX)は，日本語の複文における従属節に付与するコピュラ``だ''の不適切な使用を指す．例えば，「あの人は，きれいと思います」のような文における「だ」の不使用誤りなどが含まれる．さらに，「*あの人はきれいですと思います」という文もこのタイプに含まれる．否定(NEG)は，「打ち消し」の意味を表す表現形式での誤りを指す．これには，否定辞「〜ない」の使用誤りや「なくて」と「ないで」の使い分けの誤りなどが含まれる．表にあるように，否定理由を表す時には「なくて」を使用し（「家にいられなくて，外へ行きました」），否定付帯状況を示すときには「ないで」を使用する（「傘をもたないで，外へ行きました」）．副詞(ADV)の誤用は，副詞句の使用誤りや副詞語彙の選択誤りなどを指す．形容詞に「に」や「と」を添えて，副詞を作り出すことがある．どちらを使うかはその副詞ごとに決まっている．例えば，「のんびりと過ごした」とは言えても，「のんびりに過ごした」とは言えない．日本語学習者はこの「に」か「と」かで迷う場合が多い．代名詞(PRON)に関する誤用は代名詞に関する誤りで，例えば，「彼たち」は不適切で，「彼ら」としなくてはならない．</section>
  <section title="誤用タイプ76項目">document</section>
</root>
