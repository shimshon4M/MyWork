<?xml version="1.0" ?>
<root>
  <jtitle>言語横断質問応答に適した機械翻訳評価尺度の調査</jtitle>
  <jauthor>杉山享志朗水上雅博GrahamNeubig吉野幸一郎	鈴木優中村哲</jauthor>
  <jabstract>質問応答システムが高い精度で幅広い質問に解答するためには，大規模な知識ベースが必要である．しかし，整備されている知識ベースの規模は言語により異なり，小規模の知識ベースしか持たない言語で高精度な質問応答を行うためには，機械翻訳を用いて異なる言語の大規模知識ベースを利用して言語横断質問応答を行う必要がある．ところが，このようなシステムでは機械翻訳システムの翻訳精度が質問応答の精度に影響を与える．一般的に，機械翻訳システムは人間が与える評価と相関を持つ評価尺度により精度が評価されている．そのため，この評価尺度による評価値が高くなるように機械翻訳システムは最適化されている．しかし，質問応答に適した翻訳結果は，人間にとって良い翻訳結果と同一とは限らない．つまり，質問応答システムに適した翻訳システムの評価尺度は，人間の直感に相関する評価尺度とは必ずしも合致しないと考えた．そこで本論文では，複数の翻訳手法を用いて言語横断質問応答データセットを作成し，複数の評価尺度を用いてそれぞれの翻訳結果の精度を評価する．そして，作成したデータセットを用いて言語横断質問応答を行い，質問応答精度と翻訳精度との相関を調査する．これにより，質問応答精度に影響を与える翻訳の要因や，質問応答精度と相関が高い評価尺度を明らかにする．さらに，自動評価尺度を用いて翻訳結果のリランキングを行うことによって，言語横断質問応答の精度を改善できることを示す．</jabstract>
  <jkeywords>言語横断質問応答，機械翻訳，自動評価尺度</jkeywords>
  <subsection title="実験4: 様々な言語対での翻訳精度と質問応答精度の関係調査">実験1から3では，日英言語横断を行い，訳質と翻訳精度の関係について調査した．次に，日英以外の言語対における言語横断質問応答においても，同様の結果が得られるかどうかを調査する．		</subsection>
  <section title="はじめに">質問応答とは，入力された質問文に対する解答を出力するタスクであり，一般的に文書，Webページ，知識ベースなどの情報源から解答を検索することによって実現される．質問応答はその応答の種類によって，事実型（ファクトイド型）質問応答と非事実型（ノンファクトイド型）質問応答に分類され，本研究では事実型質問応答を取り扱う．近年の事実型質問応答では，様々な話題の質問に解答するために，構造化された大規模な知識ベースを情報源として用いる手法が盛んに研究されている．知識ベースは言語によって規模が異なり，言語によっては小規模な知識ベースしか持たない．例えば，Web上に公開されている知識ベースにはFreebaseやDBpediaなどがあるが，2016年2月現在，英語のみに対応しているFreebaseに収録されているエンティティが約5,870万件，多言語に対応したDBpediaの中で英語で記述されたエンティティが約377万件であるのに対し，DBpediaに含まれる英語以外の言語で記述されたエンティティは1言語あたり最大125万件であり，収録数に大きな差がある．知識ベースの規模は解答可能な質問の数に直結するため，	特に言語資源の少ない言語での質問応答では，質問文の言語と異なる言語の情報源を使用する必要がある．このように，質問文と情報源の言語が異なる質問応答を，言語横断質問応答と呼ぶ．こうした言語横断質問応答を実現する手段として，機械翻訳システムを用いて質問文を知識ベースの言語へ翻訳する手法が挙げられる~．一般的な機械翻訳システムは，人間が高く評価する翻訳を出力することを目的としているが，人間にとって良い翻訳が必ずしも質問応答に適しているとは限らない．Hyodoら~は，内容語のみからなる翻訳モデルが通常の翻訳モデルよりも良い性能を示したとしている．また，Riezlerらの提案したResponse-based~online~learningでは，翻訳結果評価関数の重みを学習する際に質問応答の結果を利用することで，言語横断質問応答に成功しやすい翻訳結果を出力する翻訳器を得られることが示されている．Reponse-based~learningでは学習時に質問応答を実行して正解できたかを確認する必要があるため，質問と正解の大規模な並列コーパスが必要となり，学習にかかる計算コストも大きい．これに対して，質問応答に成功しやすい文の特徴を明らかにすることができれば，質問応答成功率の高い翻訳結果を出力するよう翻訳器を最適化することが可能となり，効率的に言語横断質問応答の精度を向上させることが可能であると考えられる．さらに，質問と正解の並列コーパスではなく，比較的容易に整備できる対訳コーパスを用いて翻訳器を最適化することができるため，より容易に大規模なデータで学習を行うことができると考えられる．本研究では，どのような翻訳結果が知識ベースを用いた言語横断質問応答に適しているかを明らかにするため，知識ベースを利用する質問応答システムを用いて2つの調査を行う．1つ目の調査では，言語横断質問応答精度に寄与する翻訳結果の特徴を調べ，2つ目の調査では，自動評価尺度を用いて翻訳結果のリランキングを行うことによる質問応答精度の変化を調べる．調査を行うため，異なる特徴を持つ様々な翻訳システムを用いて，言語横断質問応答データセットを作成する（節）．作成したデータセットに対し，節に述べる質問応答システムを用いて質問応答を行い，翻訳精度（節）と質問応答精度（節）との関係を分析する（節）．また，個別の質問応答事例について人手による分析を行い，翻訳結果がどのように質問応答結果に影響するかを考察する（節）．さらに，節および節における分析結果から明らかとなった，質問応答精度と高い相関を持つ自動評価尺度を利用して，	翻訳Nベストの中から翻訳結果を選択することによって，質問応答精度がどのように変化するかを調べる（節）．このようにして得られる知見は日英という言語対に限られたものとなるため，さらに一般化するために様々な言語対で言語横断質問応答を行い，言語対による影響を調査する（節）．最後に，言語横断質問応答に適した機械翻訳システムを実際に構築する際に有用な知見をまとめ，今後の展望を述べて本論文の結言とする（節）．</section>
  <section title="本調査の概観">本論文では2種類の調査を行う．1つ目は言語横断質問応答に対する翻訳結果の影響に関する調査である．翻訳結果の訳質評価結果と言語横断質問応答精度の関係を求め，その結果からどのような特徴を持つ翻訳結果が言語横断質問応答に適しているかを明らかにする．2つ目は1つ目の調査結果から，言語横断質問応答に適応した翻訳をできるかについての調査である．具体的には1つ目の調査で質問応答精度との相関が高かったスコアを用いて翻訳結果のリランキングを行い，質問応答精度がどのように変化するかについて調べる．これにより，質問応答精度との相関が高いスコアを用いた翻訳結果によって質問応答精度を改善できることを確認する．</section>
  <subsection title="言語横断質問応答精度に影響する翻訳結果の調査">1つ目の調査では，翻訳結果がどのように言語横断質問応答精度に影響を与えるかを調べる．実験の概要を図に示す．本調査は，以下の手順で行う．	</subsection>
  <subsection title="自動評価尺度を用いた翻訳結果選択による質問応答精度改善">前節に述べた実験により得た知見を元に，できる限り既存の資源・システムを用いて言語横断質問応答精度を向上させる可能性を探る．図に調査方法の概要を示す．まず，翻訳結果をもっともらしいものからN通り出力するNベスト出力を行う．質問応答精度と高い相関を持つ評価尺度を用いて，Nベストから翻訳結果を選択することによって質問応答精度の向上が見られれば，そのような評価尺度が高くなるように翻訳結果を選択することで質問応答システムの精度が向上することが期待できる．</subsection>
  <section title="データセット作成">本調査では，日英言語横断質問応答を想定した実験を行うため，基本となる英語質問応答セットとそれを和訳した日本語質問応答セット，日本語質問応答セットから翻訳された英語質問応答セットという3種類の質問応答セットを用いた．本節では，これらのデータセットの作成方法について述べる．</section>
  <subsection title="作成手順">基本となる英語質問セットとして，Free917~を用いた．Free917はFreebaseと呼ばれる大規模知識ベースを用いた質問応答のために作成されており，知識ベースを用いた質問応答の研究に広く利用されている~．このデータセットは917対の英語質問文と正解で構成され，各正解はFreebaseのクエリの形で与えられている．先行研究~に従い，このデータセットをtrainセット（512対），devセット（129対），testセット（276対）に分割した．以降，この翻訳前のtestセットをORセットと呼ぶ．まず，ORセットに含まれる質問文を和訳し，日本語質問セット（JAセット）とした．和訳は，1名による人手翻訳で行った．なお，今回は日本語の人手翻訳を各セットに対して1通りのみ用意するが，この人手翻訳における微妙なニュアンスが以降の機械翻訳に影響を与える可能性がある．次に，JAセットに含まれる質問文を後述する5種類の翻訳手法によって翻訳し，各英語質問セット(HT,GT,YT,Mo,Tra)を作成した．質問応答セットの一部を表1に示す．</subsection>
  <subsection title="比較した翻訳手法">本節では，質問セット作成で比較のため用いた5種類の翻訳手法について述べる．</subsection>
  <section title="質問応答システム">本研究では，質問応答を行うためにSEMPREという質問応答フレームワークを利用した．SEMPREは，大規模知識ベースを利用し，高水準な質問応答精度が示されている~．本節ではSEMPREの動作を述べ，言語横断質問応答に利用する場合に，どのような翻訳が各動作に影響を与えるかを考察する．図にSEMPREフレームワークの動作例を示し，その動作についてアライメント，ブリッジング，スコアリングの三段階に分けて説明する．</section>
  <section title="実験">本実験では，言語横断質問応答においてどのような翻訳の要因が質問応答精度に影響を及ぼすかを調査した．そのために，節で述べたデータセットと節で述べた質問応答システムを用い，日本語の質問文を翻訳システムで英語の質問文に変換し，英語の単言語質問応答器によって解答を得るという状況を想定した実験を行った．</section>
  <subsection title="実験1: 翻訳された質問セットの訳質評価">翻訳精度と質問応答精度の関係を調査するため，まず翻訳結果の訳質を評価した．</subsection>
  <subsubsection title="実験設定">本実験では，JAセットの質問文から翻訳された5つの英語質問応答セットに含まれる質問文の訳質をいくつかの自動評価尺度および人手評価によって評価した．自動評価尺度の参照訳としては，ORセットの質問文を用いた．これは，JAセットの質問文の理想的な英訳がORセットの質問文であると仮定することに相当する．評価尺度には，4つの訳質自動評価尺度(BLEU+1~，NIST~，RIBES~，WER~)と，人手による許容性評価(Acceptability)~を用いた．</subsubsection>
  <subsubsection title="実験結果">JAセットの質問文を入力とし，ORセットの質問文を参照訳とした時の各翻訳結果の評価値を図に示す．図より，人手翻訳の訳質は全ての評価尺度において機械翻訳のものよりも高いことが読み取れる．次に，GTとYTに着目すると，BLEUとNISTではGTが高く，RIBESと許容性ではYTが高い．これは先行研究~と同様の結果となっており，日英翻訳でのRIBESと人手評価による許容性との相関が高いという特性が確認された．また，MoとTraを比べると，Traの翻訳精度が劣っている．通常，日英間の翻訳では，文構造を捉えるTree-to-string翻訳の精度が比較的良くなるとされているが，今回は翻訳対象が質問文であるため，通常と異なる文型に偏っていることと，	各入力文がそれほど長くなく構造が単純である傾向があるため，文構造を捉える長所が生かされなかったことなどが原因と考えられる．次節で，このような特性が人間相手ではなく質問応答システムの入力として用いた場合でも同様に現れるかどうかを検証する．</subsubsection>
  <subsection title="実験2: 翻訳された質問セットを用いた質問応答">次に，翻訳精度との関係を調査するため，作成したデータセットを用いて質問応答を行い，質問応答精度を測定した．</subsection>
  <subsection title="質問応答精度と機械翻訳自動評価尺度の関係">質問応答精度に影響を及ぼす翻訳結果の要因をより詳細に分析するため，訳質評価値と質問応答精度の相関を文単位で分析した．まず，図に示すように，質問応答用に作成されたデータセット（ORセット）であっても約半数の質問は正解できていない．参照訳で正解できていない質問は翻訳の結果に関わらず正解することが難しいと考え，質問を2つのグループに分けた．「正解グループ」は，ORセットにおいて正解することができた141問の翻訳結果1415=705問からなるグループであり，「不正解グループ」は残りの123問の翻訳結果1235=615問からなるグループである．正解グループにおける質問応答精度と訳質評価値の関係を図に示す．このグラフにおいて，棒グラフは評価値に対する質問数の分布を表し，折れ線グラフは評価値に対する正答率の変化を表す．例えば，BLEU+1の値が0.2--0.3の質問は正解グループの内30%ほどを占め，それらの質問の正答率は35%程度である．図中のR^2は決定係数である．決定係数は，線形回帰における全変動に対する回帰変動の割合を示し，値が1に近いほどよく当てはまる回帰直線であることを示す．この図より，本実験に使用した全ての評価尺度は質問応答精度と相関を持ち，言語横断質問応答において訳質は重要であることを示している．また，質問応答精度はNISTスコアと最も高い決定係数を示した．前述したように，NISTスコアは単語の出現頻度を考慮した尺度であり，機能語よりも内容語を重要視する特徴を持つ．この結果から，内容語が言語横断質問応答において重要な役割を持つことが確認でき，これを考慮した翻訳を行うことで質問応答精度が改善できると考えられる．これは，内容語が節に述べたアライメントにおける論理式選択において重要であることを考えると自然な結果と言える．また，NISTスコアによってこの影響を自動的に適切に評価できる可能性もこの結果から読み取れる．一方で，人手評価との相関が高かったRIBESは，質問応答精度においては決定係数が低いという結果となった．つまり，大域的な語順が言語横断質問応答のための翻訳にはそれほど重要ではない可能性があると言える．これらの結果を合わせると，語順に影響を受けやすいブリッジングよりも，単語の変化に影響を受けやすいアライメントの方が誤りに敏感であると考えられる．Acceptabilityの図に着目すると，1→2と3→4で精度の上昇の幅が大きく，2→3や4→5ではほとんど変化していない．Acceptabilityにおける評価値1は，「重要な情報が欠落しているか，内容が理解できない文」であることを示し，評価値2は「重要な情報が含まれており内容も理解できるが，文法的に誤っており理解が困難な文」であることを表す．このことからも，重要な情報や内容が欠落することは質問応答の精度に大きな影響を与えることがわかる．評価値2と3の差異は「容易に理解できるかどうか」である．この2つの評価値間で質問応答精度が大きく変わらないことは，人間にとっての理解の容易さは，質問応答精度の向上にはそれほど寄与しない可能性を示唆している．評価値3と4の差異は「文法的に正しいかどうか」である．この2つの間でも精度が大きく上昇しており文法が重要な可能性があるが，評価値4と評価された文が少ないため誤差が含まれている可能性もある．この点については後の分析で述べる．評価値4と5の差異は「ネイティブレベルの英語かどうか」である．この間では質問応答精度がほとんど変わらず，評価値5の方が少し下がる傾向が見られた．前述したように評価値4の文が少ないことによる誤差の可能性もあるが，ネイティブに用いられる言い回しが質問応答器にとっては逆効果となっている可能性も考えられる．次に，不正解グループにおける訳質評価値と質問応答精度の関係を図に示す．不正解グループにおいては，全ての自動評価尺度において正解グループと比較して決定係数が低いという結果となった．この結果より，参照訳で質問応答器が解答できない問題では，翻訳を改善することで正解率を向上させるのが難しいということが言える．これは，言語横断質問応答のための翻訳器を評価する際の参照訳は質問応答器で正解可能であることが望ましいと言うこともできる．また，質問応答成功率を予測できれば，質問応答成功率が高い文を参照訳として機械翻訳を最適化することでこの問題を軽減できると考えられる．しかし，正解グループ・不正解グループのどちらにおいても，訳質評価尺度の値に対する質問数の分布は似通っており，訳質評価尺度でこの問題を解決することは困難であると考えられる．</subsection>
  <subsection title="質問応答事例分析">本節では，翻訳によって質問応答の結果が変化した例を挙げながら，どのような翻訳結果の要因が影響しているかを考察する．内容語の変化による質問応答結果の変化の例を表に示す．第1列は，各質問文での質問応答が成功したかどうかを表す記号であり，が成功，が失敗を表す．表の1つ目の例では，``interstate579''という内容語が翻訳によって様々に変化している（``interstatehighway579''，``expressway579''など）．ORとTraの文のみが``interstate579''というフレーズを含んでおり，これらを入力とした場合のみ正しく答えることができている．出力された論理式を見比べると，不正解であった質問文ではinterstate_579のエンティティが含まれておらず，別のエンティティに変換されていた．例えば，HTに含まれる``interstatehighway579''というフレーズはinterstate_highwayという音楽アルバムのエンティティに変換されていた．2つ目の例も同様に，``librettist''という内容語が翻訳によって様々に変化し，不正解となっている．ここで，``librettistmagicflute''という質問文を作成し質問応答を行ったところ正解することができたが，``whomademagicflute''では不正解であったことから，``librettist''が重要な語であることがわかる．この例でも1つ目の例と同様に，librettistというFreebase内のプロパティと一致する表現を含むことが質問応答の精度に寄与することが示唆される例である．このような例から，内容語が変化することでアライメントが失敗し，正しいエンティティが生成されないことや誤ったエンティティが生成されることが重要な問題であることが確認できる．この問題は，正しいエンティティと結びつきやすい内容語の表現を翻訳の過程で考慮することで改善できる可能性がある．また，これらの結果は本実験で使用した質問応答器の問題であるとも考えられ，言い換えを考慮できる質問応答器を用いることでも改善できる可能性がある．次に，質問タイプを表す語の誤訳が質問応答結果の変化の原因となる例を表に示す．1つ目の例では，内容語と考えられる``tv(television)programs''，``dannydevito''（YTは綴りミスあり），``produce(d)''の3つは全ての翻訳結果に含まれているが，HT以外は正解できていなかった．正解できた質問文とそれ以外の質問文を比較すると，``howmany''という質問タイプを表す語を含んでいることが必要であると考えられる．GTやMoの質問文に対する解答を確認したところ，番組名をリストアップして答えており，正解とされる数と同じ数だけ答えていた．この例より，解答の形式を変化させるような質問タイプを示す語を，正確に翻訳する必要があることがわかる．一方で，2つ目の例では，``what''や``which''といった語が含まれていないMoの質問文でも正解することができている．この例より，質問タイプを表す語であっても重要度が低いものがあると考えられる．したがって，言語横断質問応答のための翻訳器は，解答の形式を変えるような質問タイプ語の一致を重視することが求められる．質問タイプを表す語は内容語と異なり頻出するため，NISTスコアのように頻度に基づいて重要度を決めることは難しく，質問応答固有の指標が必要であると考えられる．文法や語順に関連する例を表に示す．1つ目の例では，YT以外の機械翻訳の結果は文法が整っていないにも関わらず全て正解している．一方，2つ目の例では，ORとHTでは文法が正しいにも関わらず不正解となっている．ORとHTの質問応答の結果を調べると，ベーブルースの打撃成績を出力していた．これは，``baberuth''と``play''が隣接しており，ブリッジングの際に結びついたためと考えられる．これらの例は，少なくともFree917に含まれるような単純な事実型質問においては，語順を正しく捉えることは質問応答精度の向上の観点からは必ずしも重要でないことを示している．ただし，より複雑な事実型質問や，非事実型質問に対して解答する際には，誤った語順の影響が強くなる可能性は否定できない．これらの例は，使用した質問応答システムが語順の影響を受けづらいものであったことによる可能性も考えられる．これを明らかにするためには様々な質問応答システムを用いて実験を行うことが必要であるが，それは今後の課題とする．節で述べたように，人間にとってわかりやすい翻訳が質問応答にも成功しやすい翻訳とは限らない可能性がある．実際に質問応答の結果を見ると，質問応答の正誤とAcceptabilityの評価が反する例が確認された．その一例を表に示す．1つ目の例では，``doyou''というフレーズを含むことによって文章の意味が変わっているためAcceptabilityは1と評価されているが，質問応答では正解できている．この例では内容語は正しく翻訳できており，``doyou''というフレーズを無視することができたため正解することができたと考えられる．2つ目の例では，主に前置詞の意味の違いによって，GTは2という低い評価が付けられている．一方でYTはGTと比較して意味的に正しく翻訳されており3と評価されているが，質問応答の結果は不正解であった．質問応答の過程を見ると，ORとGTの文からはareasというテーマパークのエリアを示すプロパティが得られたのに対し，YTの文からはareaという面積を示すプロパティが得られていた．このことから，意味的に正しい文であることよりも内容語の表層的な一致がより重要であることがわかる．3つ目の例では，YTは固有名詞である``mannypacquiao''を``manniepacquiao''としており，質問応答結果が不正解となっている．人間が固有名詞を判断するときには少々の誤字が含まれていたとしても読み取れることから，YTの文に3という評価値が付けられたと考えられるが，機械による質問応答においては，特に固有名詞中の誤字は重大な問題であることがこの例により示唆される．</subsection>
  <subsection title="実験3: 自動評価尺度を用いてリスコアリングされた翻訳結果を用いた質問応答">節，節の分析の結果，質問応答精度と最も高い相関を持つ自動評価尺度はNISTスコアであった．したがって，NISTスコアが高評価となるよう翻訳システムを学習させることで，質問応答に適した翻訳システムとなる可能性がある．そこでまず，多数の翻訳結果からNISTスコアが最も高い翻訳結果を選択することで，質問応答精度が向上するかどうかを調べる．</subsection>
  <section title="まとめ">本研究では，言語横断質問応答システムの精度を向上させるため，翻訳結果が質問応答の結果に与える影響を調査した．具体的には，翻訳精度評価（節）と言語横断質問応答精度の評価（節）を行い，両者の関係を分析した（節）．その結果，内容語の一致を重視するNISTスコアが質問応答精度と高い相関を持つことがわかった．これは質問応答において内容語が重要であるという直感にも合致する結果である．一方で，人手評価がNISTスコアやBLEU+1といった自動評価よりも相関が低いこともわかった．この結果より，人間が正しいと評価する翻訳が必ずしも質問応答に適しているとは限らないという知見が得られた．この結果に対して，質問応答結果の事例分析（節）を行ったところ，以下の2つのことがわかった．1つ目は，人間が正しいと評価した内容語でも質問応答システムが正しく解答できない場合もあり，翻訳結果に含まれる内容語の正しさの評価基準は人間と質問応答システムで必ずしも一致しないということがわかった．2つ目は，質問タイプを表す語の中には，正しい解答を出すために重要な語と重要でない語があることがわかった．具体的には，``howmany''など解答の形式を変化させる語は正しい翻訳が必須であり，``what''や``which''などの語は翻訳結果に含まれていなくても正しく解答することができている例が確認できた．また，NISTスコアに基づいて選択された翻訳結果の質問応答実験（節）により，内容語に重点を置いた翻訳結果を使用することで言語横断質問応答精度が改善されることがわかった．この結果から，機械翻訳器の最適化を行うことで，言語横断質問応答の精度を改善できる可能性を示した．最後に，日英以外の言語対における言語横断質問応答実験（節）では，日英以外の3言語対においても日英と同様に内容語を重視する訳質評価尺度が質問応答精度と相関が高い傾向が見られた．このことから，内容語を重視した訳質評価尺度と質問応答精度が高い相関を持つという知見は多くの言語対で見られ，一般性のある知見であることが示された．今後の課題としては，様々な言語対および質問応答システムを用いた言語横断質問応答を行うことでより一般性のある知見を得ることや，質問応答精度と高い相関を持つ評価尺度の作成，そのような尺度を用いて機械翻訳器を最適化することによる質問応答精度の変化を確認することなどが挙げられる．</section>
</root>
